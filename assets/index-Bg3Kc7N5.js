var hk=Object.defineProperty;var fk=(t,e,n)=>e in t?hk(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var re=(t,e,n)=>fk(t,typeof e!="symbol"?e+"":e,n);function pk(t,e){for(var n=0;n<e.length;n++){const s=e[n];if(typeof s!="string"&&!Array.isArray(s)){for(const r in s)if(r!=="default"&&!(r in t)){const i=Object.getOwnPropertyDescriptor(s,r);i&&Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:()=>s[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();var Wt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function mk(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function gk(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function s(){return this instanceof s?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(s){var r=Object.getOwnPropertyDescriptor(t,s);Object.defineProperty(n,s,r.get?r:{enumerable:!0,get:function(){return t[s]}})}),n}var Q0={exports:{}},Bc={},Z0={exports:{}},_e={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pa=Symbol.for("react.element"),yk=Symbol.for("react.portal"),vk=Symbol.for("react.fragment"),xk=Symbol.for("react.strict_mode"),_k=Symbol.for("react.profiler"),bk=Symbol.for("react.provider"),wk=Symbol.for("react.context"),kk=Symbol.for("react.forward_ref"),Sk=Symbol.for("react.suspense"),jk=Symbol.for("react.memo"),Ck=Symbol.for("react.lazy"),Xp=Symbol.iterator;function Ek(t){return t===null||typeof t!="object"?null:(t=Xp&&t[Xp]||t["@@iterator"],typeof t=="function"?t:null)}var ey={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ty=Object.assign,ny={};function Yi(t,e,n){this.props=t,this.context=e,this.refs=ny,this.updater=n||ey}Yi.prototype.isReactComponent={};Yi.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Yi.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function sy(){}sy.prototype=Yi.prototype;function qh(t,e,n){this.props=t,this.context=e,this.refs=ny,this.updater=n||ey}var Kh=qh.prototype=new sy;Kh.constructor=qh;ty(Kh,Yi.prototype);Kh.isPureReactComponent=!0;var Qp=Array.isArray,ry=Object.prototype.hasOwnProperty,Jh={current:null},iy={key:!0,ref:!0,__self:!0,__source:!0};function oy(t,e,n){var s,r={},i=null,o=null;if(e!=null)for(s in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)ry.call(e,s)&&!iy.hasOwnProperty(s)&&(r[s]=e[s]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}if(t&&t.defaultProps)for(s in a=t.defaultProps,a)r[s]===void 0&&(r[s]=a[s]);return{$$typeof:Pa,type:t,key:i,ref:o,props:r,_owner:Jh.current}}function Mk(t,e){return{$$typeof:Pa,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Xh(t){return typeof t=="object"&&t!==null&&t.$$typeof===Pa}function Dk(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Zp=/\/+/g;function Iu(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Dk(""+t.key):e.toString(36)}function Hl(t,e,n,s,r){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Pa:case yk:o=!0}}if(o)return o=t,r=r(o),t=s===""?"."+Iu(o,0):s,Qp(r)?(n="",t!=null&&(n=t.replace(Zp,"$&/")+"/"),Hl(r,e,n,"",function(u){return u})):r!=null&&(Xh(r)&&(r=Mk(r,n+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(Zp,"$&/")+"/")+t)),e.push(r)),1;if(o=0,s=s===""?".":s+":",Qp(t))for(var a=0;a<t.length;a++){i=t[a];var l=s+Iu(i,a);o+=Hl(i,e,n,l,r)}else if(l=Ek(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=s+Iu(i,a++),o+=Hl(i,e,n,l,r);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function ll(t,e,n){if(t==null)return t;var s=[],r=0;return Hl(t,s,"","",function(i){return e.call(n,i,r++)}),s}function Nk(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Nt={current:null},Yl={transition:null},Pk={ReactCurrentDispatcher:Nt,ReactCurrentBatchConfig:Yl,ReactCurrentOwner:Jh};function ay(){throw Error("act(...) is not supported in production builds of React.")}_e.Children={map:ll,forEach:function(t,e,n){ll(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ll(t,function(){e++}),e},toArray:function(t){return ll(t,function(e){return e})||[]},only:function(t){if(!Xh(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};_e.Component=Yi;_e.Fragment=vk;_e.Profiler=_k;_e.PureComponent=qh;_e.StrictMode=xk;_e.Suspense=Sk;_e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Pk;_e.act=ay;_e.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var s=ty({},t.props),r=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Jh.current),e.key!==void 0&&(r=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)ry.call(e,l)&&!iy.hasOwnProperty(l)&&(s[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];s.children=a}return{$$typeof:Pa,type:t.type,key:r,ref:i,props:s,_owner:o}};_e.createContext=function(t){return t={$$typeof:wk,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:bk,_context:t},t.Consumer=t};_e.createElement=oy;_e.createFactory=function(t){var e=oy.bind(null,t);return e.type=t,e};_e.createRef=function(){return{current:null}};_e.forwardRef=function(t){return{$$typeof:kk,render:t}};_e.isValidElement=Xh;_e.lazy=function(t){return{$$typeof:Ck,_payload:{_status:-1,_result:t},_init:Nk}};_e.memo=function(t,e){return{$$typeof:jk,type:t,compare:e===void 0?null:e}};_e.startTransition=function(t){var e=Yl.transition;Yl.transition={};try{t()}finally{Yl.transition=e}};_e.unstable_act=ay;_e.useCallback=function(t,e){return Nt.current.useCallback(t,e)};_e.useContext=function(t){return Nt.current.useContext(t)};_e.useDebugValue=function(){};_e.useDeferredValue=function(t){return Nt.current.useDeferredValue(t)};_e.useEffect=function(t,e){return Nt.current.useEffect(t,e)};_e.useId=function(){return Nt.current.useId()};_e.useImperativeHandle=function(t,e,n){return Nt.current.useImperativeHandle(t,e,n)};_e.useInsertionEffect=function(t,e){return Nt.current.useInsertionEffect(t,e)};_e.useLayoutEffect=function(t,e){return Nt.current.useLayoutEffect(t,e)};_e.useMemo=function(t,e){return Nt.current.useMemo(t,e)};_e.useReducer=function(t,e,n){return Nt.current.useReducer(t,e,n)};_e.useRef=function(t){return Nt.current.useRef(t)};_e.useState=function(t){return Nt.current.useState(t)};_e.useSyncExternalStore=function(t,e,n){return Nt.current.useSyncExternalStore(t,e,n)};_e.useTransition=function(){return Nt.current.useTransition()};_e.version="18.3.1";Z0.exports=_e;var D=Z0.exports;const Qh=mk(D),Tk=pk({__proto__:null,default:Qh},[D]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ok=D,Ak=Symbol.for("react.element"),Rk=Symbol.for("react.fragment"),Lk=Object.prototype.hasOwnProperty,Ik=Ok.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Fk={key:!0,ref:!0,__self:!0,__source:!0};function ly(t,e,n){var s,r={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(s in e)Lk.call(e,s)&&!Fk.hasOwnProperty(s)&&(r[s]=e[s]);if(t&&t.defaultProps)for(s in e=t.defaultProps,e)r[s]===void 0&&(r[s]=e[s]);return{$$typeof:Ak,type:t,key:i,ref:o,props:r,_owner:Ik.current}}Bc.Fragment=Rk;Bc.jsx=ly;Bc.jsxs=ly;Q0.exports=Bc;var f=Q0.exports,cy={exports:{}},Jt={},uy={exports:{}},dy={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(G,J){var te=G.length;G.push(J);e:for(;0<te;){var W=te-1>>>1,ae=G[W];if(0<r(ae,J))G[W]=J,G[te]=ae,te=W;else break e}}function n(G){return G.length===0?null:G[0]}function s(G){if(G.length===0)return null;var J=G[0],te=G.pop();if(te!==J){G[0]=te;e:for(var W=0,ae=G.length,P=ae>>>1;W<P;){var Y=2*(W+1)-1,L=G[Y],pe=Y+1,nt=G[pe];if(0>r(L,te))pe<ae&&0>r(nt,L)?(G[W]=nt,G[pe]=te,W=pe):(G[W]=L,G[Y]=te,W=Y);else if(pe<ae&&0>r(nt,te))G[W]=nt,G[pe]=te,W=pe;else break e}}return J}function r(G,J){var te=G.sortIndex-J.sortIndex;return te!==0?te:G.id-J.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,p=null,g=3,v=!1,_=!1,k=!1,S=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(G){for(var J=n(u);J!==null;){if(J.callback===null)s(u);else if(J.startTime<=G)s(u),J.sortIndex=J.expirationTime,e(l,J);else break;J=n(u)}}function E(G){if(k=!1,j(G),!_)if(n(l)!==null)_=!0,fe(M);else{var J=n(u);J!==null&&ye(E,J.startTime-G)}}function M(G,J){_=!1,k&&(k=!1,x(T),T=-1),v=!0;var te=g;try{for(j(J),p=n(l);p!==null&&(!(p.expirationTime>J)||G&&!se());){var W=p.callback;if(typeof W=="function"){p.callback=null,g=p.priorityLevel;var ae=W(p.expirationTime<=J);J=t.unstable_now(),typeof ae=="function"?p.callback=ae:p===n(l)&&s(l),j(J)}else s(l);p=n(l)}if(p!==null)var P=!0;else{var Y=n(u);Y!==null&&ye(E,Y.startTime-J),P=!1}return P}finally{p=null,g=te,v=!1}}var O=!1,A=null,T=-1,q=5,z=-1;function se(){return!(t.unstable_now()-z<q)}function ie(){if(A!==null){var G=t.unstable_now();z=G;var J=!0;try{J=A(!0,G)}finally{J?me():(O=!1,A=null)}}else O=!1}var me;if(typeof w=="function")me=function(){w(ie)};else if(typeof MessageChannel<"u"){var ue=new MessageChannel,he=ue.port2;ue.port1.onmessage=ie,me=function(){he.postMessage(null)}}else me=function(){S(ie,0)};function fe(G){A=G,O||(O=!0,me())}function ye(G,J){T=S(function(){G(t.unstable_now())},J)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(G){G.callback=null},t.unstable_continueExecution=function(){_||v||(_=!0,fe(M))},t.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<G?Math.floor(1e3/G):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(G){switch(g){case 1:case 2:case 3:var J=3;break;default:J=g}var te=g;g=J;try{return G()}finally{g=te}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(G,J){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var te=g;g=G;try{return J()}finally{g=te}},t.unstable_scheduleCallback=function(G,J,te){var W=t.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?W+te:W):te=W,G){case 1:var ae=-1;break;case 2:ae=250;break;case 5:ae=1073741823;break;case 4:ae=1e4;break;default:ae=5e3}return ae=te+ae,G={id:d++,callback:J,priorityLevel:G,startTime:te,expirationTime:ae,sortIndex:-1},te>W?(G.sortIndex=te,e(u,G),n(l)===null&&G===n(u)&&(k?(x(T),T=-1):k=!0,ye(E,te-W))):(G.sortIndex=ae,e(l,G),_||v||(_=!0,fe(M))),G},t.unstable_shouldYield=se,t.unstable_wrapCallback=function(G){var J=g;return function(){var te=g;g=J;try{return G.apply(this,arguments)}finally{g=te}}}})(dy);uy.exports=dy;var $k=uy.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zk=D,Kt=$k;function U(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var hy=new Set,ta={};function Hr(t,e){Ai(t,e),Ai(t+"Capture",e)}function Ai(t,e){for(ta[t]=e,t=0;t<e.length;t++)hy.add(e[t])}var ls=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Od=Object.prototype.hasOwnProperty,Bk=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,em={},tm={};function Uk(t){return Od.call(tm,t)?!0:Od.call(em,t)?!1:Bk.test(t)?tm[t]=!0:(em[t]=!0,!1)}function Wk(t,e,n,s){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Hk(t,e,n,s){if(e===null||typeof e>"u"||Wk(t,e,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Pt(t,e,n,s,r,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=s,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var gt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){gt[t]=new Pt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];gt[e]=new Pt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){gt[t]=new Pt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){gt[t]=new Pt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){gt[t]=new Pt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){gt[t]=new Pt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){gt[t]=new Pt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){gt[t]=new Pt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){gt[t]=new Pt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Zh=/[\-:]([a-z])/g;function ef(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Zh,ef);gt[e]=new Pt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Zh,ef);gt[e]=new Pt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Zh,ef);gt[e]=new Pt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){gt[t]=new Pt(t,1,!1,t.toLowerCase(),null,!1,!1)});gt.xlinkHref=new Pt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){gt[t]=new Pt(t,1,!1,t.toLowerCase(),null,!0,!0)});function tf(t,e,n,s){var r=gt.hasOwnProperty(e)?gt[e]:null;(r!==null?r.type!==0:s||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Hk(e,n,r,s)&&(n=null),s||r===null?Uk(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=n===null?r.type===3?!1:"":n:(e=r.attributeName,s=r.attributeNamespace,n===null?t.removeAttribute(e):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,s?t.setAttributeNS(s,e,n):t.setAttribute(e,n))))}var fs=zk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,cl=Symbol.for("react.element"),hi=Symbol.for("react.portal"),fi=Symbol.for("react.fragment"),nf=Symbol.for("react.strict_mode"),Ad=Symbol.for("react.profiler"),fy=Symbol.for("react.provider"),py=Symbol.for("react.context"),sf=Symbol.for("react.forward_ref"),Rd=Symbol.for("react.suspense"),Ld=Symbol.for("react.suspense_list"),rf=Symbol.for("react.memo"),Ps=Symbol.for("react.lazy"),my=Symbol.for("react.offscreen"),nm=Symbol.iterator;function po(t){return t===null||typeof t!="object"?null:(t=nm&&t[nm]||t["@@iterator"],typeof t=="function"?t:null)}var Ve=Object.assign,Fu;function Mo(t){if(Fu===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Fu=e&&e[1]||""}return`
`+Fu+t}var $u=!1;function zu(t,e){if(!t||$u)return"";$u=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var s=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){s=u}t.call(e.prototype)}else{try{throw Error()}catch(u){s=u}t()}}catch(u){if(u&&s&&typeof u.stack=="string"){for(var r=u.stack.split(`
`),i=s.stack.split(`
`),o=r.length-1,a=i.length-1;1<=o&&0<=a&&r[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(r[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||r[o]!==i[a]){var l=`
`+r[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{$u=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Mo(t):""}function Yk(t){switch(t.tag){case 5:return Mo(t.type);case 16:return Mo("Lazy");case 13:return Mo("Suspense");case 19:return Mo("SuspenseList");case 0:case 2:case 15:return t=zu(t.type,!1),t;case 11:return t=zu(t.type.render,!1),t;case 1:return t=zu(t.type,!0),t;default:return""}}function Id(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case fi:return"Fragment";case hi:return"Portal";case Ad:return"Profiler";case nf:return"StrictMode";case Rd:return"Suspense";case Ld:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case py:return(t.displayName||"Context")+".Consumer";case fy:return(t._context.displayName||"Context")+".Provider";case sf:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case rf:return e=t.displayName||null,e!==null?e:Id(t.type)||"Memo";case Ps:e=t._payload,t=t._init;try{return Id(t(e))}catch{}}return null}function Vk(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Id(e);case 8:return e===nf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Zs(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function gy(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Gk(t){var e=gy(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),s=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(o){s=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(o){s=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ul(t){t._valueTracker||(t._valueTracker=Gk(t))}function yy(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),s="";return t&&(s=gy(t)?t.checked?"true":"false":t.value),t=s,t!==n?(e.setValue(t),!0):!1}function ac(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Fd(t,e){var n=e.checked;return Ve({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function sm(t,e){var n=e.defaultValue==null?"":e.defaultValue,s=e.checked!=null?e.checked:e.defaultChecked;n=Zs(e.value!=null?e.value:n),t._wrapperState={initialChecked:s,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function vy(t,e){e=e.checked,e!=null&&tf(t,"checked",e,!1)}function $d(t,e){vy(t,e);var n=Zs(e.value),s=e.type;if(n!=null)s==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(s==="submit"||s==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?zd(t,e.type,n):e.hasOwnProperty("defaultValue")&&zd(t,e.type,Zs(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function rm(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var s=e.type;if(!(s!=="submit"&&s!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function zd(t,e,n){(e!=="number"||ac(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Do=Array.isArray;function ji(t,e,n,s){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&s&&(t[n].defaultSelected=!0)}else{for(n=""+Zs(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,s&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function Bd(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(U(91));return Ve({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function im(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(U(92));if(Do(n)){if(1<n.length)throw Error(U(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Zs(n)}}function xy(t,e){var n=Zs(e.value),s=Zs(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),s!=null&&(t.defaultValue=""+s)}function om(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function _y(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ud(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?_y(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var dl,by=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,s,r){MSApp.execUnsafeLocalFunction(function(){return t(e,n,s,r)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(dl=dl||document.createElement("div"),dl.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=dl.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function na(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Lo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qk=["Webkit","ms","Moz","O"];Object.keys(Lo).forEach(function(t){qk.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Lo[e]=Lo[t]})});function wy(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Lo.hasOwnProperty(t)&&Lo[t]?(""+e).trim():e+"px"}function ky(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var s=n.indexOf("--")===0,r=wy(n,e[n],s);n==="float"&&(n="cssFloat"),s?t.setProperty(n,r):t[n]=r}}var Kk=Ve({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Wd(t,e){if(e){if(Kk[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(U(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(U(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(U(61))}if(e.style!=null&&typeof e.style!="object")throw Error(U(62))}}function Hd(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yd=null;function of(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Vd=null,Ci=null,Ei=null;function am(t){if(t=Aa(t)){if(typeof Vd!="function")throw Error(U(280));var e=t.stateNode;e&&(e=Vc(e),Vd(t.stateNode,t.type,e))}}function Sy(t){Ci?Ei?Ei.push(t):Ei=[t]:Ci=t}function jy(){if(Ci){var t=Ci,e=Ei;if(Ei=Ci=null,am(t),e)for(t=0;t<e.length;t++)am(e[t])}}function Cy(t,e){return t(e)}function Ey(){}var Bu=!1;function My(t,e,n){if(Bu)return t(e,n);Bu=!0;try{return Cy(t,e,n)}finally{Bu=!1,(Ci!==null||Ei!==null)&&(Ey(),jy())}}function sa(t,e){var n=t.stateNode;if(n===null)return null;var s=Vc(n);if(s===null)return null;n=s[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(t=t.type,s=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!s;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(U(231,e,typeof n));return n}var Gd=!1;if(ls)try{var mo={};Object.defineProperty(mo,"passive",{get:function(){Gd=!0}}),window.addEventListener("test",mo,mo),window.removeEventListener("test",mo,mo)}catch{Gd=!1}function Jk(t,e,n,s,r,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var Io=!1,lc=null,cc=!1,qd=null,Xk={onError:function(t){Io=!0,lc=t}};function Qk(t,e,n,s,r,i,o,a,l){Io=!1,lc=null,Jk.apply(Xk,arguments)}function Zk(t,e,n,s,r,i,o,a,l){if(Qk.apply(this,arguments),Io){if(Io){var u=lc;Io=!1,lc=null}else throw Error(U(198));cc||(cc=!0,qd=u)}}function Yr(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Dy(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function lm(t){if(Yr(t)!==t)throw Error(U(188))}function eS(t){var e=t.alternate;if(!e){if(e=Yr(t),e===null)throw Error(U(188));return e!==t?null:t}for(var n=t,s=e;;){var r=n.return;if(r===null)break;var i=r.alternate;if(i===null){if(s=r.return,s!==null){n=s;continue}break}if(r.child===i.child){for(i=r.child;i;){if(i===n)return lm(r),t;if(i===s)return lm(r),e;i=i.sibling}throw Error(U(188))}if(n.return!==s.return)n=r,s=i;else{for(var o=!1,a=r.child;a;){if(a===n){o=!0,n=r,s=i;break}if(a===s){o=!0,s=r,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,s=r;break}if(a===s){o=!0,s=i,n=r;break}a=a.sibling}if(!o)throw Error(U(189))}}if(n.alternate!==s)throw Error(U(190))}if(n.tag!==3)throw Error(U(188));return n.stateNode.current===n?t:e}function Ny(t){return t=eS(t),t!==null?Py(t):null}function Py(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Py(t);if(e!==null)return e;t=t.sibling}return null}var Ty=Kt.unstable_scheduleCallback,cm=Kt.unstable_cancelCallback,tS=Kt.unstable_shouldYield,nS=Kt.unstable_requestPaint,Xe=Kt.unstable_now,sS=Kt.unstable_getCurrentPriorityLevel,af=Kt.unstable_ImmediatePriority,Oy=Kt.unstable_UserBlockingPriority,uc=Kt.unstable_NormalPriority,rS=Kt.unstable_LowPriority,Ay=Kt.unstable_IdlePriority,Uc=null,Rn=null;function iS(t){if(Rn&&typeof Rn.onCommitFiberRoot=="function")try{Rn.onCommitFiberRoot(Uc,t,void 0,(t.current.flags&128)===128)}catch{}}var _n=Math.clz32?Math.clz32:lS,oS=Math.log,aS=Math.LN2;function lS(t){return t>>>=0,t===0?32:31-(oS(t)/aS|0)|0}var hl=64,fl=4194304;function No(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function dc(t,e){var n=t.pendingLanes;if(n===0)return 0;var s=0,r=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~r;a!==0?s=No(a):(i&=o,i!==0&&(s=No(i)))}else o=n&~r,o!==0?s=No(o):i!==0&&(s=No(i));if(s===0)return 0;if(e!==0&&e!==s&&!(e&r)&&(r=s&-s,i=e&-e,r>=i||r===16&&(i&4194240)!==0))return e;if(s&4&&(s|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=s;0<e;)n=31-_n(e),r=1<<n,s|=t[n],e&=~r;return s}function cS(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function uS(t,e){for(var n=t.suspendedLanes,s=t.pingedLanes,r=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-_n(i),a=1<<o,l=r[o];l===-1?(!(a&n)||a&s)&&(r[o]=cS(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function Kd(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Ry(){var t=hl;return hl<<=1,!(hl&4194240)&&(hl=64),t}function Uu(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ta(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-_n(e),t[e]=n}function dS(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var s=t.eventTimes;for(t=t.expirationTimes;0<n;){var r=31-_n(n),i=1<<r;e[r]=0,s[r]=-1,t[r]=-1,n&=~i}}function lf(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var s=31-_n(n),r=1<<s;r&e|t[s]&e&&(t[s]|=e),n&=~r}}var Pe=0;function Ly(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Iy,cf,Fy,$y,zy,Jd=!1,pl=[],Hs=null,Ys=null,Vs=null,ra=new Map,ia=new Map,As=[],hS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function um(t,e){switch(t){case"focusin":case"focusout":Hs=null;break;case"dragenter":case"dragleave":Ys=null;break;case"mouseover":case"mouseout":Vs=null;break;case"pointerover":case"pointerout":ra.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ia.delete(e.pointerId)}}function go(t,e,n,s,r,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:s,nativeEvent:i,targetContainers:[r]},e!==null&&(e=Aa(e),e!==null&&cf(e)),t):(t.eventSystemFlags|=s,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function fS(t,e,n,s,r){switch(e){case"focusin":return Hs=go(Hs,t,e,n,s,r),!0;case"dragenter":return Ys=go(Ys,t,e,n,s,r),!0;case"mouseover":return Vs=go(Vs,t,e,n,s,r),!0;case"pointerover":var i=r.pointerId;return ra.set(i,go(ra.get(i)||null,t,e,n,s,r)),!0;case"gotpointercapture":return i=r.pointerId,ia.set(i,go(ia.get(i)||null,t,e,n,s,r)),!0}return!1}function By(t){var e=Cr(t.target);if(e!==null){var n=Yr(e);if(n!==null){if(e=n.tag,e===13){if(e=Dy(n),e!==null){t.blockedOn=e,zy(t.priority,function(){Fy(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Vl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Xd(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var s=new n.constructor(n.type,n);Yd=s,n.target.dispatchEvent(s),Yd=null}else return e=Aa(n),e!==null&&cf(e),t.blockedOn=n,!1;e.shift()}return!0}function dm(t,e,n){Vl(t)&&n.delete(e)}function pS(){Jd=!1,Hs!==null&&Vl(Hs)&&(Hs=null),Ys!==null&&Vl(Ys)&&(Ys=null),Vs!==null&&Vl(Vs)&&(Vs=null),ra.forEach(dm),ia.forEach(dm)}function yo(t,e){t.blockedOn===e&&(t.blockedOn=null,Jd||(Jd=!0,Kt.unstable_scheduleCallback(Kt.unstable_NormalPriority,pS)))}function oa(t){function e(r){return yo(r,t)}if(0<pl.length){yo(pl[0],t);for(var n=1;n<pl.length;n++){var s=pl[n];s.blockedOn===t&&(s.blockedOn=null)}}for(Hs!==null&&yo(Hs,t),Ys!==null&&yo(Ys,t),Vs!==null&&yo(Vs,t),ra.forEach(e),ia.forEach(e),n=0;n<As.length;n++)s=As[n],s.blockedOn===t&&(s.blockedOn=null);for(;0<As.length&&(n=As[0],n.blockedOn===null);)By(n),n.blockedOn===null&&As.shift()}var Mi=fs.ReactCurrentBatchConfig,hc=!0;function mS(t,e,n,s){var r=Pe,i=Mi.transition;Mi.transition=null;try{Pe=1,uf(t,e,n,s)}finally{Pe=r,Mi.transition=i}}function gS(t,e,n,s){var r=Pe,i=Mi.transition;Mi.transition=null;try{Pe=4,uf(t,e,n,s)}finally{Pe=r,Mi.transition=i}}function uf(t,e,n,s){if(hc){var r=Xd(t,e,n,s);if(r===null)Qu(t,e,s,fc,n),um(t,s);else if(fS(r,t,e,n,s))s.stopPropagation();else if(um(t,s),e&4&&-1<hS.indexOf(t)){for(;r!==null;){var i=Aa(r);if(i!==null&&Iy(i),i=Xd(t,e,n,s),i===null&&Qu(t,e,s,fc,n),i===r)break;r=i}r!==null&&s.stopPropagation()}else Qu(t,e,s,null,n)}}var fc=null;function Xd(t,e,n,s){if(fc=null,t=of(s),t=Cr(t),t!==null)if(e=Yr(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Dy(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return fc=t,null}function Uy(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(sS()){case af:return 1;case Oy:return 4;case uc:case rS:return 16;case Ay:return 536870912;default:return 16}default:return 16}}var $s=null,df=null,Gl=null;function Wy(){if(Gl)return Gl;var t,e=df,n=e.length,s,r="value"in $s?$s.value:$s.textContent,i=r.length;for(t=0;t<n&&e[t]===r[t];t++);var o=n-t;for(s=1;s<=o&&e[n-s]===r[i-s];s++);return Gl=r.slice(t,1<s?1-s:void 0)}function ql(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ml(){return!0}function hm(){return!1}function Xt(t){function e(n,s,r,i,o){this._reactName=n,this._targetInst=r,this.type=s,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ml:hm,this.isPropagationStopped=hm,this}return Ve(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ml)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ml)},persist:function(){},isPersistent:ml}),e}var Vi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hf=Xt(Vi),Oa=Ve({},Vi,{view:0,detail:0}),yS=Xt(Oa),Wu,Hu,vo,Wc=Ve({},Oa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ff,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==vo&&(vo&&t.type==="mousemove"?(Wu=t.screenX-vo.screenX,Hu=t.screenY-vo.screenY):Hu=Wu=0,vo=t),Wu)},movementY:function(t){return"movementY"in t?t.movementY:Hu}}),fm=Xt(Wc),vS=Ve({},Wc,{dataTransfer:0}),xS=Xt(vS),_S=Ve({},Oa,{relatedTarget:0}),Yu=Xt(_S),bS=Ve({},Vi,{animationName:0,elapsedTime:0,pseudoElement:0}),wS=Xt(bS),kS=Ve({},Vi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),SS=Xt(kS),jS=Ve({},Vi,{data:0}),pm=Xt(jS),CS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ES={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},MS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function DS(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=MS[t])?!!e[t]:!1}function ff(){return DS}var NS=Ve({},Oa,{key:function(t){if(t.key){var e=CS[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ql(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ES[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ff,charCode:function(t){return t.type==="keypress"?ql(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ql(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),PS=Xt(NS),TS=Ve({},Wc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),mm=Xt(TS),OS=Ve({},Oa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ff}),AS=Xt(OS),RS=Ve({},Vi,{propertyName:0,elapsedTime:0,pseudoElement:0}),LS=Xt(RS),IS=Ve({},Wc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),FS=Xt(IS),$S=[9,13,27,32],pf=ls&&"CompositionEvent"in window,Fo=null;ls&&"documentMode"in document&&(Fo=document.documentMode);var zS=ls&&"TextEvent"in window&&!Fo,Hy=ls&&(!pf||Fo&&8<Fo&&11>=Fo),gm=" ",ym=!1;function Yy(t,e){switch(t){case"keyup":return $S.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vy(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var pi=!1;function BS(t,e){switch(t){case"compositionend":return Vy(e);case"keypress":return e.which!==32?null:(ym=!0,gm);case"textInput":return t=e.data,t===gm&&ym?null:t;default:return null}}function US(t,e){if(pi)return t==="compositionend"||!pf&&Yy(t,e)?(t=Wy(),Gl=df=$s=null,pi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Hy&&e.locale!=="ko"?null:e.data;default:return null}}var WS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!WS[t.type]:e==="textarea"}function Gy(t,e,n,s){Sy(s),e=pc(e,"onChange"),0<e.length&&(n=new hf("onChange","change",null,n,s),t.push({event:n,listeners:e}))}var $o=null,aa=null;function HS(t){rv(t,0)}function Hc(t){var e=yi(t);if(yy(e))return t}function YS(t,e){if(t==="change")return e}var qy=!1;if(ls){var Vu;if(ls){var Gu="oninput"in document;if(!Gu){var xm=document.createElement("div");xm.setAttribute("oninput","return;"),Gu=typeof xm.oninput=="function"}Vu=Gu}else Vu=!1;qy=Vu&&(!document.documentMode||9<document.documentMode)}function _m(){$o&&($o.detachEvent("onpropertychange",Ky),aa=$o=null)}function Ky(t){if(t.propertyName==="value"&&Hc(aa)){var e=[];Gy(e,aa,t,of(t)),My(HS,e)}}function VS(t,e,n){t==="focusin"?(_m(),$o=e,aa=n,$o.attachEvent("onpropertychange",Ky)):t==="focusout"&&_m()}function GS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Hc(aa)}function qS(t,e){if(t==="click")return Hc(e)}function KS(t,e){if(t==="input"||t==="change")return Hc(e)}function JS(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var wn=typeof Object.is=="function"?Object.is:JS;function la(t,e){if(wn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),s=Object.keys(e);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var r=n[s];if(!Od.call(e,r)||!wn(t[r],e[r]))return!1}return!0}function bm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function wm(t,e){var n=bm(t);t=0;for(var s;n;){if(n.nodeType===3){if(s=t+n.textContent.length,t<=e&&s>=e)return{node:n,offset:e-t};t=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=bm(n)}}function Jy(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Jy(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Xy(){for(var t=window,e=ac();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=ac(t.document)}return e}function mf(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function XS(t){var e=Xy(),n=t.focusedElem,s=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Jy(n.ownerDocument.documentElement,n)){if(s!==null&&mf(n)){if(e=s.start,t=s.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var r=n.textContent.length,i=Math.min(s.start,r);s=s.end===void 0?i:Math.min(s.end,r),!t.extend&&i>s&&(r=s,s=i,i=r),r=wm(n,i);var o=wm(n,s);r&&o&&(t.rangeCount!==1||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),t.removeAllRanges(),i>s?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var QS=ls&&"documentMode"in document&&11>=document.documentMode,mi=null,Qd=null,zo=null,Zd=!1;function km(t,e,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Zd||mi==null||mi!==ac(s)||(s=mi,"selectionStart"in s&&mf(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),zo&&la(zo,s)||(zo=s,s=pc(Qd,"onSelect"),0<s.length&&(e=new hf("onSelect","select",null,e,n),t.push({event:e,listeners:s}),e.target=mi)))}function gl(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var gi={animationend:gl("Animation","AnimationEnd"),animationiteration:gl("Animation","AnimationIteration"),animationstart:gl("Animation","AnimationStart"),transitionend:gl("Transition","TransitionEnd")},qu={},Qy={};ls&&(Qy=document.createElement("div").style,"AnimationEvent"in window||(delete gi.animationend.animation,delete gi.animationiteration.animation,delete gi.animationstart.animation),"TransitionEvent"in window||delete gi.transitionend.transition);function Yc(t){if(qu[t])return qu[t];if(!gi[t])return t;var e=gi[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Qy)return qu[t]=e[n];return t}var Zy=Yc("animationend"),ev=Yc("animationiteration"),tv=Yc("animationstart"),nv=Yc("transitionend"),sv=new Map,Sm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function nr(t,e){sv.set(t,e),Hr(e,[t])}for(var Ku=0;Ku<Sm.length;Ku++){var Ju=Sm[Ku],ZS=Ju.toLowerCase(),e2=Ju[0].toUpperCase()+Ju.slice(1);nr(ZS,"on"+e2)}nr(Zy,"onAnimationEnd");nr(ev,"onAnimationIteration");nr(tv,"onAnimationStart");nr("dblclick","onDoubleClick");nr("focusin","onFocus");nr("focusout","onBlur");nr(nv,"onTransitionEnd");Ai("onMouseEnter",["mouseout","mouseover"]);Ai("onMouseLeave",["mouseout","mouseover"]);Ai("onPointerEnter",["pointerout","pointerover"]);Ai("onPointerLeave",["pointerout","pointerover"]);Hr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Hr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Hr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Hr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Hr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Hr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Po="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),t2=new Set("cancel close invalid load scroll toggle".split(" ").concat(Po));function jm(t,e,n){var s=t.type||"unknown-event";t.currentTarget=n,Zk(s,e,void 0,t),t.currentTarget=null}function rv(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var s=t[n],r=s.event;s=s.listeners;e:{var i=void 0;if(e)for(var o=s.length-1;0<=o;o--){var a=s[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&r.isPropagationStopped())break e;jm(r,a,u),i=l}else for(o=0;o<s.length;o++){if(a=s[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&r.isPropagationStopped())break e;jm(r,a,u),i=l}}}if(cc)throw t=qd,cc=!1,qd=null,t}function Fe(t,e){var n=e[rh];n===void 0&&(n=e[rh]=new Set);var s=t+"__bubble";n.has(s)||(iv(e,t,2,!1),n.add(s))}function Xu(t,e,n){var s=0;e&&(s|=4),iv(n,t,s,e)}var yl="_reactListening"+Math.random().toString(36).slice(2);function ca(t){if(!t[yl]){t[yl]=!0,hy.forEach(function(n){n!=="selectionchange"&&(t2.has(n)||Xu(n,!1,t),Xu(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[yl]||(e[yl]=!0,Xu("selectionchange",!1,e))}}function iv(t,e,n,s){switch(Uy(e)){case 1:var r=mS;break;case 4:r=gS;break;default:r=uf}n=r.bind(null,e,n,t),r=void 0,!Gd||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),s?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function Qu(t,e,n,s,r){var i=s;if(!(e&1)&&!(e&2)&&s!==null)e:for(;;){if(s===null)return;var o=s.tag;if(o===3||o===4){var a=s.stateNode.containerInfo;if(a===r||a.nodeType===8&&a.parentNode===r)break;if(o===4)for(o=s.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===r||l.nodeType===8&&l.parentNode===r))return;o=o.return}for(;a!==null;){if(o=Cr(a),o===null)return;if(l=o.tag,l===5||l===6){s=i=o;continue e}a=a.parentNode}}s=s.return}My(function(){var u=i,d=of(n),p=[];e:{var g=sv.get(t);if(g!==void 0){var v=hf,_=t;switch(t){case"keypress":if(ql(n)===0)break e;case"keydown":case"keyup":v=PS;break;case"focusin":_="focus",v=Yu;break;case"focusout":_="blur",v=Yu;break;case"beforeblur":case"afterblur":v=Yu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=fm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=xS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=AS;break;case Zy:case ev:case tv:v=wS;break;case nv:v=LS;break;case"scroll":v=yS;break;case"wheel":v=FS;break;case"copy":case"cut":case"paste":v=SS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=mm}var k=(e&4)!==0,S=!k&&t==="scroll",x=k?g!==null?g+"Capture":null:g;k=[];for(var w=u,j;w!==null;){j=w;var E=j.stateNode;if(j.tag===5&&E!==null&&(j=E,x!==null&&(E=sa(w,x),E!=null&&k.push(ua(w,E,j)))),S)break;w=w.return}0<k.length&&(g=new v(g,_,null,n,d),p.push({event:g,listeners:k}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",g&&n!==Yd&&(_=n.relatedTarget||n.fromElement)&&(Cr(_)||_[cs]))break e;if((v||g)&&(g=d.window===d?d:(g=d.ownerDocument)?g.defaultView||g.parentWindow:window,v?(_=n.relatedTarget||n.toElement,v=u,_=_?Cr(_):null,_!==null&&(S=Yr(_),_!==S||_.tag!==5&&_.tag!==6)&&(_=null)):(v=null,_=u),v!==_)){if(k=fm,E="onMouseLeave",x="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(k=mm,E="onPointerLeave",x="onPointerEnter",w="pointer"),S=v==null?g:yi(v),j=_==null?g:yi(_),g=new k(E,w+"leave",v,n,d),g.target=S,g.relatedTarget=j,E=null,Cr(d)===u&&(k=new k(x,w+"enter",_,n,d),k.target=j,k.relatedTarget=S,E=k),S=E,v&&_)t:{for(k=v,x=_,w=0,j=k;j;j=ii(j))w++;for(j=0,E=x;E;E=ii(E))j++;for(;0<w-j;)k=ii(k),w--;for(;0<j-w;)x=ii(x),j--;for(;w--;){if(k===x||x!==null&&k===x.alternate)break t;k=ii(k),x=ii(x)}k=null}else k=null;v!==null&&Cm(p,g,v,k,!1),_!==null&&S!==null&&Cm(p,S,_,k,!0)}}e:{if(g=u?yi(u):window,v=g.nodeName&&g.nodeName.toLowerCase(),v==="select"||v==="input"&&g.type==="file")var M=YS;else if(vm(g))if(qy)M=KS;else{M=GS;var O=VS}else(v=g.nodeName)&&v.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(M=qS);if(M&&(M=M(t,u))){Gy(p,M,n,d);break e}O&&O(t,g,u),t==="focusout"&&(O=g._wrapperState)&&O.controlled&&g.type==="number"&&zd(g,"number",g.value)}switch(O=u?yi(u):window,t){case"focusin":(vm(O)||O.contentEditable==="true")&&(mi=O,Qd=u,zo=null);break;case"focusout":zo=Qd=mi=null;break;case"mousedown":Zd=!0;break;case"contextmenu":case"mouseup":case"dragend":Zd=!1,km(p,n,d);break;case"selectionchange":if(QS)break;case"keydown":case"keyup":km(p,n,d)}var A;if(pf)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else pi?Yy(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(Hy&&n.locale!=="ko"&&(pi||T!=="onCompositionStart"?T==="onCompositionEnd"&&pi&&(A=Wy()):($s=d,df="value"in $s?$s.value:$s.textContent,pi=!0)),O=pc(u,T),0<O.length&&(T=new pm(T,t,null,n,d),p.push({event:T,listeners:O}),A?T.data=A:(A=Vy(n),A!==null&&(T.data=A)))),(A=zS?BS(t,n):US(t,n))&&(u=pc(u,"onBeforeInput"),0<u.length&&(d=new pm("onBeforeInput","beforeinput",null,n,d),p.push({event:d,listeners:u}),d.data=A))}rv(p,e)})}function ua(t,e,n){return{instance:t,listener:e,currentTarget:n}}function pc(t,e){for(var n=e+"Capture",s=[];t!==null;){var r=t,i=r.stateNode;r.tag===5&&i!==null&&(r=i,i=sa(t,n),i!=null&&s.unshift(ua(t,i,r)),i=sa(t,e),i!=null&&s.push(ua(t,i,r))),t=t.return}return s}function ii(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Cm(t,e,n,s,r){for(var i=e._reactName,o=[];n!==null&&n!==s;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===s)break;a.tag===5&&u!==null&&(a=u,r?(l=sa(n,i),l!=null&&o.unshift(ua(n,l,a))):r||(l=sa(n,i),l!=null&&o.push(ua(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var n2=/\r\n?/g,s2=/\u0000|\uFFFD/g;function Em(t){return(typeof t=="string"?t:""+t).replace(n2,`
`).replace(s2,"")}function vl(t,e,n){if(e=Em(e),Em(t)!==e&&n)throw Error(U(425))}function mc(){}var eh=null,th=null;function nh(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var sh=typeof setTimeout=="function"?setTimeout:void 0,r2=typeof clearTimeout=="function"?clearTimeout:void 0,Mm=typeof Promise=="function"?Promise:void 0,i2=typeof queueMicrotask=="function"?queueMicrotask:typeof Mm<"u"?function(t){return Mm.resolve(null).then(t).catch(o2)}:sh;function o2(t){setTimeout(function(){throw t})}function Zu(t,e){var n=e,s=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(s===0){t.removeChild(r),oa(e);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=r}while(n);oa(e)}function Gs(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Dm(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Gi=Math.random().toString(36).slice(2),An="__reactFiber$"+Gi,da="__reactProps$"+Gi,cs="__reactContainer$"+Gi,rh="__reactEvents$"+Gi,a2="__reactListeners$"+Gi,l2="__reactHandles$"+Gi;function Cr(t){var e=t[An];if(e)return e;for(var n=t.parentNode;n;){if(e=n[cs]||n[An]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Dm(t);t!==null;){if(n=t[An])return n;t=Dm(t)}return e}t=n,n=t.parentNode}return null}function Aa(t){return t=t[An]||t[cs],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function yi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(U(33))}function Vc(t){return t[da]||null}var ih=[],vi=-1;function sr(t){return{current:t}}function ze(t){0>vi||(t.current=ih[vi],ih[vi]=null,vi--)}function Le(t,e){vi++,ih[vi]=t.current,t.current=e}var er={},kt=sr(er),zt=sr(!1),Ir=er;function Ri(t,e){var n=t.type.contextTypes;if(!n)return er;var s=t.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===e)return s.__reactInternalMemoizedMaskedChildContext;var r={},i;for(i in n)r[i]=e[i];return s&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r),r}function Bt(t){return t=t.childContextTypes,t!=null}function gc(){ze(zt),ze(kt)}function Nm(t,e,n){if(kt.current!==er)throw Error(U(168));Le(kt,e),Le(zt,n)}function ov(t,e,n){var s=t.stateNode;if(e=e.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var r in s)if(!(r in e))throw Error(U(108,Vk(t)||"Unknown",r));return Ve({},n,s)}function yc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||er,Ir=kt.current,Le(kt,t),Le(zt,zt.current),!0}function Pm(t,e,n){var s=t.stateNode;if(!s)throw Error(U(169));n?(t=ov(t,e,Ir),s.__reactInternalMemoizedMergedChildContext=t,ze(zt),ze(kt),Le(kt,t)):ze(zt),Le(zt,n)}var es=null,Gc=!1,ed=!1;function av(t){es===null?es=[t]:es.push(t)}function c2(t){Gc=!0,av(t)}function rr(){if(!ed&&es!==null){ed=!0;var t=0,e=Pe;try{var n=es;for(Pe=1;t<n.length;t++){var s=n[t];do s=s(!0);while(s!==null)}es=null,Gc=!1}catch(r){throw es!==null&&(es=es.slice(t+1)),Ty(af,rr),r}finally{Pe=e,ed=!1}}return null}var xi=[],_i=0,vc=null,xc=0,tn=[],nn=0,Fr=null,ns=1,ss="";function _r(t,e){xi[_i++]=xc,xi[_i++]=vc,vc=t,xc=e}function lv(t,e,n){tn[nn++]=ns,tn[nn++]=ss,tn[nn++]=Fr,Fr=t;var s=ns;t=ss;var r=32-_n(s)-1;s&=~(1<<r),n+=1;var i=32-_n(e)+r;if(30<i){var o=r-r%5;i=(s&(1<<o)-1).toString(32),s>>=o,r-=o,ns=1<<32-_n(e)+r|n<<r|s,ss=i+t}else ns=1<<i|n<<r|s,ss=t}function gf(t){t.return!==null&&(_r(t,1),lv(t,1,0))}function yf(t){for(;t===vc;)vc=xi[--_i],xi[_i]=null,xc=xi[--_i],xi[_i]=null;for(;t===Fr;)Fr=tn[--nn],tn[nn]=null,ss=tn[--nn],tn[nn]=null,ns=tn[--nn],tn[nn]=null}var qt=null,Gt=null,Ue=!1,xn=null;function cv(t,e){var n=sn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Tm(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,qt=t,Gt=Gs(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,qt=t,Gt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Fr!==null?{id:ns,overflow:ss}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=sn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,qt=t,Gt=null,!0):!1;default:return!1}}function oh(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ah(t){if(Ue){var e=Gt;if(e){var n=e;if(!Tm(t,e)){if(oh(t))throw Error(U(418));e=Gs(n.nextSibling);var s=qt;e&&Tm(t,e)?cv(s,n):(t.flags=t.flags&-4097|2,Ue=!1,qt=t)}}else{if(oh(t))throw Error(U(418));t.flags=t.flags&-4097|2,Ue=!1,qt=t}}}function Om(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;qt=t}function xl(t){if(t!==qt)return!1;if(!Ue)return Om(t),Ue=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!nh(t.type,t.memoizedProps)),e&&(e=Gt)){if(oh(t))throw uv(),Error(U(418));for(;e;)cv(t,e),e=Gs(e.nextSibling)}if(Om(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(U(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Gt=Gs(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Gt=null}}else Gt=qt?Gs(t.stateNode.nextSibling):null;return!0}function uv(){for(var t=Gt;t;)t=Gs(t.nextSibling)}function Li(){Gt=qt=null,Ue=!1}function vf(t){xn===null?xn=[t]:xn.push(t)}var u2=fs.ReactCurrentBatchConfig;function xo(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(U(309));var s=n.stateNode}if(!s)throw Error(U(147,t));var r=s,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=r.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(U(284));if(!n._owner)throw Error(U(290,t))}return t}function _l(t,e){throw t=Object.prototype.toString.call(e),Error(U(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Am(t){var e=t._init;return e(t._payload)}function dv(t){function e(x,w){if(t){var j=x.deletions;j===null?(x.deletions=[w],x.flags|=16):j.push(w)}}function n(x,w){if(!t)return null;for(;w!==null;)e(x,w),w=w.sibling;return null}function s(x,w){for(x=new Map;w!==null;)w.key!==null?x.set(w.key,w):x.set(w.index,w),w=w.sibling;return x}function r(x,w){return x=Xs(x,w),x.index=0,x.sibling=null,x}function i(x,w,j){return x.index=j,t?(j=x.alternate,j!==null?(j=j.index,j<w?(x.flags|=2,w):j):(x.flags|=2,w)):(x.flags|=1048576,w)}function o(x){return t&&x.alternate===null&&(x.flags|=2),x}function a(x,w,j,E){return w===null||w.tag!==6?(w=ad(j,x.mode,E),w.return=x,w):(w=r(w,j),w.return=x,w)}function l(x,w,j,E){var M=j.type;return M===fi?d(x,w,j.props.children,E,j.key):w!==null&&(w.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===Ps&&Am(M)===w.type)?(E=r(w,j.props),E.ref=xo(x,w,j),E.return=x,E):(E=tc(j.type,j.key,j.props,null,x.mode,E),E.ref=xo(x,w,j),E.return=x,E)}function u(x,w,j,E){return w===null||w.tag!==4||w.stateNode.containerInfo!==j.containerInfo||w.stateNode.implementation!==j.implementation?(w=ld(j,x.mode,E),w.return=x,w):(w=r(w,j.children||[]),w.return=x,w)}function d(x,w,j,E,M){return w===null||w.tag!==7?(w=Or(j,x.mode,E,M),w.return=x,w):(w=r(w,j),w.return=x,w)}function p(x,w,j){if(typeof w=="string"&&w!==""||typeof w=="number")return w=ad(""+w,x.mode,j),w.return=x,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case cl:return j=tc(w.type,w.key,w.props,null,x.mode,j),j.ref=xo(x,null,w),j.return=x,j;case hi:return w=ld(w,x.mode,j),w.return=x,w;case Ps:var E=w._init;return p(x,E(w._payload),j)}if(Do(w)||po(w))return w=Or(w,x.mode,j,null),w.return=x,w;_l(x,w)}return null}function g(x,w,j,E){var M=w!==null?w.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return M!==null?null:a(x,w,""+j,E);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case cl:return j.key===M?l(x,w,j,E):null;case hi:return j.key===M?u(x,w,j,E):null;case Ps:return M=j._init,g(x,w,M(j._payload),E)}if(Do(j)||po(j))return M!==null?null:d(x,w,j,E,null);_l(x,j)}return null}function v(x,w,j,E,M){if(typeof E=="string"&&E!==""||typeof E=="number")return x=x.get(j)||null,a(w,x,""+E,M);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case cl:return x=x.get(E.key===null?j:E.key)||null,l(w,x,E,M);case hi:return x=x.get(E.key===null?j:E.key)||null,u(w,x,E,M);case Ps:var O=E._init;return v(x,w,j,O(E._payload),M)}if(Do(E)||po(E))return x=x.get(j)||null,d(w,x,E,M,null);_l(w,E)}return null}function _(x,w,j,E){for(var M=null,O=null,A=w,T=w=0,q=null;A!==null&&T<j.length;T++){A.index>T?(q=A,A=null):q=A.sibling;var z=g(x,A,j[T],E);if(z===null){A===null&&(A=q);break}t&&A&&z.alternate===null&&e(x,A),w=i(z,w,T),O===null?M=z:O.sibling=z,O=z,A=q}if(T===j.length)return n(x,A),Ue&&_r(x,T),M;if(A===null){for(;T<j.length;T++)A=p(x,j[T],E),A!==null&&(w=i(A,w,T),O===null?M=A:O.sibling=A,O=A);return Ue&&_r(x,T),M}for(A=s(x,A);T<j.length;T++)q=v(A,x,T,j[T],E),q!==null&&(t&&q.alternate!==null&&A.delete(q.key===null?T:q.key),w=i(q,w,T),O===null?M=q:O.sibling=q,O=q);return t&&A.forEach(function(se){return e(x,se)}),Ue&&_r(x,T),M}function k(x,w,j,E){var M=po(j);if(typeof M!="function")throw Error(U(150));if(j=M.call(j),j==null)throw Error(U(151));for(var O=M=null,A=w,T=w=0,q=null,z=j.next();A!==null&&!z.done;T++,z=j.next()){A.index>T?(q=A,A=null):q=A.sibling;var se=g(x,A,z.value,E);if(se===null){A===null&&(A=q);break}t&&A&&se.alternate===null&&e(x,A),w=i(se,w,T),O===null?M=se:O.sibling=se,O=se,A=q}if(z.done)return n(x,A),Ue&&_r(x,T),M;if(A===null){for(;!z.done;T++,z=j.next())z=p(x,z.value,E),z!==null&&(w=i(z,w,T),O===null?M=z:O.sibling=z,O=z);return Ue&&_r(x,T),M}for(A=s(x,A);!z.done;T++,z=j.next())z=v(A,x,T,z.value,E),z!==null&&(t&&z.alternate!==null&&A.delete(z.key===null?T:z.key),w=i(z,w,T),O===null?M=z:O.sibling=z,O=z);return t&&A.forEach(function(ie){return e(x,ie)}),Ue&&_r(x,T),M}function S(x,w,j,E){if(typeof j=="object"&&j!==null&&j.type===fi&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case cl:e:{for(var M=j.key,O=w;O!==null;){if(O.key===M){if(M=j.type,M===fi){if(O.tag===7){n(x,O.sibling),w=r(O,j.props.children),w.return=x,x=w;break e}}else if(O.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===Ps&&Am(M)===O.type){n(x,O.sibling),w=r(O,j.props),w.ref=xo(x,O,j),w.return=x,x=w;break e}n(x,O);break}else e(x,O);O=O.sibling}j.type===fi?(w=Or(j.props.children,x.mode,E,j.key),w.return=x,x=w):(E=tc(j.type,j.key,j.props,null,x.mode,E),E.ref=xo(x,w,j),E.return=x,x=E)}return o(x);case hi:e:{for(O=j.key;w!==null;){if(w.key===O)if(w.tag===4&&w.stateNode.containerInfo===j.containerInfo&&w.stateNode.implementation===j.implementation){n(x,w.sibling),w=r(w,j.children||[]),w.return=x,x=w;break e}else{n(x,w);break}else e(x,w);w=w.sibling}w=ld(j,x.mode,E),w.return=x,x=w}return o(x);case Ps:return O=j._init,S(x,w,O(j._payload),E)}if(Do(j))return _(x,w,j,E);if(po(j))return k(x,w,j,E);_l(x,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,w!==null&&w.tag===6?(n(x,w.sibling),w=r(w,j),w.return=x,x=w):(n(x,w),w=ad(j,x.mode,E),w.return=x,x=w),o(x)):n(x,w)}return S}var Ii=dv(!0),hv=dv(!1),_c=sr(null),bc=null,bi=null,xf=null;function _f(){xf=bi=bc=null}function bf(t){var e=_c.current;ze(_c),t._currentValue=e}function lh(t,e,n){for(;t!==null;){var s=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,s!==null&&(s.childLanes|=e)):s!==null&&(s.childLanes&e)!==e&&(s.childLanes|=e),t===n)break;t=t.return}}function Di(t,e){bc=t,xf=bi=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&($t=!0),t.firstContext=null)}function an(t){var e=t._currentValue;if(xf!==t)if(t={context:t,memoizedValue:e,next:null},bi===null){if(bc===null)throw Error(U(308));bi=t,bc.dependencies={lanes:0,firstContext:t}}else bi=bi.next=t;return e}var Er=null;function wf(t){Er===null?Er=[t]:Er.push(t)}function fv(t,e,n,s){var r=e.interleaved;return r===null?(n.next=n,wf(e)):(n.next=r.next,r.next=n),e.interleaved=n,us(t,s)}function us(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ts=!1;function kf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function pv(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function as(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function qs(t,e,n){var s=t.updateQueue;if(s===null)return null;if(s=s.shared,je&2){var r=s.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),s.pending=e,us(t,n)}return r=s.interleaved,r===null?(e.next=e,wf(s)):(e.next=r.next,r.next=e),s.interleaved=e,us(t,n)}function Kl(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var s=e.lanes;s&=t.pendingLanes,n|=s,e.lanes=n,lf(t,n)}}function Rm(t,e){var n=t.updateQueue,s=t.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var r=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?r=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?r=i=e:i=i.next=e}else r=i=e;n={baseState:s.baseState,firstBaseUpdate:r,lastBaseUpdate:i,shared:s.shared,effects:s.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function wc(t,e,n,s){var r=t.updateQueue;Ts=!1;var i=r.firstBaseUpdate,o=r.lastBaseUpdate,a=r.shared.pending;if(a!==null){r.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(i!==null){var p=r.baseState;o=0,d=u=l=null,a=i;do{var g=a.lane,v=a.eventTime;if((s&g)===g){d!==null&&(d=d.next={eventTime:v,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var _=t,k=a;switch(g=e,v=n,k.tag){case 1:if(_=k.payload,typeof _=="function"){p=_.call(v,p,g);break e}p=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=k.payload,g=typeof _=="function"?_.call(v,p,g):_,g==null)break e;p=Ve({},p,g);break e;case 2:Ts=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,g=r.effects,g===null?r.effects=[a]:g.push(a))}else v={eventTime:v,lane:g,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=v,l=p):d=d.next=v,o|=g;if(a=a.next,a===null){if(a=r.shared.pending,a===null)break;g=a,a=g.next,g.next=null,r.lastBaseUpdate=g,r.shared.pending=null}}while(!0);if(d===null&&(l=p),r.baseState=l,r.firstBaseUpdate=u,r.lastBaseUpdate=d,e=r.shared.interleaved,e!==null){r=e;do o|=r.lane,r=r.next;while(r!==e)}else i===null&&(r.shared.lanes=0);zr|=o,t.lanes=o,t.memoizedState=p}}function Lm(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var s=t[e],r=s.callback;if(r!==null){if(s.callback=null,s=n,typeof r!="function")throw Error(U(191,r));r.call(s)}}}var Ra={},Ln=sr(Ra),ha=sr(Ra),fa=sr(Ra);function Mr(t){if(t===Ra)throw Error(U(174));return t}function Sf(t,e){switch(Le(fa,e),Le(ha,t),Le(Ln,Ra),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ud(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Ud(e,t)}ze(Ln),Le(Ln,e)}function Fi(){ze(Ln),ze(ha),ze(fa)}function mv(t){Mr(fa.current);var e=Mr(Ln.current),n=Ud(e,t.type);e!==n&&(Le(ha,t),Le(Ln,n))}function jf(t){ha.current===t&&(ze(Ln),ze(ha))}var We=sr(0);function kc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var td=[];function Cf(){for(var t=0;t<td.length;t++)td[t]._workInProgressVersionPrimary=null;td.length=0}var Jl=fs.ReactCurrentDispatcher,nd=fs.ReactCurrentBatchConfig,$r=0,Ye=null,ot=null,dt=null,Sc=!1,Bo=!1,pa=0,d2=0;function yt(){throw Error(U(321))}function Ef(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!wn(t[n],e[n]))return!1;return!0}function Mf(t,e,n,s,r,i){if($r=i,Ye=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Jl.current=t===null||t.memoizedState===null?m2:g2,t=n(s,r),Bo){i=0;do{if(Bo=!1,pa=0,25<=i)throw Error(U(301));i+=1,dt=ot=null,e.updateQueue=null,Jl.current=y2,t=n(s,r)}while(Bo)}if(Jl.current=jc,e=ot!==null&&ot.next!==null,$r=0,dt=ot=Ye=null,Sc=!1,e)throw Error(U(300));return t}function Df(){var t=pa!==0;return pa=0,t}function Pn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dt===null?Ye.memoizedState=dt=t:dt=dt.next=t,dt}function ln(){if(ot===null){var t=Ye.alternate;t=t!==null?t.memoizedState:null}else t=ot.next;var e=dt===null?Ye.memoizedState:dt.next;if(e!==null)dt=e,ot=t;else{if(t===null)throw Error(U(310));ot=t,t={memoizedState:ot.memoizedState,baseState:ot.baseState,baseQueue:ot.baseQueue,queue:ot.queue,next:null},dt===null?Ye.memoizedState=dt=t:dt=dt.next=t}return dt}function ma(t,e){return typeof e=="function"?e(t):e}function sd(t){var e=ln(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var s=ot,r=s.baseQueue,i=n.pending;if(i!==null){if(r!==null){var o=r.next;r.next=i.next,i.next=o}s.baseQueue=r=i,n.pending=null}if(r!==null){i=r.next,s=s.baseState;var a=o=null,l=null,u=i;do{var d=u.lane;if(($r&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),s=u.hasEagerState?u.eagerState:t(s,u.action);else{var p={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=p,o=s):l=l.next=p,Ye.lanes|=d,zr|=d}u=u.next}while(u!==null&&u!==i);l===null?o=s:l.next=a,wn(s,e.memoizedState)||($t=!0),e.memoizedState=s,e.baseState=o,e.baseQueue=l,n.lastRenderedState=s}if(t=n.interleaved,t!==null){r=t;do i=r.lane,Ye.lanes|=i,zr|=i,r=r.next;while(r!==t)}else r===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function rd(t){var e=ln(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var s=n.dispatch,r=n.pending,i=e.memoizedState;if(r!==null){n.pending=null;var o=r=r.next;do i=t(i,o.action),o=o.next;while(o!==r);wn(i,e.memoizedState)||($t=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,s]}function gv(){}function yv(t,e){var n=Ye,s=ln(),r=e(),i=!wn(s.memoizedState,r);if(i&&(s.memoizedState=r,$t=!0),s=s.queue,Nf(_v.bind(null,n,s,t),[t]),s.getSnapshot!==e||i||dt!==null&&dt.memoizedState.tag&1){if(n.flags|=2048,ga(9,xv.bind(null,n,s,r,e),void 0,null),ht===null)throw Error(U(349));$r&30||vv(n,e,r)}return r}function vv(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ye.updateQueue,e===null?(e={lastEffect:null,stores:null},Ye.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function xv(t,e,n,s){e.value=n,e.getSnapshot=s,bv(e)&&wv(t)}function _v(t,e,n){return n(function(){bv(e)&&wv(t)})}function bv(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!wn(t,n)}catch{return!0}}function wv(t){var e=us(t,1);e!==null&&bn(e,t,1,-1)}function Im(t){var e=Pn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ma,lastRenderedState:t},e.queue=t,t=t.dispatch=p2.bind(null,Ye,t),[e.memoizedState,t]}function ga(t,e,n,s){return t={tag:t,create:e,destroy:n,deps:s,next:null},e=Ye.updateQueue,e===null?(e={lastEffect:null,stores:null},Ye.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(s=n.next,n.next=t,t.next=s,e.lastEffect=t)),t}function kv(){return ln().memoizedState}function Xl(t,e,n,s){var r=Pn();Ye.flags|=t,r.memoizedState=ga(1|e,n,void 0,s===void 0?null:s)}function qc(t,e,n,s){var r=ln();s=s===void 0?null:s;var i=void 0;if(ot!==null){var o=ot.memoizedState;if(i=o.destroy,s!==null&&Ef(s,o.deps)){r.memoizedState=ga(e,n,i,s);return}}Ye.flags|=t,r.memoizedState=ga(1|e,n,i,s)}function Fm(t,e){return Xl(8390656,8,t,e)}function Nf(t,e){return qc(2048,8,t,e)}function Sv(t,e){return qc(4,2,t,e)}function jv(t,e){return qc(4,4,t,e)}function Cv(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Ev(t,e,n){return n=n!=null?n.concat([t]):null,qc(4,4,Cv.bind(null,e,t),n)}function Pf(){}function Mv(t,e){var n=ln();e=e===void 0?null:e;var s=n.memoizedState;return s!==null&&e!==null&&Ef(e,s[1])?s[0]:(n.memoizedState=[t,e],t)}function Dv(t,e){var n=ln();e=e===void 0?null:e;var s=n.memoizedState;return s!==null&&e!==null&&Ef(e,s[1])?s[0]:(t=t(),n.memoizedState=[t,e],t)}function Nv(t,e,n){return $r&21?(wn(n,e)||(n=Ry(),Ye.lanes|=n,zr|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,$t=!0),t.memoizedState=n)}function h2(t,e){var n=Pe;Pe=n!==0&&4>n?n:4,t(!0);var s=nd.transition;nd.transition={};try{t(!1),e()}finally{Pe=n,nd.transition=s}}function Pv(){return ln().memoizedState}function f2(t,e,n){var s=Js(t);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},Tv(t))Ov(e,n);else if(n=fv(t,e,n,s),n!==null){var r=Dt();bn(n,t,s,r),Av(n,e,s)}}function p2(t,e,n){var s=Js(t),r={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(Tv(t))Ov(e,r);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(r.hasEagerState=!0,r.eagerState=a,wn(a,o)){var l=e.interleaved;l===null?(r.next=r,wf(e)):(r.next=l.next,l.next=r),e.interleaved=r;return}}catch{}finally{}n=fv(t,e,r,s),n!==null&&(r=Dt(),bn(n,t,s,r),Av(n,e,s))}}function Tv(t){var e=t.alternate;return t===Ye||e!==null&&e===Ye}function Ov(t,e){Bo=Sc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Av(t,e,n){if(n&4194240){var s=e.lanes;s&=t.pendingLanes,n|=s,e.lanes=n,lf(t,n)}}var jc={readContext:an,useCallback:yt,useContext:yt,useEffect:yt,useImperativeHandle:yt,useInsertionEffect:yt,useLayoutEffect:yt,useMemo:yt,useReducer:yt,useRef:yt,useState:yt,useDebugValue:yt,useDeferredValue:yt,useTransition:yt,useMutableSource:yt,useSyncExternalStore:yt,useId:yt,unstable_isNewReconciler:!1},m2={readContext:an,useCallback:function(t,e){return Pn().memoizedState=[t,e===void 0?null:e],t},useContext:an,useEffect:Fm,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Xl(4194308,4,Cv.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Xl(4194308,4,t,e)},useInsertionEffect:function(t,e){return Xl(4,2,t,e)},useMemo:function(t,e){var n=Pn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var s=Pn();return e=n!==void 0?n(e):e,s.memoizedState=s.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},s.queue=t,t=t.dispatch=f2.bind(null,Ye,t),[s.memoizedState,t]},useRef:function(t){var e=Pn();return t={current:t},e.memoizedState=t},useState:Im,useDebugValue:Pf,useDeferredValue:function(t){return Pn().memoizedState=t},useTransition:function(){var t=Im(!1),e=t[0];return t=h2.bind(null,t[1]),Pn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var s=Ye,r=Pn();if(Ue){if(n===void 0)throw Error(U(407));n=n()}else{if(n=e(),ht===null)throw Error(U(349));$r&30||vv(s,e,n)}r.memoizedState=n;var i={value:n,getSnapshot:e};return r.queue=i,Fm(_v.bind(null,s,i,t),[t]),s.flags|=2048,ga(9,xv.bind(null,s,i,n,e),void 0,null),n},useId:function(){var t=Pn(),e=ht.identifierPrefix;if(Ue){var n=ss,s=ns;n=(s&~(1<<32-_n(s)-1)).toString(32)+n,e=":"+e+"R"+n,n=pa++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=d2++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},g2={readContext:an,useCallback:Mv,useContext:an,useEffect:Nf,useImperativeHandle:Ev,useInsertionEffect:Sv,useLayoutEffect:jv,useMemo:Dv,useReducer:sd,useRef:kv,useState:function(){return sd(ma)},useDebugValue:Pf,useDeferredValue:function(t){var e=ln();return Nv(e,ot.memoizedState,t)},useTransition:function(){var t=sd(ma)[0],e=ln().memoizedState;return[t,e]},useMutableSource:gv,useSyncExternalStore:yv,useId:Pv,unstable_isNewReconciler:!1},y2={readContext:an,useCallback:Mv,useContext:an,useEffect:Nf,useImperativeHandle:Ev,useInsertionEffect:Sv,useLayoutEffect:jv,useMemo:Dv,useReducer:rd,useRef:kv,useState:function(){return rd(ma)},useDebugValue:Pf,useDeferredValue:function(t){var e=ln();return ot===null?e.memoizedState=t:Nv(e,ot.memoizedState,t)},useTransition:function(){var t=rd(ma)[0],e=ln().memoizedState;return[t,e]},useMutableSource:gv,useSyncExternalStore:yv,useId:Pv,unstable_isNewReconciler:!1};function gn(t,e){if(t&&t.defaultProps){e=Ve({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function ch(t,e,n,s){e=t.memoizedState,n=n(s,e),n=n==null?e:Ve({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Kc={isMounted:function(t){return(t=t._reactInternals)?Yr(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var s=Dt(),r=Js(t),i=as(s,r);i.payload=e,n!=null&&(i.callback=n),e=qs(t,i,r),e!==null&&(bn(e,t,r,s),Kl(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var s=Dt(),r=Js(t),i=as(s,r);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=qs(t,i,r),e!==null&&(bn(e,t,r,s),Kl(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Dt(),s=Js(t),r=as(n,s);r.tag=2,e!=null&&(r.callback=e),e=qs(t,r,s),e!==null&&(bn(e,t,s,n),Kl(e,t,s))}};function $m(t,e,n,s,r,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(s,i,o):e.prototype&&e.prototype.isPureReactComponent?!la(n,s)||!la(r,i):!0}function Rv(t,e,n){var s=!1,r=er,i=e.contextType;return typeof i=="object"&&i!==null?i=an(i):(r=Bt(e)?Ir:kt.current,s=e.contextTypes,i=(s=s!=null)?Ri(t,r):er),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Kc,t.stateNode=e,e._reactInternals=t,s&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=i),e}function zm(t,e,n,s){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,s),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,s),e.state!==t&&Kc.enqueueReplaceState(e,e.state,null)}function uh(t,e,n,s){var r=t.stateNode;r.props=n,r.state=t.memoizedState,r.refs={},kf(t);var i=e.contextType;typeof i=="object"&&i!==null?r.context=an(i):(i=Bt(e)?Ir:kt.current,r.context=Ri(t,i)),r.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(ch(t,e,i,n),r.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&Kc.enqueueReplaceState(r,r.state,null),wc(t,n,r,s),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308)}function $i(t,e){try{var n="",s=e;do n+=Yk(s),s=s.return;while(s);var r=n}catch(i){r=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:r,digest:null}}function id(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function dh(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var v2=typeof WeakMap=="function"?WeakMap:Map;function Lv(t,e,n){n=as(-1,n),n.tag=3,n.payload={element:null};var s=e.value;return n.callback=function(){Ec||(Ec=!0,bh=s),dh(t,e)},n}function Iv(t,e,n){n=as(-1,n),n.tag=3;var s=t.type.getDerivedStateFromError;if(typeof s=="function"){var r=e.value;n.payload=function(){return s(r)},n.callback=function(){dh(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){dh(t,e),typeof s!="function"&&(Ks===null?Ks=new Set([this]):Ks.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Bm(t,e,n){var s=t.pingCache;if(s===null){s=t.pingCache=new v2;var r=new Set;s.set(e,r)}else r=s.get(e),r===void 0&&(r=new Set,s.set(e,r));r.has(n)||(r.add(n),t=T2.bind(null,t,e,n),e.then(t,t))}function Um(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Wm(t,e,n,s,r){return t.mode&1?(t.flags|=65536,t.lanes=r,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=as(-1,1),e.tag=2,qs(n,e,1))),n.lanes|=1),t)}var x2=fs.ReactCurrentOwner,$t=!1;function Mt(t,e,n,s){e.child=t===null?hv(e,null,n,s):Ii(e,t.child,n,s)}function Hm(t,e,n,s,r){n=n.render;var i=e.ref;return Di(e,r),s=Mf(t,e,n,s,i,r),n=Df(),t!==null&&!$t?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,ds(t,e,r)):(Ue&&n&&gf(e),e.flags|=1,Mt(t,e,s,r),e.child)}function Ym(t,e,n,s,r){if(t===null){var i=n.type;return typeof i=="function"&&!$f(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,Fv(t,e,i,s,r)):(t=tc(n.type,null,s,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&r)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:la,n(o,s)&&t.ref===e.ref)return ds(t,e,r)}return e.flags|=1,t=Xs(i,s),t.ref=e.ref,t.return=e,e.child=t}function Fv(t,e,n,s,r){if(t!==null){var i=t.memoizedProps;if(la(i,s)&&t.ref===e.ref)if($t=!1,e.pendingProps=s=i,(t.lanes&r)!==0)t.flags&131072&&($t=!0);else return e.lanes=t.lanes,ds(t,e,r)}return hh(t,e,n,s,r)}function $v(t,e,n){var s=e.pendingProps,r=s.children,i=t!==null?t.memoizedState:null;if(s.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Le(ki,Vt),Vt|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Le(ki,Vt),Vt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=i!==null?i.baseLanes:n,Le(ki,Vt),Vt|=s}else i!==null?(s=i.baseLanes|n,e.memoizedState=null):s=n,Le(ki,Vt),Vt|=s;return Mt(t,e,r,n),e.child}function zv(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function hh(t,e,n,s,r){var i=Bt(n)?Ir:kt.current;return i=Ri(e,i),Di(e,r),n=Mf(t,e,n,s,i,r),s=Df(),t!==null&&!$t?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,ds(t,e,r)):(Ue&&s&&gf(e),e.flags|=1,Mt(t,e,n,r),e.child)}function Vm(t,e,n,s,r){if(Bt(n)){var i=!0;yc(e)}else i=!1;if(Di(e,r),e.stateNode===null)Ql(t,e),Rv(e,n,s),uh(e,n,s,r),s=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=an(u):(u=Bt(n)?Ir:kt.current,u=Ri(e,u));var d=n.getDerivedStateFromProps,p=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==s||l!==u)&&zm(e,o,s,u),Ts=!1;var g=e.memoizedState;o.state=g,wc(e,s,o,r),l=e.memoizedState,a!==s||g!==l||zt.current||Ts?(typeof d=="function"&&(ch(e,n,d,s),l=e.memoizedState),(a=Ts||$m(e,n,a,s,g,l,u))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=s,e.memoizedState=l),o.props=s,o.state=l,o.context=u,s=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),s=!1)}else{o=e.stateNode,pv(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:gn(e.type,a),o.props=u,p=e.pendingProps,g=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=an(l):(l=Bt(n)?Ir:kt.current,l=Ri(e,l));var v=n.getDerivedStateFromProps;(d=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==p||g!==l)&&zm(e,o,s,l),Ts=!1,g=e.memoizedState,o.state=g,wc(e,s,o,r);var _=e.memoizedState;a!==p||g!==_||zt.current||Ts?(typeof v=="function"&&(ch(e,n,v,s),_=e.memoizedState),(u=Ts||$m(e,n,u,s,g,_,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(s,_,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(s,_,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=s,e.memoizedState=_),o.props=s,o.state=_,o.context=l,s=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),s=!1)}return fh(t,e,n,s,i,r)}function fh(t,e,n,s,r,i){zv(t,e);var o=(e.flags&128)!==0;if(!s&&!o)return r&&Pm(e,n,!1),ds(t,e,i);s=e.stateNode,x2.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:s.render();return e.flags|=1,t!==null&&o?(e.child=Ii(e,t.child,null,i),e.child=Ii(e,null,a,i)):Mt(t,e,a,i),e.memoizedState=s.state,r&&Pm(e,n,!0),e.child}function Bv(t){var e=t.stateNode;e.pendingContext?Nm(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Nm(t,e.context,!1),Sf(t,e.containerInfo)}function Gm(t,e,n,s,r){return Li(),vf(r),e.flags|=256,Mt(t,e,n,s),e.child}var ph={dehydrated:null,treeContext:null,retryLane:0};function mh(t){return{baseLanes:t,cachePool:null,transitions:null}}function Uv(t,e,n){var s=e.pendingProps,r=We.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(r&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(r|=1),Le(We,r&1),t===null)return ah(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=s.children,t=s.fallback,i?(s=e.mode,i=e.child,o={mode:"hidden",children:o},!(s&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Qc(o,s,0,null),t=Or(t,s,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=mh(n),e.memoizedState=ph,t):Tf(e,o));if(r=t.memoizedState,r!==null&&(a=r.dehydrated,a!==null))return _2(t,e,o,s,a,r,n);if(i){i=s.fallback,o=e.mode,r=t.child,a=r.sibling;var l={mode:"hidden",children:s.children};return!(o&1)&&e.child!==r?(s=e.child,s.childLanes=0,s.pendingProps=l,e.deletions=null):(s=Xs(r,l),s.subtreeFlags=r.subtreeFlags&14680064),a!==null?i=Xs(a,i):(i=Or(i,o,n,null),i.flags|=2),i.return=e,s.return=e,s.sibling=i,e.child=s,s=i,i=e.child,o=t.child.memoizedState,o=o===null?mh(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=ph,s}return i=t.child,t=i.sibling,s=Xs(i,{mode:"visible",children:s.children}),!(e.mode&1)&&(s.lanes=n),s.return=e,s.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=s,e.memoizedState=null,s}function Tf(t,e){return e=Qc({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function bl(t,e,n,s){return s!==null&&vf(s),Ii(e,t.child,null,n),t=Tf(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function _2(t,e,n,s,r,i,o){if(n)return e.flags&256?(e.flags&=-257,s=id(Error(U(422))),bl(t,e,o,s)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=s.fallback,r=e.mode,s=Qc({mode:"visible",children:s.children},r,0,null),i=Or(i,r,o,null),i.flags|=2,s.return=e,i.return=e,s.sibling=i,e.child=s,e.mode&1&&Ii(e,t.child,null,o),e.child.memoizedState=mh(o),e.memoizedState=ph,i);if(!(e.mode&1))return bl(t,e,o,null);if(r.data==="$!"){if(s=r.nextSibling&&r.nextSibling.dataset,s)var a=s.dgst;return s=a,i=Error(U(419)),s=id(i,s,void 0),bl(t,e,o,s)}if(a=(o&t.childLanes)!==0,$t||a){if(s=ht,s!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(s.suspendedLanes|o)?0:r,r!==0&&r!==i.retryLane&&(i.retryLane=r,us(t,r),bn(s,t,r,-1))}return Ff(),s=id(Error(U(421))),bl(t,e,o,s)}return r.data==="$?"?(e.flags|=128,e.child=t.child,e=O2.bind(null,t),r._reactRetry=e,null):(t=i.treeContext,Gt=Gs(r.nextSibling),qt=e,Ue=!0,xn=null,t!==null&&(tn[nn++]=ns,tn[nn++]=ss,tn[nn++]=Fr,ns=t.id,ss=t.overflow,Fr=e),e=Tf(e,s.children),e.flags|=4096,e)}function qm(t,e,n){t.lanes|=e;var s=t.alternate;s!==null&&(s.lanes|=e),lh(t.return,e,n)}function od(t,e,n,s,r){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:r}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=s,i.tail=n,i.tailMode=r)}function Wv(t,e,n){var s=e.pendingProps,r=s.revealOrder,i=s.tail;if(Mt(t,e,s.children,n),s=We.current,s&2)s=s&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&qm(t,n,e);else if(t.tag===19)qm(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}s&=1}if(Le(We,s),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&kc(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),od(e,!1,r,n,i);break;case"backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&kc(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}od(e,!0,n,null,i);break;case"together":od(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ql(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ds(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),zr|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(U(153));if(e.child!==null){for(t=e.child,n=Xs(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Xs(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function b2(t,e,n){switch(e.tag){case 3:Bv(e),Li();break;case 5:mv(e);break;case 1:Bt(e.type)&&yc(e);break;case 4:Sf(e,e.stateNode.containerInfo);break;case 10:var s=e.type._context,r=e.memoizedProps.value;Le(_c,s._currentValue),s._currentValue=r;break;case 13:if(s=e.memoizedState,s!==null)return s.dehydrated!==null?(Le(We,We.current&1),e.flags|=128,null):n&e.child.childLanes?Uv(t,e,n):(Le(We,We.current&1),t=ds(t,e,n),t!==null?t.sibling:null);Le(We,We.current&1);break;case 19:if(s=(n&e.childLanes)!==0,t.flags&128){if(s)return Wv(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Le(We,We.current),s)break;return null;case 22:case 23:return e.lanes=0,$v(t,e,n)}return ds(t,e,n)}var Hv,gh,Yv,Vv;Hv=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};gh=function(){};Yv=function(t,e,n,s){var r=t.memoizedProps;if(r!==s){t=e.stateNode,Mr(Ln.current);var i=null;switch(n){case"input":r=Fd(t,r),s=Fd(t,s),i=[];break;case"select":r=Ve({},r,{value:void 0}),s=Ve({},s,{value:void 0}),i=[];break;case"textarea":r=Bd(t,r),s=Bd(t,s),i=[];break;default:typeof r.onClick!="function"&&typeof s.onClick=="function"&&(t.onclick=mc)}Wd(n,s);var o;n=null;for(u in r)if(!s.hasOwnProperty(u)&&r.hasOwnProperty(u)&&r[u]!=null)if(u==="style"){var a=r[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ta.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in s){var l=s[u];if(a=r!=null?r[u]:void 0,s.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ta.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Fe("scroll",t),i||a===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};Vv=function(t,e,n,s){n!==s&&(e.flags|=4)};function _o(t,e){if(!Ue)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:s.sibling=null}}function vt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,s=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,s|=r.subtreeFlags&14680064,s|=r.flags&14680064,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,s|=r.subtreeFlags,s|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=s,t.childLanes=n,e}function w2(t,e,n){var s=e.pendingProps;switch(yf(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vt(e),null;case 1:return Bt(e.type)&&gc(),vt(e),null;case 3:return s=e.stateNode,Fi(),ze(zt),ze(kt),Cf(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(xl(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,xn!==null&&(Sh(xn),xn=null))),gh(t,e),vt(e),null;case 5:jf(e);var r=Mr(fa.current);if(n=e.type,t!==null&&e.stateNode!=null)Yv(t,e,n,s,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!s){if(e.stateNode===null)throw Error(U(166));return vt(e),null}if(t=Mr(Ln.current),xl(e)){s=e.stateNode,n=e.type;var i=e.memoizedProps;switch(s[An]=e,s[da]=i,t=(e.mode&1)!==0,n){case"dialog":Fe("cancel",s),Fe("close",s);break;case"iframe":case"object":case"embed":Fe("load",s);break;case"video":case"audio":for(r=0;r<Po.length;r++)Fe(Po[r],s);break;case"source":Fe("error",s);break;case"img":case"image":case"link":Fe("error",s),Fe("load",s);break;case"details":Fe("toggle",s);break;case"input":sm(s,i),Fe("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!i.multiple},Fe("invalid",s);break;case"textarea":im(s,i),Fe("invalid",s)}Wd(n,i),r=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?s.textContent!==a&&(i.suppressHydrationWarning!==!0&&vl(s.textContent,a,t),r=["children",a]):typeof a=="number"&&s.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&vl(s.textContent,a,t),r=["children",""+a]):ta.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Fe("scroll",s)}switch(n){case"input":ul(s),rm(s,i,!0);break;case"textarea":ul(s),om(s);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(s.onclick=mc)}s=r,e.updateQueue=s,s!==null&&(e.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=_y(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof s.is=="string"?t=o.createElement(n,{is:s.is}):(t=o.createElement(n),n==="select"&&(o=t,s.multiple?o.multiple=!0:s.size&&(o.size=s.size))):t=o.createElementNS(t,n),t[An]=e,t[da]=s,Hv(t,e,!1,!1),e.stateNode=t;e:{switch(o=Hd(n,s),n){case"dialog":Fe("cancel",t),Fe("close",t),r=s;break;case"iframe":case"object":case"embed":Fe("load",t),r=s;break;case"video":case"audio":for(r=0;r<Po.length;r++)Fe(Po[r],t);r=s;break;case"source":Fe("error",t),r=s;break;case"img":case"image":case"link":Fe("error",t),Fe("load",t),r=s;break;case"details":Fe("toggle",t),r=s;break;case"input":sm(t,s),r=Fd(t,s),Fe("invalid",t);break;case"option":r=s;break;case"select":t._wrapperState={wasMultiple:!!s.multiple},r=Ve({},s,{value:void 0}),Fe("invalid",t);break;case"textarea":im(t,s),r=Bd(t,s),Fe("invalid",t);break;default:r=s}Wd(n,r),a=r;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?ky(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&by(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&na(t,l):typeof l=="number"&&na(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ta.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Fe("scroll",t):l!=null&&tf(t,i,l,o))}switch(n){case"input":ul(t),rm(t,s,!1);break;case"textarea":ul(t),om(t);break;case"option":s.value!=null&&t.setAttribute("value",""+Zs(s.value));break;case"select":t.multiple=!!s.multiple,i=s.value,i!=null?ji(t,!!s.multiple,i,!1):s.defaultValue!=null&&ji(t,!!s.multiple,s.defaultValue,!0);break;default:typeof r.onClick=="function"&&(t.onclick=mc)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return vt(e),null;case 6:if(t&&e.stateNode!=null)Vv(t,e,t.memoizedProps,s);else{if(typeof s!="string"&&e.stateNode===null)throw Error(U(166));if(n=Mr(fa.current),Mr(Ln.current),xl(e)){if(s=e.stateNode,n=e.memoizedProps,s[An]=e,(i=s.nodeValue!==n)&&(t=qt,t!==null))switch(t.tag){case 3:vl(s.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&vl(s.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[An]=e,e.stateNode=s}return vt(e),null;case 13:if(ze(We),s=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ue&&Gt!==null&&e.mode&1&&!(e.flags&128))uv(),Li(),e.flags|=98560,i=!1;else if(i=xl(e),s!==null&&s.dehydrated!==null){if(t===null){if(!i)throw Error(U(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(U(317));i[An]=e}else Li(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;vt(e),i=!1}else xn!==null&&(Sh(xn),xn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(s=s!==null,s!==(t!==null&&t.memoizedState!==null)&&s&&(e.child.flags|=8192,e.mode&1&&(t===null||We.current&1?at===0&&(at=3):Ff())),e.updateQueue!==null&&(e.flags|=4),vt(e),null);case 4:return Fi(),gh(t,e),t===null&&ca(e.stateNode.containerInfo),vt(e),null;case 10:return bf(e.type._context),vt(e),null;case 17:return Bt(e.type)&&gc(),vt(e),null;case 19:if(ze(We),i=e.memoizedState,i===null)return vt(e),null;if(s=(e.flags&128)!==0,o=i.rendering,o===null)if(s)_o(i,!1);else{if(at!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=kc(t),o!==null){for(e.flags|=128,_o(i,!1),s=o.updateQueue,s!==null&&(e.updateQueue=s,e.flags|=4),e.subtreeFlags=0,s=n,n=e.child;n!==null;)i=n,t=s,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Le(We,We.current&1|2),e.child}t=t.sibling}i.tail!==null&&Xe()>zi&&(e.flags|=128,s=!0,_o(i,!1),e.lanes=4194304)}else{if(!s)if(t=kc(o),t!==null){if(e.flags|=128,s=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),_o(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Ue)return vt(e),null}else 2*Xe()-i.renderingStartTime>zi&&n!==1073741824&&(e.flags|=128,s=!0,_o(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Xe(),e.sibling=null,n=We.current,Le(We,s?n&1|2:n&1),e):(vt(e),null);case 22:case 23:return If(),s=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==s&&(e.flags|=8192),s&&e.mode&1?Vt&1073741824&&(vt(e),e.subtreeFlags&6&&(e.flags|=8192)):vt(e),null;case 24:return null;case 25:return null}throw Error(U(156,e.tag))}function k2(t,e){switch(yf(e),e.tag){case 1:return Bt(e.type)&&gc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Fi(),ze(zt),ze(kt),Cf(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return jf(e),null;case 13:if(ze(We),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(U(340));Li()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ze(We),null;case 4:return Fi(),null;case 10:return bf(e.type._context),null;case 22:case 23:return If(),null;case 24:return null;default:return null}}var wl=!1,_t=!1,S2=typeof WeakSet=="function"?WeakSet:Set,ee=null;function wi(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){qe(t,e,s)}else n.current=null}function yh(t,e,n){try{n()}catch(s){qe(t,e,s)}}var Km=!1;function j2(t,e){if(eh=hc,t=Xy(),mf(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var r=s.anchorOffset,i=s.focusNode;s=s.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,d=0,p=t,g=null;t:for(;;){for(var v;p!==n||r!==0&&p.nodeType!==3||(a=o+r),p!==i||s!==0&&p.nodeType!==3||(l=o+s),p.nodeType===3&&(o+=p.nodeValue.length),(v=p.firstChild)!==null;)g=p,p=v;for(;;){if(p===t)break t;if(g===n&&++u===r&&(a=o),g===i&&++d===s&&(l=o),(v=p.nextSibling)!==null)break;p=g,g=p.parentNode}p=v}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(th={focusedElem:t,selectionRange:n},hc=!1,ee=e;ee!==null;)if(e=ee,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ee=t;else for(;ee!==null;){e=ee;try{var _=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var k=_.memoizedProps,S=_.memoizedState,x=e.stateNode,w=x.getSnapshotBeforeUpdate(e.elementType===e.type?k:gn(e.type,k),S);x.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var j=e.stateNode.containerInfo;j.nodeType===1?j.textContent="":j.nodeType===9&&j.documentElement&&j.removeChild(j.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(U(163))}}catch(E){qe(e,e.return,E)}if(t=e.sibling,t!==null){t.return=e.return,ee=t;break}ee=e.return}return _=Km,Km=!1,_}function Uo(t,e,n){var s=e.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var r=s=s.next;do{if((r.tag&t)===t){var i=r.destroy;r.destroy=void 0,i!==void 0&&yh(e,n,i)}r=r.next}while(r!==s)}}function Jc(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var s=n.create;n.destroy=s()}n=n.next}while(n!==e)}}function vh(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Gv(t){var e=t.alternate;e!==null&&(t.alternate=null,Gv(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[An],delete e[da],delete e[rh],delete e[a2],delete e[l2])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function qv(t){return t.tag===5||t.tag===3||t.tag===4}function Jm(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||qv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function xh(t,e,n){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=mc));else if(s!==4&&(t=t.child,t!==null))for(xh(t,e,n),t=t.sibling;t!==null;)xh(t,e,n),t=t.sibling}function _h(t,e,n){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(s!==4&&(t=t.child,t!==null))for(_h(t,e,n),t=t.sibling;t!==null;)_h(t,e,n),t=t.sibling}var pt=null,yn=!1;function Es(t,e,n){for(n=n.child;n!==null;)Kv(t,e,n),n=n.sibling}function Kv(t,e,n){if(Rn&&typeof Rn.onCommitFiberUnmount=="function")try{Rn.onCommitFiberUnmount(Uc,n)}catch{}switch(n.tag){case 5:_t||wi(n,e);case 6:var s=pt,r=yn;pt=null,Es(t,e,n),pt=s,yn=r,pt!==null&&(yn?(t=pt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):pt.removeChild(n.stateNode));break;case 18:pt!==null&&(yn?(t=pt,n=n.stateNode,t.nodeType===8?Zu(t.parentNode,n):t.nodeType===1&&Zu(t,n),oa(t)):Zu(pt,n.stateNode));break;case 4:s=pt,r=yn,pt=n.stateNode.containerInfo,yn=!0,Es(t,e,n),pt=s,yn=r;break;case 0:case 11:case 14:case 15:if(!_t&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){r=s=s.next;do{var i=r,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&yh(n,e,o),r=r.next}while(r!==s)}Es(t,e,n);break;case 1:if(!_t&&(wi(n,e),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(a){qe(n,e,a)}Es(t,e,n);break;case 21:Es(t,e,n);break;case 22:n.mode&1?(_t=(s=_t)||n.memoizedState!==null,Es(t,e,n),_t=s):Es(t,e,n);break;default:Es(t,e,n)}}function Xm(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new S2),e.forEach(function(s){var r=A2.bind(null,t,s);n.has(s)||(n.add(s),s.then(r,r))})}}function mn(t,e){var n=e.deletions;if(n!==null)for(var s=0;s<n.length;s++){var r=n[s];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:pt=a.stateNode,yn=!1;break e;case 3:pt=a.stateNode.containerInfo,yn=!0;break e;case 4:pt=a.stateNode.containerInfo,yn=!0;break e}a=a.return}if(pt===null)throw Error(U(160));Kv(i,o,r),pt=null,yn=!1;var l=r.alternate;l!==null&&(l.return=null),r.return=null}catch(u){qe(r,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Jv(e,t),e=e.sibling}function Jv(t,e){var n=t.alternate,s=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(mn(e,t),En(t),s&4){try{Uo(3,t,t.return),Jc(3,t)}catch(k){qe(t,t.return,k)}try{Uo(5,t,t.return)}catch(k){qe(t,t.return,k)}}break;case 1:mn(e,t),En(t),s&512&&n!==null&&wi(n,n.return);break;case 5:if(mn(e,t),En(t),s&512&&n!==null&&wi(n,n.return),t.flags&32){var r=t.stateNode;try{na(r,"")}catch(k){qe(t,t.return,k)}}if(s&4&&(r=t.stateNode,r!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&vy(r,i),Hd(a,o);var u=Hd(a,i);for(o=0;o<l.length;o+=2){var d=l[o],p=l[o+1];d==="style"?ky(r,p):d==="dangerouslySetInnerHTML"?by(r,p):d==="children"?na(r,p):tf(r,d,p,u)}switch(a){case"input":$d(r,i);break;case"textarea":xy(r,i);break;case"select":var g=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?ji(r,!!i.multiple,v,!1):g!==!!i.multiple&&(i.defaultValue!=null?ji(r,!!i.multiple,i.defaultValue,!0):ji(r,!!i.multiple,i.multiple?[]:"",!1))}r[da]=i}catch(k){qe(t,t.return,k)}}break;case 6:if(mn(e,t),En(t),s&4){if(t.stateNode===null)throw Error(U(162));r=t.stateNode,i=t.memoizedProps;try{r.nodeValue=i}catch(k){qe(t,t.return,k)}}break;case 3:if(mn(e,t),En(t),s&4&&n!==null&&n.memoizedState.isDehydrated)try{oa(e.containerInfo)}catch(k){qe(t,t.return,k)}break;case 4:mn(e,t),En(t);break;case 13:mn(e,t),En(t),r=t.child,r.flags&8192&&(i=r.memoizedState!==null,r.stateNode.isHidden=i,!i||r.alternate!==null&&r.alternate.memoizedState!==null||(Rf=Xe())),s&4&&Xm(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(_t=(u=_t)||d,mn(e,t),_t=u):mn(e,t),En(t),s&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(ee=t,d=t.child;d!==null;){for(p=ee=d;ee!==null;){switch(g=ee,v=g.child,g.tag){case 0:case 11:case 14:case 15:Uo(4,g,g.return);break;case 1:wi(g,g.return);var _=g.stateNode;if(typeof _.componentWillUnmount=="function"){s=g,n=g.return;try{e=s,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(k){qe(s,n,k)}}break;case 5:wi(g,g.return);break;case 22:if(g.memoizedState!==null){Zm(p);continue}}v!==null?(v.return=g,ee=v):Zm(p)}d=d.sibling}e:for(d=null,p=t;;){if(p.tag===5){if(d===null){d=p;try{r=p.stateNode,u?(i=r.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=p.stateNode,l=p.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=wy("display",o))}catch(k){qe(t,t.return,k)}}}else if(p.tag===6){if(d===null)try{p.stateNode.nodeValue=u?"":p.memoizedProps}catch(k){qe(t,t.return,k)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:mn(e,t),En(t),s&4&&Xm(t);break;case 21:break;default:mn(e,t),En(t)}}function En(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(qv(n)){var s=n;break e}n=n.return}throw Error(U(160))}switch(s.tag){case 5:var r=s.stateNode;s.flags&32&&(na(r,""),s.flags&=-33);var i=Jm(t);_h(t,i,r);break;case 3:case 4:var o=s.stateNode.containerInfo,a=Jm(t);xh(t,a,o);break;default:throw Error(U(161))}}catch(l){qe(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function C2(t,e,n){ee=t,Xv(t)}function Xv(t,e,n){for(var s=(t.mode&1)!==0;ee!==null;){var r=ee,i=r.child;if(r.tag===22&&s){var o=r.memoizedState!==null||wl;if(!o){var a=r.alternate,l=a!==null&&a.memoizedState!==null||_t;a=wl;var u=_t;if(wl=o,(_t=l)&&!u)for(ee=r;ee!==null;)o=ee,l=o.child,o.tag===22&&o.memoizedState!==null?eg(r):l!==null?(l.return=o,ee=l):eg(r);for(;i!==null;)ee=i,Xv(i),i=i.sibling;ee=r,wl=a,_t=u}Qm(t)}else r.subtreeFlags&8772&&i!==null?(i.return=r,ee=i):Qm(t)}}function Qm(t){for(;ee!==null;){var e=ee;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:_t||Jc(5,e);break;case 1:var s=e.stateNode;if(e.flags&4&&!_t)if(n===null)s.componentDidMount();else{var r=e.elementType===e.type?n.memoizedProps:gn(e.type,n.memoizedProps);s.componentDidUpdate(r,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Lm(e,i,s);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Lm(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var p=d.dehydrated;p!==null&&oa(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(U(163))}_t||e.flags&512&&vh(e)}catch(g){qe(e,e.return,g)}}if(e===t){ee=null;break}if(n=e.sibling,n!==null){n.return=e.return,ee=n;break}ee=e.return}}function Zm(t){for(;ee!==null;){var e=ee;if(e===t){ee=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ee=n;break}ee=e.return}}function eg(t){for(;ee!==null;){var e=ee;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Jc(4,e)}catch(l){qe(e,n,l)}break;case 1:var s=e.stateNode;if(typeof s.componentDidMount=="function"){var r=e.return;try{s.componentDidMount()}catch(l){qe(e,r,l)}}var i=e.return;try{vh(e)}catch(l){qe(e,i,l)}break;case 5:var o=e.return;try{vh(e)}catch(l){qe(e,o,l)}}}catch(l){qe(e,e.return,l)}if(e===t){ee=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ee=a;break}ee=e.return}}var E2=Math.ceil,Cc=fs.ReactCurrentDispatcher,Of=fs.ReactCurrentOwner,on=fs.ReactCurrentBatchConfig,je=0,ht=null,Ze=null,mt=0,Vt=0,ki=sr(0),at=0,ya=null,zr=0,Xc=0,Af=0,Wo=null,Lt=null,Rf=0,zi=1/0,Qn=null,Ec=!1,bh=null,Ks=null,kl=!1,zs=null,Mc=0,Ho=0,wh=null,Zl=-1,ec=0;function Dt(){return je&6?Xe():Zl!==-1?Zl:Zl=Xe()}function Js(t){return t.mode&1?je&2&&mt!==0?mt&-mt:u2.transition!==null?(ec===0&&(ec=Ry()),ec):(t=Pe,t!==0||(t=window.event,t=t===void 0?16:Uy(t.type)),t):1}function bn(t,e,n,s){if(50<Ho)throw Ho=0,wh=null,Error(U(185));Ta(t,n,s),(!(je&2)||t!==ht)&&(t===ht&&(!(je&2)&&(Xc|=n),at===4&&Rs(t,mt)),Ut(t,s),n===1&&je===0&&!(e.mode&1)&&(zi=Xe()+500,Gc&&rr()))}function Ut(t,e){var n=t.callbackNode;uS(t,e);var s=dc(t,t===ht?mt:0);if(s===0)n!==null&&cm(n),t.callbackNode=null,t.callbackPriority=0;else if(e=s&-s,t.callbackPriority!==e){if(n!=null&&cm(n),e===1)t.tag===0?c2(tg.bind(null,t)):av(tg.bind(null,t)),i2(function(){!(je&6)&&rr()}),n=null;else{switch(Ly(s)){case 1:n=af;break;case 4:n=Oy;break;case 16:n=uc;break;case 536870912:n=Ay;break;default:n=uc}n=ix(n,Qv.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Qv(t,e){if(Zl=-1,ec=0,je&6)throw Error(U(327));var n=t.callbackNode;if(Ni()&&t.callbackNode!==n)return null;var s=dc(t,t===ht?mt:0);if(s===0)return null;if(s&30||s&t.expiredLanes||e)e=Dc(t,s);else{e=s;var r=je;je|=2;var i=ex();(ht!==t||mt!==e)&&(Qn=null,zi=Xe()+500,Tr(t,e));do try{N2();break}catch(a){Zv(t,a)}while(!0);_f(),Cc.current=i,je=r,Ze!==null?e=0:(ht=null,mt=0,e=at)}if(e!==0){if(e===2&&(r=Kd(t),r!==0&&(s=r,e=kh(t,r))),e===1)throw n=ya,Tr(t,0),Rs(t,s),Ut(t,Xe()),n;if(e===6)Rs(t,s);else{if(r=t.current.alternate,!(s&30)&&!M2(r)&&(e=Dc(t,s),e===2&&(i=Kd(t),i!==0&&(s=i,e=kh(t,i))),e===1))throw n=ya,Tr(t,0),Rs(t,s),Ut(t,Xe()),n;switch(t.finishedWork=r,t.finishedLanes=s,e){case 0:case 1:throw Error(U(345));case 2:br(t,Lt,Qn);break;case 3:if(Rs(t,s),(s&130023424)===s&&(e=Rf+500-Xe(),10<e)){if(dc(t,0)!==0)break;if(r=t.suspendedLanes,(r&s)!==s){Dt(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=sh(br.bind(null,t,Lt,Qn),e);break}br(t,Lt,Qn);break;case 4:if(Rs(t,s),(s&4194240)===s)break;for(e=t.eventTimes,r=-1;0<s;){var o=31-_n(s);i=1<<o,o=e[o],o>r&&(r=o),s&=~i}if(s=r,s=Xe()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*E2(s/1960))-s,10<s){t.timeoutHandle=sh(br.bind(null,t,Lt,Qn),s);break}br(t,Lt,Qn);break;case 5:br(t,Lt,Qn);break;default:throw Error(U(329))}}}return Ut(t,Xe()),t.callbackNode===n?Qv.bind(null,t):null}function kh(t,e){var n=Wo;return t.current.memoizedState.isDehydrated&&(Tr(t,e).flags|=256),t=Dc(t,e),t!==2&&(e=Lt,Lt=n,e!==null&&Sh(e)),t}function Sh(t){Lt===null?Lt=t:Lt.push.apply(Lt,t)}function M2(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var r=n[s],i=r.getSnapshot;r=r.value;try{if(!wn(i(),r))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Rs(t,e){for(e&=~Af,e&=~Xc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-_n(e),s=1<<n;t[n]=-1,e&=~s}}function tg(t){if(je&6)throw Error(U(327));Ni();var e=dc(t,0);if(!(e&1))return Ut(t,Xe()),null;var n=Dc(t,e);if(t.tag!==0&&n===2){var s=Kd(t);s!==0&&(e=s,n=kh(t,s))}if(n===1)throw n=ya,Tr(t,0),Rs(t,e),Ut(t,Xe()),n;if(n===6)throw Error(U(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,br(t,Lt,Qn),Ut(t,Xe()),null}function Lf(t,e){var n=je;je|=1;try{return t(e)}finally{je=n,je===0&&(zi=Xe()+500,Gc&&rr())}}function Br(t){zs!==null&&zs.tag===0&&!(je&6)&&Ni();var e=je;je|=1;var n=on.transition,s=Pe;try{if(on.transition=null,Pe=1,t)return t()}finally{Pe=s,on.transition=n,je=e,!(je&6)&&rr()}}function If(){Vt=ki.current,ze(ki)}function Tr(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,r2(n)),Ze!==null)for(n=Ze.return;n!==null;){var s=n;switch(yf(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&gc();break;case 3:Fi(),ze(zt),ze(kt),Cf();break;case 5:jf(s);break;case 4:Fi();break;case 13:ze(We);break;case 19:ze(We);break;case 10:bf(s.type._context);break;case 22:case 23:If()}n=n.return}if(ht=t,Ze=t=Xs(t.current,null),mt=Vt=e,at=0,ya=null,Af=Xc=zr=0,Lt=Wo=null,Er!==null){for(e=0;e<Er.length;e++)if(n=Er[e],s=n.interleaved,s!==null){n.interleaved=null;var r=s.next,i=n.pending;if(i!==null){var o=i.next;i.next=r,s.next=o}n.pending=s}Er=null}return t}function Zv(t,e){do{var n=Ze;try{if(_f(),Jl.current=jc,Sc){for(var s=Ye.memoizedState;s!==null;){var r=s.queue;r!==null&&(r.pending=null),s=s.next}Sc=!1}if($r=0,dt=ot=Ye=null,Bo=!1,pa=0,Of.current=null,n===null||n.return===null){at=1,ya=e,Ze=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=mt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,p=d.tag;if(!(d.mode&1)&&(p===0||p===11||p===15)){var g=d.alternate;g?(d.updateQueue=g.updateQueue,d.memoizedState=g.memoizedState,d.lanes=g.lanes):(d.updateQueue=null,d.memoizedState=null)}var v=Um(o);if(v!==null){v.flags&=-257,Wm(v,o,a,i,e),v.mode&1&&Bm(i,u,e),e=v,l=u;var _=e.updateQueue;if(_===null){var k=new Set;k.add(l),e.updateQueue=k}else _.add(l);break e}else{if(!(e&1)){Bm(i,u,e),Ff();break e}l=Error(U(426))}}else if(Ue&&a.mode&1){var S=Um(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),Wm(S,o,a,i,e),vf($i(l,a));break e}}i=l=$i(l,a),at!==4&&(at=2),Wo===null?Wo=[i]:Wo.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var x=Lv(i,l,e);Rm(i,x);break e;case 1:a=l;var w=i.type,j=i.stateNode;if(!(i.flags&128)&&(typeof w.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(Ks===null||!Ks.has(j)))){i.flags|=65536,e&=-e,i.lanes|=e;var E=Iv(i,a,e);Rm(i,E);break e}}i=i.return}while(i!==null)}nx(n)}catch(M){e=M,Ze===n&&n!==null&&(Ze=n=n.return);continue}break}while(!0)}function ex(){var t=Cc.current;return Cc.current=jc,t===null?jc:t}function Ff(){(at===0||at===3||at===2)&&(at=4),ht===null||!(zr&268435455)&&!(Xc&268435455)||Rs(ht,mt)}function Dc(t,e){var n=je;je|=2;var s=ex();(ht!==t||mt!==e)&&(Qn=null,Tr(t,e));do try{D2();break}catch(r){Zv(t,r)}while(!0);if(_f(),je=n,Cc.current=s,Ze!==null)throw Error(U(261));return ht=null,mt=0,at}function D2(){for(;Ze!==null;)tx(Ze)}function N2(){for(;Ze!==null&&!tS();)tx(Ze)}function tx(t){var e=rx(t.alternate,t,Vt);t.memoizedProps=t.pendingProps,e===null?nx(t):Ze=e,Of.current=null}function nx(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=k2(n,e),n!==null){n.flags&=32767,Ze=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{at=6,Ze=null;return}}else if(n=w2(n,e,Vt),n!==null){Ze=n;return}if(e=e.sibling,e!==null){Ze=e;return}Ze=e=t}while(e!==null);at===0&&(at=5)}function br(t,e,n){var s=Pe,r=on.transition;try{on.transition=null,Pe=1,P2(t,e,n,s)}finally{on.transition=r,Pe=s}return null}function P2(t,e,n,s){do Ni();while(zs!==null);if(je&6)throw Error(U(327));n=t.finishedWork;var r=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(U(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(dS(t,i),t===ht&&(Ze=ht=null,mt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||kl||(kl=!0,ix(uc,function(){return Ni(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=on.transition,on.transition=null;var o=Pe;Pe=1;var a=je;je|=4,Of.current=null,j2(t,n),Jv(n,t),XS(th),hc=!!eh,th=eh=null,t.current=n,C2(n),nS(),je=a,Pe=o,on.transition=i}else t.current=n;if(kl&&(kl=!1,zs=t,Mc=r),i=t.pendingLanes,i===0&&(Ks=null),iS(n.stateNode),Ut(t,Xe()),e!==null)for(s=t.onRecoverableError,n=0;n<e.length;n++)r=e[n],s(r.value,{componentStack:r.stack,digest:r.digest});if(Ec)throw Ec=!1,t=bh,bh=null,t;return Mc&1&&t.tag!==0&&Ni(),i=t.pendingLanes,i&1?t===wh?Ho++:(Ho=0,wh=t):Ho=0,rr(),null}function Ni(){if(zs!==null){var t=Ly(Mc),e=on.transition,n=Pe;try{if(on.transition=null,Pe=16>t?16:t,zs===null)var s=!1;else{if(t=zs,zs=null,Mc=0,je&6)throw Error(U(331));var r=je;for(je|=4,ee=t.current;ee!==null;){var i=ee,o=i.child;if(ee.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(ee=u;ee!==null;){var d=ee;switch(d.tag){case 0:case 11:case 15:Uo(8,d,i)}var p=d.child;if(p!==null)p.return=d,ee=p;else for(;ee!==null;){d=ee;var g=d.sibling,v=d.return;if(Gv(d),d===u){ee=null;break}if(g!==null){g.return=v,ee=g;break}ee=v}}}var _=i.alternate;if(_!==null){var k=_.child;if(k!==null){_.child=null;do{var S=k.sibling;k.sibling=null,k=S}while(k!==null)}}ee=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,ee=o;else e:for(;ee!==null;){if(i=ee,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Uo(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,ee=x;break e}ee=i.return}}var w=t.current;for(ee=w;ee!==null;){o=ee;var j=o.child;if(o.subtreeFlags&2064&&j!==null)j.return=o,ee=j;else e:for(o=w;ee!==null;){if(a=ee,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Jc(9,a)}}catch(M){qe(a,a.return,M)}if(a===o){ee=null;break e}var E=a.sibling;if(E!==null){E.return=a.return,ee=E;break e}ee=a.return}}if(je=r,rr(),Rn&&typeof Rn.onPostCommitFiberRoot=="function")try{Rn.onPostCommitFiberRoot(Uc,t)}catch{}s=!0}return s}finally{Pe=n,on.transition=e}}return!1}function ng(t,e,n){e=$i(n,e),e=Lv(t,e,1),t=qs(t,e,1),e=Dt(),t!==null&&(Ta(t,1,e),Ut(t,e))}function qe(t,e,n){if(t.tag===3)ng(t,t,n);else for(;e!==null;){if(e.tag===3){ng(e,t,n);break}else if(e.tag===1){var s=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Ks===null||!Ks.has(s))){t=$i(n,t),t=Iv(e,t,1),e=qs(e,t,1),t=Dt(),e!==null&&(Ta(e,1,t),Ut(e,t));break}}e=e.return}}function T2(t,e,n){var s=t.pingCache;s!==null&&s.delete(e),e=Dt(),t.pingedLanes|=t.suspendedLanes&n,ht===t&&(mt&n)===n&&(at===4||at===3&&(mt&130023424)===mt&&500>Xe()-Rf?Tr(t,0):Af|=n),Ut(t,e)}function sx(t,e){e===0&&(t.mode&1?(e=fl,fl<<=1,!(fl&130023424)&&(fl=4194304)):e=1);var n=Dt();t=us(t,e),t!==null&&(Ta(t,e,n),Ut(t,n))}function O2(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),sx(t,n)}function A2(t,e){var n=0;switch(t.tag){case 13:var s=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:s=t.stateNode;break;default:throw Error(U(314))}s!==null&&s.delete(e),sx(t,n)}var rx;rx=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||zt.current)$t=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return $t=!1,b2(t,e,n);$t=!!(t.flags&131072)}else $t=!1,Ue&&e.flags&1048576&&lv(e,xc,e.index);switch(e.lanes=0,e.tag){case 2:var s=e.type;Ql(t,e),t=e.pendingProps;var r=Ri(e,kt.current);Di(e,n),r=Mf(null,e,s,t,r,n);var i=Df();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Bt(s)?(i=!0,yc(e)):i=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,kf(e),r.updater=Kc,e.stateNode=r,r._reactInternals=e,uh(e,s,t,n),e=fh(null,e,s,!0,i,n)):(e.tag=0,Ue&&i&&gf(e),Mt(null,e,r,n),e=e.child),e;case 16:s=e.elementType;e:{switch(Ql(t,e),t=e.pendingProps,r=s._init,s=r(s._payload),e.type=s,r=e.tag=L2(s),t=gn(s,t),r){case 0:e=hh(null,e,s,t,n);break e;case 1:e=Vm(null,e,s,t,n);break e;case 11:e=Hm(null,e,s,t,n);break e;case 14:e=Ym(null,e,s,gn(s.type,t),n);break e}throw Error(U(306,s,""))}return e;case 0:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:gn(s,r),hh(t,e,s,r,n);case 1:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:gn(s,r),Vm(t,e,s,r,n);case 3:e:{if(Bv(e),t===null)throw Error(U(387));s=e.pendingProps,i=e.memoizedState,r=i.element,pv(t,e),wc(e,s,null,n);var o=e.memoizedState;if(s=o.element,i.isDehydrated)if(i={element:s,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){r=$i(Error(U(423)),e),e=Gm(t,e,s,n,r);break e}else if(s!==r){r=$i(Error(U(424)),e),e=Gm(t,e,s,n,r);break e}else for(Gt=Gs(e.stateNode.containerInfo.firstChild),qt=e,Ue=!0,xn=null,n=hv(e,null,s,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Li(),s===r){e=ds(t,e,n);break e}Mt(t,e,s,n)}e=e.child}return e;case 5:return mv(e),t===null&&ah(e),s=e.type,r=e.pendingProps,i=t!==null?t.memoizedProps:null,o=r.children,nh(s,r)?o=null:i!==null&&nh(s,i)&&(e.flags|=32),zv(t,e),Mt(t,e,o,n),e.child;case 6:return t===null&&ah(e),null;case 13:return Uv(t,e,n);case 4:return Sf(e,e.stateNode.containerInfo),s=e.pendingProps,t===null?e.child=Ii(e,null,s,n):Mt(t,e,s,n),e.child;case 11:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:gn(s,r),Hm(t,e,s,r,n);case 7:return Mt(t,e,e.pendingProps,n),e.child;case 8:return Mt(t,e,e.pendingProps.children,n),e.child;case 12:return Mt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(s=e.type._context,r=e.pendingProps,i=e.memoizedProps,o=r.value,Le(_c,s._currentValue),s._currentValue=o,i!==null)if(wn(i.value,o)){if(i.children===r.children&&!zt.current){e=ds(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===s){if(i.tag===1){l=as(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),lh(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(U(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),lh(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Mt(t,e,r.children,n),e=e.child}return e;case 9:return r=e.type,s=e.pendingProps.children,Di(e,n),r=an(r),s=s(r),e.flags|=1,Mt(t,e,s,n),e.child;case 14:return s=e.type,r=gn(s,e.pendingProps),r=gn(s.type,r),Ym(t,e,s,r,n);case 15:return Fv(t,e,e.type,e.pendingProps,n);case 17:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:gn(s,r),Ql(t,e),e.tag=1,Bt(s)?(t=!0,yc(e)):t=!1,Di(e,n),Rv(e,s,r),uh(e,s,r,n),fh(null,e,s,!0,t,n);case 19:return Wv(t,e,n);case 22:return $v(t,e,n)}throw Error(U(156,e.tag))};function ix(t,e){return Ty(t,e)}function R2(t,e,n,s){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function sn(t,e,n,s){return new R2(t,e,n,s)}function $f(t){return t=t.prototype,!(!t||!t.isReactComponent)}function L2(t){if(typeof t=="function")return $f(t)?1:0;if(t!=null){if(t=t.$$typeof,t===sf)return 11;if(t===rf)return 14}return 2}function Xs(t,e){var n=t.alternate;return n===null?(n=sn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function tc(t,e,n,s,r,i){var o=2;if(s=t,typeof t=="function")$f(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case fi:return Or(n.children,r,i,e);case nf:o=8,r|=8;break;case Ad:return t=sn(12,n,e,r|2),t.elementType=Ad,t.lanes=i,t;case Rd:return t=sn(13,n,e,r),t.elementType=Rd,t.lanes=i,t;case Ld:return t=sn(19,n,e,r),t.elementType=Ld,t.lanes=i,t;case my:return Qc(n,r,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case fy:o=10;break e;case py:o=9;break e;case sf:o=11;break e;case rf:o=14;break e;case Ps:o=16,s=null;break e}throw Error(U(130,t==null?t:typeof t,""))}return e=sn(o,n,e,r),e.elementType=t,e.type=s,e.lanes=i,e}function Or(t,e,n,s){return t=sn(7,t,s,e),t.lanes=n,t}function Qc(t,e,n,s){return t=sn(22,t,s,e),t.elementType=my,t.lanes=n,t.stateNode={isHidden:!1},t}function ad(t,e,n){return t=sn(6,t,null,e),t.lanes=n,t}function ld(t,e,n){return e=sn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function I2(t,e,n,s,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Uu(0),this.expirationTimes=Uu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Uu(0),this.identifierPrefix=s,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function zf(t,e,n,s,r,i,o,a,l){return t=new I2(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=sn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},kf(i),t}function F2(t,e,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:hi,key:s==null?null:""+s,children:t,containerInfo:e,implementation:n}}function ox(t){if(!t)return er;t=t._reactInternals;e:{if(Yr(t)!==t||t.tag!==1)throw Error(U(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Bt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(U(171))}if(t.tag===1){var n=t.type;if(Bt(n))return ov(t,n,e)}return e}function ax(t,e,n,s,r,i,o,a,l){return t=zf(n,s,!0,t,r,i,o,a,l),t.context=ox(null),n=t.current,s=Dt(),r=Js(n),i=as(s,r),i.callback=e??null,qs(n,i,r),t.current.lanes=r,Ta(t,r,s),Ut(t,s),t}function Zc(t,e,n,s){var r=e.current,i=Dt(),o=Js(r);return n=ox(n),e.context===null?e.context=n:e.pendingContext=n,e=as(i,o),e.payload={element:t},s=s===void 0?null:s,s!==null&&(e.callback=s),t=qs(r,e,o),t!==null&&(bn(t,r,o,i),Kl(t,r,o)),o}function Nc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function sg(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Bf(t,e){sg(t,e),(t=t.alternate)&&sg(t,e)}function $2(){return null}var lx=typeof reportError=="function"?reportError:function(t){console.error(t)};function Uf(t){this._internalRoot=t}eu.prototype.render=Uf.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(U(409));Zc(t,e,null,null)};eu.prototype.unmount=Uf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Br(function(){Zc(null,t,null,null)}),e[cs]=null}};function eu(t){this._internalRoot=t}eu.prototype.unstable_scheduleHydration=function(t){if(t){var e=$y();t={blockedOn:null,target:t,priority:e};for(var n=0;n<As.length&&e!==0&&e<As[n].priority;n++);As.splice(n,0,t),n===0&&By(t)}};function Wf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function tu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function rg(){}function z2(t,e,n,s,r){if(r){if(typeof s=="function"){var i=s;s=function(){var u=Nc(o);i.call(u)}}var o=ax(e,s,t,0,null,!1,!1,"",rg);return t._reactRootContainer=o,t[cs]=o.current,ca(t.nodeType===8?t.parentNode:t),Br(),o}for(;r=t.lastChild;)t.removeChild(r);if(typeof s=="function"){var a=s;s=function(){var u=Nc(l);a.call(u)}}var l=zf(t,0,!1,null,null,!1,!1,"",rg);return t._reactRootContainer=l,t[cs]=l.current,ca(t.nodeType===8?t.parentNode:t),Br(function(){Zc(e,l,n,s)}),l}function nu(t,e,n,s,r){var i=n._reactRootContainer;if(i){var o=i;if(typeof r=="function"){var a=r;r=function(){var l=Nc(o);a.call(l)}}Zc(e,o,t,r)}else o=z2(n,e,t,r,s);return Nc(o)}Iy=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=No(e.pendingLanes);n!==0&&(lf(e,n|1),Ut(e,Xe()),!(je&6)&&(zi=Xe()+500,rr()))}break;case 13:Br(function(){var s=us(t,1);if(s!==null){var r=Dt();bn(s,t,1,r)}}),Bf(t,1)}};cf=function(t){if(t.tag===13){var e=us(t,134217728);if(e!==null){var n=Dt();bn(e,t,134217728,n)}Bf(t,134217728)}};Fy=function(t){if(t.tag===13){var e=Js(t),n=us(t,e);if(n!==null){var s=Dt();bn(n,t,e,s)}Bf(t,e)}};$y=function(){return Pe};zy=function(t,e){var n=Pe;try{return Pe=t,e()}finally{Pe=n}};Vd=function(t,e,n){switch(e){case"input":if($d(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var s=n[e];if(s!==t&&s.form===t.form){var r=Vc(s);if(!r)throw Error(U(90));yy(s),$d(s,r)}}}break;case"textarea":xy(t,n);break;case"select":e=n.value,e!=null&&ji(t,!!n.multiple,e,!1)}};Cy=Lf;Ey=Br;var B2={usingClientEntryPoint:!1,Events:[Aa,yi,Vc,Sy,jy,Lf]},bo={findFiberByHostInstance:Cr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},U2={bundleType:bo.bundleType,version:bo.version,rendererPackageName:bo.rendererPackageName,rendererConfig:bo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:fs.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Ny(t),t===null?null:t.stateNode},findFiberByHostInstance:bo.findFiberByHostInstance||$2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sl.isDisabled&&Sl.supportsFiber)try{Uc=Sl.inject(U2),Rn=Sl}catch{}}Jt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=B2;Jt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Wf(e))throw Error(U(200));return F2(t,e,null,n)};Jt.createRoot=function(t,e){if(!Wf(t))throw Error(U(299));var n=!1,s="",r=lx;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(s=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=zf(t,1,!1,null,null,n,!1,s,r),t[cs]=e.current,ca(t.nodeType===8?t.parentNode:t),new Uf(e)};Jt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(U(188)):(t=Object.keys(t).join(","),Error(U(268,t)));return t=Ny(e),t=t===null?null:t.stateNode,t};Jt.flushSync=function(t){return Br(t)};Jt.hydrate=function(t,e,n){if(!tu(e))throw Error(U(200));return nu(null,t,e,!0,n)};Jt.hydrateRoot=function(t,e,n){if(!Wf(t))throw Error(U(405));var s=n!=null&&n.hydratedSources||null,r=!1,i="",o=lx;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=ax(e,null,t,1,n??null,r,!1,i,o),t[cs]=e.current,ca(t),s)for(t=0;t<s.length;t++)n=s[t],r=n._getVersion,r=r(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,r]:e.mutableSourceEagerHydrationData.push(n,r);return new eu(e)};Jt.render=function(t,e,n){if(!tu(e))throw Error(U(200));return nu(null,t,e,!1,n)};Jt.unmountComponentAtNode=function(t){if(!tu(t))throw Error(U(40));return t._reactRootContainer?(Br(function(){nu(null,null,t,!1,function(){t._reactRootContainer=null,t[cs]=null})}),!0):!1};Jt.unstable_batchedUpdates=Lf;Jt.unstable_renderSubtreeIntoContainer=function(t,e,n,s){if(!tu(n))throw Error(U(200));if(t==null||t._reactInternals===void 0)throw Error(U(38));return nu(t,e,n,!1,s)};Jt.version="18.3.1-next-f1338f8080-20240426";function cx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(cx)}catch(t){console.error(t)}}cx(),cy.exports=Jt;var W2=cy.exports,ux,ig=W2;ux=ig.createRoot,ig.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function va(){return va=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},va.apply(this,arguments)}var Bs;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Bs||(Bs={}));const og="popstate";function H2(t){t===void 0&&(t={});function e(r,i){let{pathname:o="/",search:a="",hash:l=""}=Vr(r.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),jh("",{pathname:o,search:a,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){let o=r.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=r.location.href,u=l.indexOf("#");a=u===-1?l:l.slice(0,u)}return a+"#"+(typeof i=="string"?i:dx(i))}function s(r,i){Hf(r.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return V2(e,n,s,t)}function tt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Hf(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Y2(){return Math.random().toString(36).substr(2,8)}function ag(t,e){return{usr:t.state,key:t.key,idx:e}}function jh(t,e,n,s){return n===void 0&&(n=null),va({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Vr(e):e,{state:n,key:e&&e.key||s||Y2()})}function dx(t){let{pathname:e="/",search:n="",hash:s=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function Vr(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substr(s),t=t.substr(0,s)),t&&(e.pathname=t)}return e}function V2(t,e,n,s){s===void 0&&(s={});let{window:r=document.defaultView,v5Compat:i=!1}=s,o=r.history,a=Bs.Pop,l=null,u=d();u==null&&(u=0,o.replaceState(va({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function p(){a=Bs.Pop;let S=d(),x=S==null?null:S-u;u=S,l&&l({action:a,location:k.location,delta:x})}function g(S,x){a=Bs.Push;let w=jh(k.location,S,x);n&&n(w,S),u=d()+1;let j=ag(w,u),E=k.createHref(w);try{o.pushState(j,"",E)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;r.location.assign(E)}i&&l&&l({action:a,location:k.location,delta:1})}function v(S,x){a=Bs.Replace;let w=jh(k.location,S,x);n&&n(w,S),u=d();let j=ag(w,u),E=k.createHref(w);o.replaceState(j,"",E),i&&l&&l({action:a,location:k.location,delta:0})}function _(S){let x=r.location.origin!=="null"?r.location.origin:r.location.href,w=typeof S=="string"?S:dx(S);return w=w.replace(/ $/,"%20"),tt(x,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,x)}let k={get action(){return a},get location(){return t(r,o)},listen(S){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(og,p),l=S,()=>{r.removeEventListener(og,p),l=null}},createHref(S){return e(r,S)},createURL:_,encodeLocation(S){let x=_(S);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:g,replace:v,go(S){return o.go(S)}};return k}var lg;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(lg||(lg={}));function G2(t,e,n){return n===void 0&&(n="/"),q2(t,e,n)}function q2(t,e,n,s){let r=typeof e=="string"?Vr(e):e,i=px(r.pathname||"/",n);if(i==null)return null;let o=hx(t);K2(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=aj(i);a=rj(o[l],u)}return a}function hx(t,e,n,s){e===void 0&&(e=[]),n===void 0&&(n=[]),s===void 0&&(s="");let r=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(tt(l.relativePath.startsWith(s),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(s.length));let u=Ar([s,l.relativePath]),d=n.concat(l);i.children&&i.children.length>0&&(tt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),hx(i.children,e,d,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:nj(u,i.index),routesMeta:d})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))r(i,o);else for(let l of fx(i.path))r(i,o,l)}),e}function fx(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,r=n.endsWith("?"),i=n.replace(/\?$/,"");if(s.length===0)return r?[i,""]:[i];let o=fx(s.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),r&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function K2(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:sj(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}const J2=/^:[\w-]+$/,X2=3,Q2=2,Z2=1,ej=10,tj=-2,cg=t=>t==="*";function nj(t,e){let n=t.split("/"),s=n.length;return n.some(cg)&&(s+=tj),e&&(s+=Q2),n.filter(r=>!cg(r)).reduce((r,i)=>r+(J2.test(i)?X2:i===""?Z2:ej),s)}function sj(t,e){return t.length===e.length&&t.slice(0,-1).every((s,r)=>s===e[r])?t[t.length-1]-e[e.length-1]:0}function rj(t,e,n){let{routesMeta:s}=t,r={},i="/",o=[];for(let a=0;a<s.length;++a){let l=s[a],u=a===s.length-1,d=i==="/"?e:e.slice(i.length)||"/",p=ij({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),g=l.route;if(!p)return null;Object.assign(r,p.params),o.push({params:r,pathname:Ar([i,p.pathname]),pathnameBase:dj(Ar([i,p.pathnameBase])),route:g}),p.pathnameBase!=="/"&&(i=Ar([i,p.pathnameBase]))}return o}function ij(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=oj(t.path,t.caseSensitive,t.end),r=e.match(n);if(!r)return null;let i=r[0],o=i.replace(/(.)\/+$/,"$1"),a=r.slice(1);return{params:s.reduce((u,d,p)=>{let{paramName:g,isOptional:v}=d;if(g==="*"){let k=a[p]||"";o=i.slice(0,i.length-k.length).replace(/(.)\/+$/,"$1")}const _=a[p];return v&&!_?u[g]=void 0:u[g]=(_||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:t}}function oj(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Hf(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let s=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(s.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(s.push({paramName:"*"}),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),s]}function aj(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Hf(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function px(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}function lj(t,e){e===void 0&&(e="/");let{pathname:n,search:s="",hash:r=""}=typeof t=="string"?Vr(t):t;return{pathname:n?n.startsWith("/")?n:cj(n,e):e,search:hj(s),hash:fj(r)}}function cj(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function cd(t,e,n,s){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function uj(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function mx(t,e){let n=uj(t);return e?n.map((s,r)=>r===n.length-1?s.pathname:s.pathnameBase):n.map(s=>s.pathnameBase)}function gx(t,e,n,s){s===void 0&&(s=!1);let r;typeof t=="string"?r=Vr(t):(r=va({},t),tt(!r.pathname||!r.pathname.includes("?"),cd("?","pathname","search",r)),tt(!r.pathname||!r.pathname.includes("#"),cd("#","pathname","hash",r)),tt(!r.search||!r.search.includes("#"),cd("#","search","hash",r)));let i=t===""||r.pathname==="",o=i?"/":r.pathname,a;if(o==null)a=n;else{let p=e.length-1;if(!s&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),p-=1;r.pathname=g.join("/")}a=p>=0?e[p]:"/"}let l=lj(r,a),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const Ar=t=>t.join("/").replace(/\/\/+/g,"/"),dj=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),hj=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,fj=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function pj(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const yx=["post","put","patch","delete"];new Set(yx);const mj=["get",...yx];new Set(mj);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xa(){return xa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},xa.apply(this,arguments)}const Yf=D.createContext(null),gj=D.createContext(null),La=D.createContext(null),su=D.createContext(null),Gr=D.createContext({outlet:null,matches:[],isDataRoute:!1}),vx=D.createContext(null);function Ia(){return D.useContext(su)!=null}function Vf(){return Ia()||tt(!1),D.useContext(su).location}function xx(t){D.useContext(La).static||D.useLayoutEffect(t)}function Gf(){let{isDataRoute:t}=D.useContext(Gr);return t?Dj():yj()}function yj(){Ia()||tt(!1);let t=D.useContext(Yf),{basename:e,future:n,navigator:s}=D.useContext(La),{matches:r}=D.useContext(Gr),{pathname:i}=Vf(),o=JSON.stringify(mx(r,n.v7_relativeSplatPath)),a=D.useRef(!1);return xx(()=>{a.current=!0}),D.useCallback(function(u,d){if(d===void 0&&(d={}),!a.current)return;if(typeof u=="number"){s.go(u);return}let p=gx(u,JSON.parse(o),i,d.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Ar([e,p.pathname])),(d.replace?s.replace:s.push)(p,d.state,d)},[e,s,o,i,t])}function vj(t,e){return xj(t,e)}function xj(t,e,n,s){Ia()||tt(!1);let{navigator:r}=D.useContext(La),{matches:i}=D.useContext(Gr),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=Vf(),d;if(e){var p;let S=typeof e=="string"?Vr(e):e;l==="/"||(p=S.pathname)!=null&&p.startsWith(l)||tt(!1),d=S}else d=u;let g=d.pathname||"/",v=g;if(l!=="/"){let S=l.replace(/^\//,"").split("/");v="/"+g.replace(/^\//,"").split("/").slice(S.length).join("/")}let _=G2(t,{pathname:v}),k=Sj(_&&_.map(S=>Object.assign({},S,{params:Object.assign({},a,S.params),pathname:Ar([l,r.encodeLocation?r.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?l:Ar([l,r.encodeLocation?r.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),i,n,s);return e&&k?D.createElement(su.Provider,{value:{location:xa({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Bs.Pop}},k):k}function _j(){let t=Mj(),e=pj(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},e),n?D.createElement("pre",{style:r},n):null,null)}const bj=D.createElement(_j,null);class wj extends D.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?D.createElement(Gr.Provider,{value:this.props.routeContext},D.createElement(vx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function kj(t){let{routeContext:e,match:n,children:s}=t,r=D.useContext(Yf);return r&&r.static&&r.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),D.createElement(Gr.Provider,{value:e},s)}function Sj(t,e,n,s){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),s===void 0&&(s=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=s)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(r=n)==null?void 0:r.errors;if(a!=null){let d=o.findIndex(p=>p.route.id&&(a==null?void 0:a[p.route.id])!==void 0);d>=0||tt(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,u=-1;if(n&&s&&s.v7_partialHydration)for(let d=0;d<o.length;d++){let p=o[d];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(u=d),p.route.id){let{loaderData:g,errors:v}=n,_=p.route.loader&&g[p.route.id]===void 0&&(!v||v[p.route.id]===void 0);if(p.route.lazy||_){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,p,g)=>{let v,_=!1,k=null,S=null;n&&(v=a&&p.route.id?a[p.route.id]:void 0,k=p.route.errorElement||bj,l&&(u<0&&g===0?(Nj("route-fallback"),_=!0,S=null):u===g&&(_=!0,S=p.route.hydrateFallbackElement||null)));let x=e.concat(o.slice(0,g+1)),w=()=>{let j;return v?j=k:_?j=S:p.route.Component?j=D.createElement(p.route.Component,null):p.route.element?j=p.route.element:j=d,D.createElement(kj,{match:p,routeContext:{outlet:d,matches:x,isDataRoute:n!=null},children:j})};return n&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?D.createElement(wj,{location:n.location,revalidation:n.revalidation,component:k,error:v,children:w(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):w()},null)}var _x=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(_x||{}),bx=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(bx||{});function jj(t){let e=D.useContext(Yf);return e||tt(!1),e}function Cj(t){let e=D.useContext(gj);return e||tt(!1),e}function Ej(t){let e=D.useContext(Gr);return e||tt(!1),e}function wx(t){let e=Ej(),n=e.matches[e.matches.length-1];return n.route.id||tt(!1),n.route.id}function Mj(){var t;let e=D.useContext(vx),n=Cj(),s=wx();return e!==void 0?e:(t=n.errors)==null?void 0:t[s]}function Dj(){let{router:t}=jj(_x.UseNavigateStable),e=wx(bx.UseNavigateStable),n=D.useRef(!1);return xx(()=>{n.current=!0}),D.useCallback(function(r,i){i===void 0&&(i={}),n.current&&(typeof r=="number"?t.navigate(r):t.navigate(r,xa({fromRouteId:e},i)))},[t,e])}const ug={};function Nj(t,e,n){ug[t]||(ug[t]=!0)}function Pj(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Ch(t){let{to:e,replace:n,state:s,relative:r}=t;Ia()||tt(!1);let{future:i,static:o}=D.useContext(La),{matches:a}=D.useContext(Gr),{pathname:l}=Vf(),u=Gf(),d=gx(e,mx(a,i.v7_relativeSplatPath),l,r==="path"),p=JSON.stringify(d);return D.useEffect(()=>u(JSON.parse(p),{replace:n,state:s,relative:r}),[u,p,r,n,s]),null}function Ls(t){tt(!1)}function Tj(t){let{basename:e="/",children:n=null,location:s,navigationType:r=Bs.Pop,navigator:i,static:o=!1,future:a}=t;Ia()&&tt(!1);let l=e.replace(/^\/*/,"/"),u=D.useMemo(()=>({basename:l,navigator:i,static:o,future:xa({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof s=="string"&&(s=Vr(s));let{pathname:d="/",search:p="",hash:g="",state:v=null,key:_="default"}=s,k=D.useMemo(()=>{let S=px(d,l);return S==null?null:{location:{pathname:S,search:p,hash:g,state:v,key:_},navigationType:r}},[l,d,p,g,v,_,r]);return k==null?null:D.createElement(La.Provider,{value:u},D.createElement(su.Provider,{children:n,value:k}))}function kx(t){let{children:e,location:n}=t;return vj(Eh(e),n)}new Promise(()=>{});function Eh(t,e){e===void 0&&(e=[]);let n=[];return D.Children.forEach(t,(s,r)=>{if(!D.isValidElement(s))return;let i=[...e,r];if(s.type===D.Fragment){n.push.apply(n,Eh(s.props.children,i));return}s.type!==Ls&&tt(!1),!s.props.index||!s.props.children||tt(!1);let o={id:s.props.id||i.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(o.children=Eh(s.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const Oj="6";try{window.__reactRouterVersion=Oj}catch{}const Aj="startTransition",dg=Tk[Aj];function Rj(t){let{basename:e,children:n,future:s,window:r}=t,i=D.useRef();i.current==null&&(i.current=H2({window:r,v5Compat:!0}));let o=i.current,[a,l]=D.useState({action:o.action,location:o.location}),{v7_startTransition:u}=s||{},d=D.useCallback(p=>{u&&dg?dg(()=>l(p)):l(p)},[l,u]);return D.useLayoutEffect(()=>o.listen(d),[o,d]),D.useEffect(()=>Pj(s),[s]),D.createElement(Tj,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:s})}var hg;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(hg||(hg={}));var fg;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(fg||(fg={}));const Lj="modulepreload",Ij=function(t){return"/AndrewsDentalGroup/"+t},pg={},Bi=function(e,n,s){let r=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));r=Promise.allSettled(n.map(l=>{if(l=Ij(l),l in pg)return;pg[l]=!0;const u=l.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const p=document.createElement("link");if(p.rel=u?"stylesheet":Lj,u||(p.as="script"),p.crossOrigin="",p.href=l,a&&p.setAttribute("nonce",a),document.head.appendChild(p),u)return new Promise((g,v)=>{p.addEventListener("load",g),p.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return r.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})},Fj=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Bi(async()=>{const{default:s}=await Promise.resolve().then(()=>qi);return{default:s}},void 0).then(({default:s})=>s(...n)):e=fetch,(...n)=>e(...n)};class qf extends Error{constructor(e,n="FunctionsError",s){super(e),this.name=n,this.context=s}}class $j extends qf{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class zj extends qf{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Bj extends qf{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Mh;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Mh||(Mh={}));var Uj=function(t,e,n,s){function r(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{u(s.next(d))}catch(p){o(p)}}function l(d){try{u(s.throw(d))}catch(p){o(p)}}function u(d){d.done?i(d.value):r(d.value).then(a,l)}u((s=s.apply(t,e||[])).next())})};class Wj{constructor(e,{headers:n={},customFetch:s,region:r=Mh.Any}={}){this.url=e,this.headers=n,this.region=r,this.fetch=Fj(s)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var s;return Uj(this,void 0,void 0,function*(){try{const{headers:r,method:i,body:o}=n;let a={},{region:l}=n;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let u;o&&(r&&!Object.prototype.hasOwnProperty.call(r,"Content-Type")||!r)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(a["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(a["Content-Type"]="application/json",u=JSON.stringify(o)));const d=yield this.fetch(`${this.url}/${e}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),r),body:u}).catch(_=>{throw new $j(_)}),p=d.headers.get("x-relay-error");if(p&&p==="true")throw new zj(d);if(!d.ok)throw new Bj(d);let g=((s=d.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),v;return g==="application/json"?v=yield d.json():g==="application/octet-stream"?v=yield d.blob():g==="text/event-stream"?v=d:g==="multipart/form-data"?v=yield d.formData():v=yield d.text(),{data:v,error:null}}catch(r){return{data:null,error:r}}})}}var It={},Kf={},ru={},Fa={},iu={},ou={},Hj=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ui=Hj();const Yj=Ui.fetch,Sx=Ui.fetch.bind(Ui),jx=Ui.Headers,Vj=Ui.Request,Gj=Ui.Response,qi=Object.freeze(Object.defineProperty({__proto__:null,Headers:jx,Request:Vj,Response:Gj,default:Sx,fetch:Yj},Symbol.toStringTag,{value:"Module"})),qj=gk(qi);var au={};Object.defineProperty(au,"__esModule",{value:!0});let Kj=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};au.default=Kj;var Cx=Wt&&Wt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ou,"__esModule",{value:!0});const Jj=Cx(qj),Xj=Cx(au);let Qj=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=Jj.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=Object.assign({},this.headers),this.headers[e]=n,this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const s=this.fetch;let r=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,l;let u=null,d=null,p=null,g=i.status,v=i.statusText;if(i.ok){if(this.method!=="HEAD"){const x=await i.text();x===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=x:d=JSON.parse(x))}const k=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),S=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");k&&S&&S.length>1&&(p=parseInt(S[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,p=null,g=406,v="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const k=await i.text();try{u=JSON.parse(k),Array.isArray(u)&&i.status===404&&(d=[],u=null,g=200,v="OK")}catch{i.status===404&&k===""?(g=204,v="No Content"):u={message:k}}if(u&&this.isMaybeSingle&&(!((l=u==null?void 0:u.details)===null||l===void 0)&&l.includes("0 rows"))&&(u=null,g=200,v="OK"),u&&this.shouldThrowOnError)throw new Xj.default(u)}return{error:u,data:d,count:p,status:g,statusText:v}});return this.shouldThrowOnError||(r=r.catch(i=>{var o,a,l;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),r.then(e,n)}returns(){return this}overrideTypes(){return this}};ou.default=Qj;var Zj=Wt&&Wt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(iu,"__esModule",{value:!0});const eC=Zj(ou);let tC=class extends eC.default{select(e){let n=!1;const s=(e??"*").split("").map(r=>/\s/.test(r)&&!n?"":(r==='"'&&(n=!n),r)).join("");return this.url.searchParams.set("select",s),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:n=!0,nullsFirst:s,foreignTable:r,referencedTable:i=r}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${n?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:s=n}={}){const r=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,n,{foreignTable:s,referencedTable:r=s}={}){const i=typeof r>"u"?"offset":`${r}.offset`,o=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:n=!1,settings:s=!1,buffers:r=!1,wal:i=!1,format:o="text"}={}){var a;const l=[e?"analyze":null,n?"verbose":null,s?"settings":null,r?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${l};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};iu.default=tC;var nC=Wt&&Wt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Fa,"__esModule",{value:!0});const sC=nC(iu);let rC=class extends sC.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const s=Array.from(new Set(n)).map(r=>typeof r=="string"&&new RegExp("[,()]").test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`in.(${s})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:s,type:r}={}){let i="";r==="plain"?i="pl":r==="phrase"?i="ph":r==="websearch"&&(i="w");const o=s===void 0?"":`(${s})`;return this.url.searchParams.append(e,`${i}fts${o}.${n}`),this}match(e){return Object.entries(e).forEach(([n,s])=>{this.url.searchParams.append(n,`eq.${s}`)}),this}not(e,n,s){return this.url.searchParams.append(e,`not.${n}.${s}`),this}or(e,{foreignTable:n,referencedTable:s=n}={}){const r=s?`${s}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,n,s){return this.url.searchParams.append(e,`${n}.${s}`),this}};Fa.default=rC;var iC=Wt&&Wt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ru,"__esModule",{value:!0});const wo=iC(Fa);let oC=class{constructor(e,{headers:n={},schema:s,fetch:r}){this.url=e,this.headers=n,this.schema=s,this.fetch=r}select(e,{head:n=!1,count:s}={}){const r=n?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),s&&(this.headers.Prefer=`count=${s}`),new wo.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:n,defaultToNull:s=!0}={}){const r="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),s||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const o=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new wo.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:n,ignoreDuplicates:s=!1,count:r,defaultToNull:i=!0}={}){const o="POST",a=[`resolution=${s?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&a.push(this.headers.Prefer),r&&a.push(`count=${r}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const l=e.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(l.length>0){const u=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new wo.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:n}={}){const s="PATCH",r=[];return this.headers.Prefer&&r.push(this.headers.Prefer),n&&r.push(`count=${n}`),this.headers.Prefer=r.join(","),new wo.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const n="DELETE",s=[];return e&&s.push(`count=${e}`),this.headers.Prefer&&s.unshift(this.headers.Prefer),this.headers.Prefer=s.join(","),new wo.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};ru.default=oC;var lu={},cu={};Object.defineProperty(cu,"__esModule",{value:!0});cu.version=void 0;cu.version="0.0.0-automated";Object.defineProperty(lu,"__esModule",{value:!0});lu.DEFAULT_HEADERS=void 0;const aC=cu;lu.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${aC.version}`};var Ex=Wt&&Wt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Kf,"__esModule",{value:!0});const lC=Ex(ru),cC=Ex(Fa),uC=lu;let dC=class Mx{constructor(e,{headers:n={},schema:s,fetch:r}={}){this.url=e,this.headers=Object.assign(Object.assign({},uC.DEFAULT_HEADERS),n),this.schemaName=s,this.fetch=r}from(e){const n=new URL(`${this.url}/${e}`);return new lC.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Mx(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:s=!1,get:r=!1,count:i}={}){let o;const a=new URL(`${this.url}/rpc/${e}`);let l;s||r?(o=s?"HEAD":"GET",Object.entries(n).filter(([d,p])=>p!==void 0).map(([d,p])=>[d,Array.isArray(p)?`{${p.join(",")}}`:`${p}`]).forEach(([d,p])=>{a.searchParams.append(d,p)})):(o="POST",l=n);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new cC.default({method:o,url:a,headers:u,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};Kf.default=dC;var Ki=Wt&&Wt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(It,"__esModule",{value:!0});It.PostgrestError=It.PostgrestBuilder=It.PostgrestTransformBuilder=It.PostgrestFilterBuilder=It.PostgrestQueryBuilder=It.PostgrestClient=void 0;const Dx=Ki(Kf);It.PostgrestClient=Dx.default;const Nx=Ki(ru);It.PostgrestQueryBuilder=Nx.default;const Px=Ki(Fa);It.PostgrestFilterBuilder=Px.default;const Tx=Ki(iu);It.PostgrestTransformBuilder=Tx.default;const Ox=Ki(ou);It.PostgrestBuilder=Ox.default;const Ax=Ki(au);It.PostgrestError=Ax.default;var hC=It.default={PostgrestClient:Dx.default,PostgrestQueryBuilder:Nx.default,PostgrestFilterBuilder:Px.default,PostgrestTransformBuilder:Tx.default,PostgrestBuilder:Ox.default,PostgrestError:Ax.default};const{PostgrestClient:fC,PostgrestQueryBuilder:WO,PostgrestFilterBuilder:HO,PostgrestTransformBuilder:YO,PostgrestBuilder:VO,PostgrestError:GO}=hC,pC="2.11.2",mC={"X-Client-Info":`realtime-js/${pC}`},gC="1.0.0",Rx=1e4,yC=1e3;var Pi;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Pi||(Pi={}));var Yt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Yt||(Yt={}));var vn;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(vn||(vn={}));var Dh;(function(t){t.websocket="websocket"})(Dh||(Dh={}));var jr;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(jr||(jr={}));class vC{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),s=new TextDecoder;return this._decodeBroadcast(e,n,s)}_decodeBroadcast(e,n,s){const r=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=s.decode(e.slice(o,o+r));o=o+r;const l=s.decode(e.slice(o,o+i));o=o+i;const u=JSON.parse(s.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:u}}}class Lx{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Re;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Re||(Re={}));const mg=(t,e,n={})=>{var s;const r=(s=n.skipTypes)!==null&&s!==void 0?s:[];return Object.keys(e).reduce((i,o)=>(i[o]=xC(o,t,e,r),i),{})},xC=(t,e,n,s)=>{const r=e.find(a=>a.name===t),i=r==null?void 0:r.type,o=n[t];return i&&!s.includes(i)?Ix(i,o):Nh(o)},Ix=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return kC(e,n)}switch(t){case Re.bool:return _C(e);case Re.float4:case Re.float8:case Re.int2:case Re.int4:case Re.int8:case Re.numeric:case Re.oid:return bC(e);case Re.json:case Re.jsonb:return wC(e);case Re.timestamp:return SC(e);case Re.abstime:case Re.date:case Re.daterange:case Re.int4range:case Re.int8range:case Re.money:case Re.reltime:case Re.text:case Re.time:case Re.timestamptz:case Re.timetz:case Re.tsrange:case Re.tstzrange:return Nh(e);default:return Nh(e)}},Nh=t=>t,_C=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},bC=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},wC=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},kC=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,s=t[n];if(t[0]==="{"&&s==="}"){let i;const o=t.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>Ix(e,a))}return t},SC=t=>typeof t=="string"?t.replace(" ","T"):t,Fx=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class ud{constructor(e,n,s={},r=Rx){this.channel=e,this.event=n,this.payload=s,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var s;return this._hasReceived(e)&&n((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(s=>s.status===e).forEach(s=>s.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var gg;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(gg||(gg={}));class Yo{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},r=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Yo.syncState(this.state,r,i,o),this.pendingDiffs.forEach(l=>{this.state=Yo.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(s.diff,{},r=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(r):(this.state=Yo.syncDiff(this.state,r,i,o),a())}),this.onJoin((r,i,o)=>{this.channel._trigger("presence",{event:"join",key:r,currentPresences:i,newPresences:o})}),this.onLeave((r,i,o)=>{this.channel._trigger("presence",{event:"leave",key:r,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,s,r){const i=this.cloneDeep(e),o=this.transformState(n),a={},l={};return this.map(i,(u,d)=>{o[u]||(l[u]=d)}),this.map(o,(u,d)=>{const p=i[u];if(p){const g=d.map(S=>S.presence_ref),v=p.map(S=>S.presence_ref),_=d.filter(S=>v.indexOf(S.presence_ref)<0),k=p.filter(S=>g.indexOf(S.presence_ref)<0);_.length>0&&(a[u]=_),k.length>0&&(l[u]=k)}else a[u]=d}),this.syncDiff(i,{joins:a,leaves:l},s,r)}static syncDiff(e,n,s,r){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return s||(s=()=>{}),r||(r=()=>{}),this.map(i,(a,l)=>{var u;const d=(u=e[a])!==null&&u!==void 0?u:[];if(e[a]=this.cloneDeep(l),d.length>0){const p=e[a].map(v=>v.presence_ref),g=d.filter(v=>p.indexOf(v.presence_ref)<0);e[a].unshift(...g)}s(a,d,l)}),this.map(o,(a,l)=>{let u=e[a];if(!u)return;const d=l.map(p=>p.presence_ref);u=u.filter(p=>d.indexOf(p.presence_ref)<0),e[a]=u,r(a,u,l),u.length===0&&delete e[a]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(s=>n(s,e[s]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,s)=>{const r=e[s];return"metas"in r?n[s]=r.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[s]=r,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var yg;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(yg||(yg={}));var vg;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(vg||(vg={}));var Zn;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Zn||(Zn={}));class Jf{constructor(e,n={config:{}},s){this.topic=e,this.params=n,this.socket=s,this.bindings={},this.state=Yt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new ud(this,vn.join,this.params,this.timeout),this.rejoinTimer=new Lx(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Yt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(r=>r.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Yt.closed,this.socket._remove(this)}),this._onError(r=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,r),this.state=Yt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Yt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(vn.reply,{},(r,i)=>{this._trigger(this._replyEventName(i),r)}),this.presence=new Yo(this),this.broadcastEndpointURL=Fx(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var s,r;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(d=>e==null?void 0:e(Zn.CHANNEL_ERROR,d)),this._onClose(()=>e==null?void 0:e(Zn.CLOSED));const l={},u={broadcast:i,presence:o,postgres_changes:(r=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(d=>d.filter))!==null&&r!==void 0?r:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},l)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:d})=>{var p;if(this.socket.setAuth(),d===void 0){e==null||e(Zn.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,v=(p=g==null?void 0:g.length)!==null&&p!==void 0?p:0,_=[];for(let k=0;k<v;k++){const S=g[k],{filter:{event:x,schema:w,table:j,filter:E}}=S,M=d&&d[k];if(M&&M.event===x&&M.schema===w&&M.table===j&&M.filter===E)_.push(Object.assign(Object.assign({},S),{id:M.id}));else{this.unsubscribe(),e==null||e(Zn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=_,e&&e(Zn.SUBSCRIBED);return}}).receive("error",d=>{e==null||e(Zn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Zn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,s){return this._on(e,n,s)}async send(e,n={}){var s,r;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);return await((r=u.body)===null||r===void 0?void 0:r.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const u=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Yt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(vn.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(s=>{const r=new ud(this,vn.leave,{},e);r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})})}async _fetchWithTimeout(e,n,s){const r=new AbortController,i=setTimeout(()=>r.abort(),s),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:r.signal}));return clearTimeout(i),o}_push(e,n,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let r=new ud(this,e,n,s);return this._canPush()?r.send():(r.startTimeout(),this.pushBuffer.push(r)),r}_onMessage(e,n,s){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,s){var r,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:u,join:d}=vn;if(s&&[a,l,u,d].indexOf(o)>=0&&s!==this._joinRef())return;let g=this._onMessage(o,n,s);if(n&&!g)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(r=this.bindings.postgres_changes)===null||r===void 0||r.filter(v=>{var _,k,S;return((_=v.filter)===null||_===void 0?void 0:_.event)==="*"||((S=(k=v.filter)===null||k===void 0?void 0:k.event)===null||S===void 0?void 0:S.toLocaleLowerCase())===o}).map(v=>v.callback(g,s)):(i=this.bindings[o])===null||i===void 0||i.filter(v=>{var _,k,S,x,w,j;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in v){const E=v.id,M=(_=v.filter)===null||_===void 0?void 0:_.event;return E&&((k=n.ids)===null||k===void 0?void 0:k.includes(E))&&(M==="*"||(M==null?void 0:M.toLocaleLowerCase())===((S=n.data)===null||S===void 0?void 0:S.type.toLocaleLowerCase()))}else{const E=(w=(x=v==null?void 0:v.filter)===null||x===void 0?void 0:x.event)===null||w===void 0?void 0:w.toLocaleLowerCase();return E==="*"||E===((j=n==null?void 0:n.event)===null||j===void 0?void 0:j.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===o}).map(v=>{if(typeof g=="object"&&"ids"in g){const _=g.data,{schema:k,table:S,commit_timestamp:x,type:w,errors:j}=_;g=Object.assign(Object.assign({},{schema:k,table:S,commit_timestamp:x,eventType:w,new:{},old:{},errors:j}),this._getPayloadRecords(_))}v.callback(g,s)})}_isClosed(){return this.state===Yt.closed}_isJoined(){return this.state===Yt.joined}_isJoining(){return this.state===Yt.joining}_isLeaving(){return this.state===Yt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,s){const r=e.toLocaleLowerCase(),i={type:r,filter:n,callback:s};return this.bindings[r]?this.bindings[r].push(i):this.bindings[r]=[i],this}_off(e,n){const s=e.toLocaleLowerCase();return this.bindings[s]=this.bindings[s].filter(r=>{var i;return!(((i=r.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===s&&Jf.isEqual(r.filter,n))}),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const s in e)if(e[s]!==n[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(vn.close,{},e)}_onError(e){this._on(vn.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Yt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=mg(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=mg(e.columns,e.old_record)),n}}const jC=()=>{},CC=typeof WebSocket<"u",EC=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class MC{constructor(e,n){var s;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=mC,this.params={},this.timeout=Rx,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=jC,this.conn=null,this.sendBuffer=[],this.serializer=new vC,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>Bi(async()=>{const{default:l}=await Promise.resolve().then(()=>qi);return{default:l}},void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${e}/${Dh.websocket}`,this.httpEndpoint=Fx(e),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const r=(s=n==null?void 0:n.params)===null||s===void 0?void 0:s.apikey;if(r&&(this.accessTokenValue=r,this.apiKey=r),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(i,o)=>o(JSON.stringify(i)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Lx(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(CC){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new DC(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),Bi(async()=>{const{default:e}=await import("./browser-BLVRMIHF.js").then(n=>n.b);return{default:e}},[]).then(({default:e})=>{this.conn=new e(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:gC}))}disconnect(e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),e}log(e,n,s){this.logger(e,n,s)}connectionState(){switch(this.conn&&this.conn.readyState){case Pi.connecting:return jr.Connecting;case Pi.open:return jr.Open;case Pi.closing:return jr.Closing;default:return jr.Closed}}isConnected(){return this.connectionState()===jr.Open}channel(e,n={config:{}}){const s=new Jf(`realtime:${e}`,n,this);return this.channels.push(s),s}push(e){const{topic:n,event:s,payload:r,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${s} (${i})`,r),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){let n=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(n){let s=null;try{s=JSON.parse(atob(n.split(".")[1]))}catch{}if(s&&s.exp&&!(Math.floor(Date.now()/1e3)-s.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${s.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${s.exp}`);this.accessTokenValue=n,this.channels.forEach(r=>{n&&r.updateJoinPayload({access_token:n}),r.joinedOnce&&r._isJoined()&&r._push(vn.access_token,{access_token:n})})}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(yC,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(s=>s.topic===e&&(s._isJoined()||s._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,n=>{let{topic:s,event:r,payload:i,ref:o}=n;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${s} ${r} ${o&&"("+o+")"||""}`,i),this.channels.filter(a=>a._isMember(s)).forEach(a=>a._trigger(r,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(vn.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const s=e.match(/\?/)?"&":"?",r=new URLSearchParams(n);return`${e}${s}${r}`}_workerObjectUrl(e){let n;if(e)n=e;else{const s=new Blob([EC],{type:"application/javascript"});n=URL.createObjectURL(s)}return n}}class DC{constructor(e,n,s){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Pi.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=s.close}}class Xf extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function ut(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class NC extends Xf{constructor(e,n){super(e),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Ph extends Xf{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var PC=function(t,e,n,s){function r(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{u(s.next(d))}catch(p){o(p)}}function l(d){try{u(s.throw(d))}catch(p){o(p)}}function u(d){d.done?i(d.value):r(d.value).then(a,l)}u((s=s.apply(t,e||[])).next())})};const $x=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Bi(async()=>{const{default:s}=await Promise.resolve().then(()=>qi);return{default:s}},void 0).then(({default:s})=>s(...n)):e=fetch,(...n)=>e(...n)},TC=()=>PC(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Bi(()=>Promise.resolve().then(()=>qi),void 0)).Response:Response}),Th=t=>{if(Array.isArray(t))return t.map(n=>Th(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,s])=>{const r=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[r]=Th(s)}),e};var qr=function(t,e,n,s){function r(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{u(s.next(d))}catch(p){o(p)}}function l(d){try{u(s.throw(d))}catch(p){o(p)}}function u(d){d.done?i(d.value):r(d.value).then(a,l)}u((s=s.apply(t,e||[])).next())})};const dd=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),OC=(t,e,n)=>qr(void 0,void 0,void 0,function*(){const s=yield TC();t instanceof s&&!(n!=null&&n.noResolveJson)?t.json().then(r=>{e(new NC(dd(r),t.status||500))}).catch(r=>{e(new Ph(dd(r),r))}):e(new Ph(dd(t),t))}),AC=(t,e,n,s)=>{const r={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s&&(r.body=JSON.stringify(s)),Object.assign(Object.assign({},r),n))};function $a(t,e,n,s,r,i){return qr(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(n,AC(e,s,r,i)).then(l=>{if(!l.ok)throw l;return s!=null&&s.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>OC(l,a,s))})})}function Pc(t,e,n,s){return qr(this,void 0,void 0,function*(){return $a(t,"GET",e,n,s)})}function Os(t,e,n,s,r){return qr(this,void 0,void 0,function*(){return $a(t,"POST",e,s,r,n)})}function RC(t,e,n,s,r){return qr(this,void 0,void 0,function*(){return $a(t,"PUT",e,s,r,n)})}function LC(t,e,n,s){return qr(this,void 0,void 0,function*(){return $a(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),s)})}function zx(t,e,n,s,r){return qr(this,void 0,void 0,function*(){return $a(t,"DELETE",e,s,r,n)})}var At=function(t,e,n,s){function r(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{u(s.next(d))}catch(p){o(p)}}function l(d){try{u(s.throw(d))}catch(p){o(p)}}function u(d){d.done?i(d.value):r(d.value).then(a,l)}u((s=s.apply(t,e||[])).next())})};const IC={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},xg={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class FC{constructor(e,n={},s,r){this.url=e,this.headers=n,this.bucketId=s,this.fetch=$x(r)}uploadOrUpdate(e,n,s,r){return At(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},xg),r);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&s instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",s)):typeof FormData<"u"&&s instanceof FormData?(i=s,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=s,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),r!=null&&r.headers&&(a=Object.assign(Object.assign({},a),r.headers));const u=this._removeEmptyFolders(n),d=this._getFinalPath(u),p=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:e,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),g=yield p.json();return p.ok?{data:{path:u,id:g.Id,fullPath:g.Key},error:null}:{data:null,error:g}}catch(i){if(ut(i))return{data:null,error:i};throw i}})}upload(e,n,s){return At(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,s)})}uploadToSignedUrl(e,n,s,r){return At(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let l;const u=Object.assign({upsert:xg.upsert},r),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&s instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",s)):typeof FormData<"u"&&s instanceof FormData?(l=s,l.append("cacheControl",u.cacheControl)):(l=s,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const p=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:d}),g=yield p.json();return p.ok?{data:{path:i,fullPath:g.Key},error:null}:{data:null,error:g}}catch(l){if(ut(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,n){return At(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e);const r=Object.assign({},this.headers);n!=null&&n.upsert&&(r["x-upsert"]="true");const i=yield Os(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:r}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new Xf("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(s){if(ut(s))return{data:null,error:s};throw s}})}update(e,n,s){return At(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,s)})}move(e,n,s){return At(this,void 0,void 0,function*(){try{return{data:yield Os(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers}),error:null}}catch(r){if(ut(r))return{data:null,error:r};throw r}})}copy(e,n,s){return At(this,void 0,void 0,function*(){try{return{data:{path:(yield Os(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers})).Key},error:null}}catch(r){if(ut(r))return{data:null,error:r};throw r}})}createSignedUrl(e,n,s){return At(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e),i=yield Os(this.fetch,`${this.url}/object/sign/${r}`,Object.assign({expiresIn:n},s!=null&&s.transform?{transform:s.transform}:{}),{headers:this.headers});const o=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(r){if(ut(r))return{data:null,error:r};throw r}})}createSignedUrls(e,n,s){return At(this,void 0,void 0,function*(){try{const r=yield Os(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),i=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return{data:r.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(r){if(ut(r))return{data:null,error:r};throw r}})}download(e,n){return At(this,void 0,void 0,function*(){const r=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield Pc(this.fetch,`${this.url}/${r}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(ut(a))return{data:null,error:a};throw a}})}info(e){return At(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const s=yield Pc(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Th(s),error:null}}catch(s){if(ut(s))return{data:null,error:s};throw s}})}exists(e){return At(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield LC(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(ut(s)&&s instanceof Ph){const r=s.originalError;if([400,404].includes(r==null?void 0:r.status))return{data:!1,error:s}}throw s}})}getPublicUrl(e,n){const s=this._getFinalPath(e),r=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&r.push(i);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&r.push(l);let u=r.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${s}${u}`)}}}remove(e){return At(this,void 0,void 0,function*(){try{return{data:yield zx(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(ut(n))return{data:null,error:n};throw n}})}list(e,n,s){return At(this,void 0,void 0,function*(){try{const r=Object.assign(Object.assign(Object.assign({},IC),n),{prefix:e||""});return{data:yield Os(this.fetch,`${this.url}/object/list/${this.bucketId}`,r,{headers:this.headers},s),error:null}}catch(r){if(ut(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const $C="2.7.1",zC={"X-Client-Info":`storage-js/${$C}`};var oi=function(t,e,n,s){function r(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{u(s.next(d))}catch(p){o(p)}}function l(d){try{u(s.throw(d))}catch(p){o(p)}}function u(d){d.done?i(d.value):r(d.value).then(a,l)}u((s=s.apply(t,e||[])).next())})};class BC{constructor(e,n={},s){this.url=e,this.headers=Object.assign(Object.assign({},zC),n),this.fetch=$x(s)}listBuckets(){return oi(this,void 0,void 0,function*(){try{return{data:yield Pc(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(ut(e))return{data:null,error:e};throw e}})}getBucket(e){return oi(this,void 0,void 0,function*(){try{return{data:yield Pc(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(ut(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return oi(this,void 0,void 0,function*(){try{return{data:yield Os(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(ut(s))return{data:null,error:s};throw s}})}updateBucket(e,n){return oi(this,void 0,void 0,function*(){try{return{data:yield RC(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(ut(s))return{data:null,error:s};throw s}})}emptyBucket(e){return oi(this,void 0,void 0,function*(){try{return{data:yield Os(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(ut(n))return{data:null,error:n};throw n}})}deleteBucket(e){return oi(this,void 0,void 0,function*(){try{return{data:yield zx(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(ut(n))return{data:null,error:n};throw n}})}}class UC extends BC{constructor(e,n={},s){super(e,n,s)}from(e){return new FC(this.url,this.headers,e,this.fetch)}}const WC="2.49.8";let To="";typeof Deno<"u"?To="deno":typeof document<"u"?To="web":typeof navigator<"u"&&navigator.product==="ReactNative"?To="react-native":To="node";const HC={"X-Client-Info":`supabase-js-${To}/${WC}`},YC={headers:HC},VC={schema:"public"},GC={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},qC={};var KC=function(t,e,n,s){function r(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{u(s.next(d))}catch(p){o(p)}}function l(d){try{u(s.throw(d))}catch(p){o(p)}}function u(d){d.done?i(d.value):r(d.value).then(a,l)}u((s=s.apply(t,e||[])).next())})};const JC=t=>{let e;return t?e=t:typeof fetch>"u"?e=Sx:e=fetch,(...n)=>e(...n)},XC=()=>typeof Headers>"u"?jx:Headers,QC=(t,e,n)=>{const s=JC(n),r=XC();return(i,o)=>KC(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:t;let u=new r(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),s(i,Object.assign(Object.assign({},o),{headers:u}))})};var ZC=function(t,e,n,s){function r(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{u(s.next(d))}catch(p){o(p)}}function l(d){try{u(s.throw(d))}catch(p){o(p)}}function u(d){d.done?i(d.value):r(d.value).then(a,l)}u((s=s.apply(t,e||[])).next())})};function eE(t){return t.endsWith("/")?t:t+"/"}function tE(t,e){var n,s;const{db:r,auth:i,realtime:o,global:a}=t,{db:l,auth:u,realtime:d,global:p}=e,g={db:Object.assign(Object.assign({},l),r),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),o),global:Object.assign(Object.assign(Object.assign({},p),a),{headers:Object.assign(Object.assign({},(n=p==null?void 0:p.headers)!==null&&n!==void 0?n:{}),(s=a==null?void 0:a.headers)!==null&&s!==void 0?s:{})}),accessToken:()=>ZC(this,void 0,void 0,function*(){return""})};return t.accessToken?g.accessToken=t.accessToken:delete g.accessToken,g}const Bx="2.69.1",di=30*1e3,Oh=3,hd=Oh*di,nE="http://localhost:9999",sE="supabase.auth.token",rE={"X-Client-Info":`gotrue-js/${Bx}`},Ah="X-Supabase-Api-Version",Ux={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},iE=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,oE=6e5;class Qf extends Error{constructor(e,n,s){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=s}}function ge(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class aE extends Qf{constructor(e,n,s){super(e,n,s),this.name="AuthApiError",this.status=n,this.code=s}}function lE(t){return ge(t)&&t.name==="AuthApiError"}class Wx extends Qf{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class ir extends Qf{constructor(e,n,s,r){super(e,s,r),this.name=n,this.status=s}}class Ds extends ir{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function cE(t){return ge(t)&&t.name==="AuthSessionMissingError"}class fd extends ir{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class jl extends ir{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Cl extends ir{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function uE(t){return ge(t)&&t.name==="AuthImplicitGrantRedirectError"}class _g extends ir{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Rh extends ir{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function pd(t){return ge(t)&&t.name==="AuthRetryableFetchError"}class bg extends ir{constructor(e,n,s){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=s}}class Vo extends ir{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const wg="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),kg=` 	
\r=`.split(""),dE=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<kg.length;e+=1)t[kg[e].charCodeAt(0)]=-2;for(let e=0;e<wg.length;e+=1)t[wg[e].charCodeAt(0)]=e;return t})();function Hx(t,e,n){const s=dE[t];if(s>-1)for(e.queue=e.queue<<6|s,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Sg(t){const e=[],n=o=>{e.push(String.fromCodePoint(o))},s={utf8seq:0,codepoint:0},r={queue:0,queuedBits:0},i=o=>{pE(o,s,n)};for(let o=0;o<t.length;o+=1)Hx(t.charCodeAt(o),r,i);return e.join("")}function hE(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function fE(t,e){for(let n=0;n<t.length;n+=1){let s=t.charCodeAt(n);if(s>55295&&s<=56319){const r=(s-55296)*1024&65535;s=(t.charCodeAt(n+1)-56320&65535|r)+65536,n+=1}hE(s,e)}}function pE(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let s=1;s<6;s+=1)if(!(t>>7-s&1)){e.utf8seq=s;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function mE(t){const e=[],n={queue:0,queuedBits:0},s=r=>{e.push(r)};for(let r=0;r<t.length;r+=1)Hx(t.charCodeAt(r),n,s);return new Uint8Array(e)}function gE(t){const e=[];return fE(t,n=>e.push(n)),new Uint8Array(e)}function yE(t){return Math.round(Date.now()/1e3)+t}function vE(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Dn=()=>typeof window<"u"&&typeof document<"u",gr={tested:!1,writable:!1},Go=()=>{if(!Dn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(gr.tested)return gr.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),gr.tested=!0,gr.writable=!0}catch{gr.tested=!0,gr.writable=!1}return gr.writable};function xE(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((r,i)=>{e[i]=r})}catch{}return n.searchParams.forEach((s,r)=>{e[r]=s}),e}const Yx=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Bi(async()=>{const{default:s}=await Promise.resolve().then(()=>qi);return{default:s}},void 0).then(({default:s})=>s(...n)):e=fetch,(...n)=>e(...n)},_E=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Vx=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},El=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Ml=async(t,e)=>{await t.removeItem(e)};class uu{constructor(){this.promise=new uu.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}uu.promiseConstructor=Promise;function md(t){const e=t.split(".");if(e.length!==3)throw new Vo("Invalid JWT structure");for(let s=0;s<e.length;s++)if(!iE.test(e[s]))throw new Vo("JWT not in base64url format");return{header:JSON.parse(Sg(e[0])),payload:JSON.parse(Sg(e[1])),signature:mE(e[2]),raw:{header:e[0],payload:e[1]}}}async function bE(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function wE(t,e){return new Promise((s,r)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){s(o);return}}catch(o){if(!e(i,o)){r(o);return}}})()})}function kE(t){return("0"+t.toString(16)).substr(-2)}function SE(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=n.length;let r="";for(let i=0;i<56;i++)r+=n.charAt(Math.floor(Math.random()*s));return r}return crypto.getRandomValues(e),Array.from(e,kE).join("")}async function jE(t){const n=new TextEncoder().encode(t),s=await crypto.subtle.digest("SHA-256",n),r=new Uint8Array(s);return Array.from(r).map(i=>String.fromCharCode(i)).join("")}async function CE(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await jE(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ai(t,e,n=!1){const s=SE();let r=s;n&&(r+="/PASSWORD_RECOVERY"),await Vx(t,`${e}-code-verifier`,r);const i=await CE(s);return[i,s===i?"plain":"s256"]}const EE=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function ME(t){const e=t.headers.get(Ah);if(!e||!e.match(EE))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function DE(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function NE(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var PE=function(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(t);r<s.length;r++)e.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(t,s[r])&&(n[s[r]]=t[s[r]]);return n};const wr=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),TE=[502,503,504];async function jg(t){var e;if(!_E(t))throw new Rh(wr(t),0);if(TE.includes(t.status))throw new Rh(wr(t),t.status);let n;try{n=await t.json()}catch(i){throw new Wx(wr(i),i)}let s;const r=ME(t);if(r&&r.getTime()>=Ux["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?s=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(s=n.error_code),s){if(s==="weak_password")throw new bg(wr(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(s==="session_not_found")throw new Ds}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new bg(wr(n),t.status,n.weak_password.reasons);throw new aE(wr(n),t.status||500,s)}const OE=(t,e,n,s)=>{const r={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),r.body=JSON.stringify(s),Object.assign(Object.assign({},r),n))};async function be(t,e,n,s){var r;const i=Object.assign({},s==null?void 0:s.headers);i[Ah]||(i[Ah]=Ux["2024-01-01"].name),s!=null&&s.jwt&&(i.Authorization=`Bearer ${s.jwt}`);const o=(r=s==null?void 0:s.query)!==null&&r!==void 0?r:{};s!=null&&s.redirectTo&&(o.redirect_to=s.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await AE(t,e,n+a,{headers:i,noResolveJson:s==null?void 0:s.noResolveJson},{},s==null?void 0:s.body);return s!=null&&s.xform?s==null?void 0:s.xform(l):{data:Object.assign({},l),error:null}}async function AE(t,e,n,s,r,i){const o=OE(e,s,r,i);let a;try{a=await t(n,Object.assign({},o))}catch(l){throw console.error(l),new Rh(wr(l),0)}if(a.ok||await jg(a),s!=null&&s.noResolveJson)return a;try{return await a.json()}catch(l){await jg(l)}}function Ns(t){var e;let n=null;FE(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=yE(t.expires_in)));const s=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:s},error:null}}function Cg(t){const e=Ns(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,s)=>n&&typeof s=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Is(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function RE(t){return{data:t,error:null}}function LE(t){const{action_link:e,email_otp:n,hashed_token:s,redirect_to:r,verification_type:i}=t,o=PE(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:n,hashed_token:s,redirect_to:r,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function IE(t){return t}function FE(t){return t.access_token&&t.refresh_token&&t.expires_in}var $E=function(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(t);r<s.length;r++)e.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(t,s[r])&&(n[s[r]]=t[s[r]]);return n};class zE{constructor({url:e="",headers:n={},fetch:s}){this.url=e,this.headers=n,this.fetch=Yx(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n="global"){try{return await be(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(s){if(ge(s))return{data:null,error:s};throw s}}async inviteUserByEmail(e,n={}){try{return await be(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Is})}catch(s){if(ge(s))return{data:{user:null},error:s};throw s}}async generateLink(e){try{const{options:n}=e,s=$E(e,["options"]),r=Object.assign(Object.assign({},s),n);return"newEmail"in s&&(r.new_email=s==null?void 0:s.newEmail,delete r.newEmail),await be(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:r,headers:this.headers,xform:LE,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(ge(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await be(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Is})}catch(n){if(ge(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,s,r,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},d=await be(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&s!==void 0?s:"",per_page:(i=(r=e==null?void 0:e.perPage)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:""},xform:IE});if(d.error)throw d.error;const p=await d.json(),g=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,v=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return v.length>0&&(v.forEach(_=>{const k=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(_.split(";")[1].split("=")[1]);u[`${S}Page`]=k}),u.total=parseInt(g)),{data:Object.assign(Object.assign({},p),u),error:null}}catch(u){if(ge(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){try{return await be(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Is})}catch(n){if(ge(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){try{return await be(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Is})}catch(s){if(ge(s))return{data:{user:null},error:s};throw s}}async deleteUser(e,n=!1){try{return await be(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Is})}catch(s){if(ge(s))return{data:{user:null},error:s};throw s}}async _listFactors(e){try{const{data:n,error:s}=await be(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:r=>({data:{factors:r},error:null})});return{data:n,error:s}}catch(n){if(ge(n))return{data:null,error:n};throw n}}async _deleteFactor(e){try{return{data:await be(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(ge(n))return{data:null,error:n};throw n}}}const BE={getItem:t=>Go()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{Go()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{Go()&&globalThis.localStorage.removeItem(t)}};function Eg(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function UE(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const li={debug:!!(globalThis&&Go()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Gx extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class WE extends Gx{}async function HE(t,e,n){li.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const s=new globalThis.AbortController;return e>0&&setTimeout(()=>{s.abort(),li.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async r=>{if(r){li.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,r.name);try{return await n()}finally{li.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,r.name)}}else{if(e===0)throw li.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new WE(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(li.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}UE();const YE={url:nE,storageKey:sE,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:rE,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Mg(t,e,n){return await n()}class _a{constructor(e){var n,s;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=_a.nextInstanceID,_a.nextInstanceID+=1,this.instanceID>0&&Dn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const r=Object.assign(Object.assign({},YE),e);if(this.logDebugMessages=!!r.debug,typeof r.debug=="function"&&(this.logger=r.debug),this.persistSession=r.persistSession,this.storageKey=r.storageKey,this.autoRefreshToken=r.autoRefreshToken,this.admin=new zE({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=Yx(r.fetch),this.lock=r.lock||Mg,this.detectSessionInUrl=r.detectSessionInUrl,this.flowType=r.flowType,this.hasCustomAuthorizationHeader=r.hasCustomAuthorizationHeader,r.lock?this.lock=r.lock:Dn()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=HE:this.lock=Mg,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?r.storage?this.storage=r.storage:Go()?this.storage=BE:(this.memoryStorage={},this.storage=Eg(this.memoryStorage)):(this.memoryStorage={},this.storage=Eg(this.memoryStorage)),Dn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Bx}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=xE(window.location.href);let s="none";if(this._isImplicitGrantCallback(n)?s="implicit":await this._isPKCECallback(n)&&(s="pkce"),Dn()&&this.detectSessionInUrl&&s!=="none"){const{data:r,error:i}=await this._getSessionFromURL(n,s);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),uE(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=r;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return ge(n)?{error:n}:{error:new Wx("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,s,r;try{const i=await be(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.captchaToken}},xform:Ns}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(ge(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var n,s,r;try{let i;if("email"in e){const{email:d,password:p,options:g}=e;let v=null,_=null;this.flowType==="pkce"&&([v,_]=await ai(this.storage,this.storageKey)),i=await be(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:g==null?void 0:g.emailRedirectTo,body:{email:d,password:p,data:(n=g==null?void 0:g.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:v,code_challenge_method:_},xform:Ns})}else if("phone"in e){const{phone:d,password:p,options:g}=e;i=await be(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:p,data:(s=g==null?void 0:g.data)!==null&&s!==void 0?s:{},channel:(r=g==null?void 0:g.channel)!==null&&r!==void 0?r:"sms",gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:Ns})}else throw new jl("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(ge(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let n;if("email"in e){const{email:i,password:o,options:a}=e;n=await be(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Cg})}else if("phone"in e){const{phone:i,password:o,options:a}=e;n=await be(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Cg})}else throw new jl("You must provide either an email or phone number and a password");const{data:s,error:r}=n;return r?{data:{user:null,session:null},error:r}:!s||!s.session||!s.user?{data:{user:null,session:null},error:new fd}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:r})}catch(n){if(ge(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,s,r,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(r=e.options)===null||r===void 0?void 0:r.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const n=await El(this.storage,`${this.storageKey}-code-verifier`),[s,r]=(n??"").split("/");try{const{data:i,error:o}=await be(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:s},xform:Ns});if(await Ml(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new fd}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:r??null}),error:o})}catch(i){if(ge(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:n,provider:s,token:r,access_token:i,nonce:o}=e,a=await be(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:r,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Ns}),{data:l,error:u}=a;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new fd}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(n){if(ge(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,s,r,i,o;try{if("email"in e){const{email:a,options:l}=e;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await ai(this.storage,this.storageKey));const{error:p}=await be(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(s=l==null?void 0:l.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:p}}if("phone"in e){const{phone:a,options:l}=e,{data:u,error:d}=await be(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new jl("You must provide either an email or phone number.")}catch(a){if(ge(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var n,s;try{let r,i;"options"in e&&(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo,i=(s=e.options)===null||s===void 0?void 0:s.captchaToken);const{data:o,error:a}=await be(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:r,xform:Ns});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(r){if(ge(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithSSO(e){var n,s,r;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await ai(this.storage,this.storageKey)),await be(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&s!==void 0?s:void 0}),!((r=e==null?void 0:e.options)===null||r===void 0)&&r.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:RE})}catch(i){if(ge(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:s}=e;if(s)throw s;if(!n)throw new Ds;const{error:r}=await be(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:r}})}catch(e){if(ge(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:s,type:r,options:i}=e,{error:o}=await be(this.fetch,"POST",n,{headers:this.headers,body:{email:s,type:r,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:s,type:r,options:i}=e,{data:o,error:a}=await be(this.fetch,"POST",n,{headers:this.headers,body:{phone:s,type:r,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new jl("You must provide either an email or phone number and a type")}catch(n){if(ge(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),r=(async()=>(await s,await n()))();return this.pendingInLock.push((async()=>{try{await r}catch{}})()),r}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=n();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const r=[...this.pendingInLock];await Promise.all(r),this.pendingInLock.splice(0,r.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await El(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const s=e.expires_at?e.expires_at*1e3-Date.now()<hd:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",e.expires_at),!s){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,d))})}return{data:{session:e},error:null}}const{session:r,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:r},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await be(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Is}):await this._useSession(async n=>{var s,r,i;const{data:o,error:a}=n;if(a)throw a;return!(!((s=o.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ds}:await be(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0,xform:Is})})}catch(n){if(ge(n))return cE(n)&&(await this._removeSession(),await Ml(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async s=>{const{data:r,error:i}=s;if(i)throw i;if(!r.session)throw new Ds;const o=r.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await ai(this.storage,this.storageKey));const{data:u,error:d}=await be(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Is});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(s){if(ge(s))return{data:{user:null},error:s};throw s}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Ds;const n=Date.now()/1e3;let s=n,r=!0,i=null;const{payload:o}=md(e.access_token);if(o.exp&&(s=o.exp,r=s<=n),r){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:s-n,expires_at:s},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(ge(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var s;if(!e){const{data:o,error:a}=n;if(a)throw a;e=(s=o.session)!==null&&s!==void 0?s:void 0}if(!(e!=null&&e.refresh_token))throw new Ds;const{session:r,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:r?{data:{user:r.user,session:r},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(ge(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!Dn())throw new Cl("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Cl(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new _g("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Cl("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new _g("No code detected.");const{data:w,error:j}=await this._exchangeCodeForSession(e.code);if(j)throw j;const E=new URL(window.location.href);return E.searchParams.delete("code"),window.history.replaceState(window.history.state,"",E.toString()),{data:{session:w.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:r,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=e;if(!i||!a||!o||!u)throw new Cl("No session defined in URL");const d=Math.round(Date.now()/1e3),p=parseInt(a);let g=d+p;l&&(g=parseInt(l));const v=g-d;v*1e3<=di&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${p}s`);const _=g-p;d-_>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",_,g,d):d-_<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",_,g,d);const{data:k,error:S}=await this._getUser(i);if(S)throw S;const x={provider_token:s,provider_refresh_token:r,access_token:i,expires_in:p,expires_at:g,refresh_token:o,token_type:u,user:k.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:x,redirectType:e.type},error:null}}catch(s){if(ge(s))return{data:{session:null,redirectType:null},error:s};throw s}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await El(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var s;const{data:r,error:i}=n;if(i)return{error:i};const o=(s=r.session)===null||s===void 0?void 0:s.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(lE(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await Ml(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=vE(),s={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:s}}}async _emitInitialSession(e){return await this._useSession(async n=>{var s,r;try{const{data:{session:i},error:o}=n;if(o)throw o;await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,n={}){let s=null,r=null;this.flowType==="pkce"&&([s,r]=await ai(this.storage,this.storageKey,!0));try{return await be(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:s,code_challenge_method:r,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(ge(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:n,error:s}=await this.getUser();if(s)throw s;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(ge(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:s,error:r}=await this._useSession(async i=>{var o,a,l,u,d;const{data:p,error:g}=i;if(g)throw g;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await be(this.fetch,"GET",v,{headers:this.headers,jwt:(d=(u=p.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(r)throw r;return Dn()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(s==null?void 0:s.url),{data:{provider:e.provider,url:s==null?void 0:s.url},error:null}}catch(s){if(ge(s))return{data:{provider:e.provider,url:null},error:s};throw s}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var s,r;const{data:i,error:o}=n;if(o)throw o;return await be(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(r=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&r!==void 0?r:void 0})})}catch(n){if(ge(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const s=Date.now();return await wE(async r=>(r>0&&await bE(200*Math.pow(2,r-1)),this._debug(n,"refreshing attempt",r),await be(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Ns})),(r,i)=>{const o=200*Math.pow(2,r);return i&&pd(i)&&Date.now()+o-s<di})}catch(s){if(this._debug(n,"error",s),ge(s))return{data:{session:null,user:null},error:s};throw s}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const s=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",s),Dn()&&!n.skipBrowserRedirect&&window.location.assign(s),{data:{provider:e,url:s},error:null}}async _recoverAndRefresh(){var e;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await El(this.storage,this.storageKey);if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const r=((e=s.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<hd;if(this._debug(n,`session has${r?"":" not"} expired with margin of ${hd}s`),r){if(this.autoRefreshToken&&s.refresh_token){const{error:i}=await this._callRefreshToken(s.refresh_token);i&&(console.error(i),pd(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var n,s;if(!e)throw new Ds;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{this.refreshingDeferred=new uu;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new Ds;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(r,"error",i),ge(i)){const o={session:null,error:i};return pd(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(i),i}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(e,n,s=!0){const r=`#_notifyAllSubscribers(${e})`;this._debug(r,"begin",n,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:e,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,n)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(r,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Vx(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await Ml(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Dn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),di);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:s}}=n;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const r=Math.floor((s.expires_at*1e3-e)/di);this._debug("#_autoRefreshTokenTick()",`access token expires in ${r} ticks, a tick lasts ${di}ms, refresh threshold is ${Oh} ticks`),r<=Oh&&await this._callRefreshToken(s.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Gx)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Dn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,s){const r=[`provider=${encodeURIComponent(n)}`];if(s!=null&&s.redirectTo&&r.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s!=null&&s.scopes&&r.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[i,o]=await ai(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});r.push(a.toString())}if(s!=null&&s.queryParams){const i=new URLSearchParams(s.queryParams);r.push(i.toString())}return s!=null&&s.skipBrowserRedirect&&r.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${e}?${r.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var s;const{data:r,error:i}=n;return i?{data:null,error:i}:await be(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(s=r==null?void 0:r.session)===null||s===void 0?void 0:s.access_token})})}catch(n){if(ge(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var s,r;const{data:i,error:o}=n;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:u}=await be(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(s=i==null?void 0:i.session)===null||s===void 0?void 0:s.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((r=l==null?void 0:l.totp)===null||r===void 0)&&r.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(ge(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:r,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:a}=await be(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(s=r==null?void 0:r.session)===null||s===void 0?void 0:s.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(n){if(ge(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:r,error:i}=n;return i?{data:null,error:i}:await be(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(s=r==null?void 0:r.session)===null||s===void 0?void 0:s.access_token})})}catch(n){if(ge(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:s}=await this._challenge({factorId:e.factorId});return s?{data:null,error:s}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const s=(e==null?void 0:e.factors)||[],r=s.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=s.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:s,totp:r,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,s;const{data:{session:r},error:i}=e;if(i)return{data:null,error:i};if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=md(r.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((s=(n=r.user.factors)===null||n===void 0?void 0:n.filter(p=>p.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(l="aal2");const d=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(e,n={keys:[]}){let s=n.keys.find(o=>o.kid===e);if(s||(s=this.jwks.keys.find(o=>o.kid===e),s&&this.jwks_cached_at+oE>Date.now()))return s;const{data:r,error:i}=await be(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!r.keys||r.keys.length===0)throw new Vo("JWKS is empty");if(this.jwks=r,this.jwks_cached_at=Date.now(),s=r.keys.find(o=>o.kid===e),!s)throw new Vo("No matching signing key found in JWKS");return s}async getClaims(e,n={keys:[]}){try{let s=e;if(!s){const{data:v,error:_}=await this.getSession();if(_||!v.session)return{data:null,error:_};s=v.session.access_token}const{header:r,payload:i,signature:o,raw:{header:a,payload:l}}=md(s);if(DE(i.exp),!r.kid||r.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:v}=await this.getUser(s);if(v)throw v;return{data:{claims:i,header:r,signature:o},error:null}}const u=NE(r.alg),d=await this.fetchJwk(r.kid,n),p=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,p,o,gE(`${a}.${l}`)))throw new Vo("Invalid JWT signature");return{data:{claims:i,header:r,signature:o},error:null}}catch(s){if(ge(s))return{data:null,error:s};throw s}}}_a.nextInstanceID=0;const VE=_a;class GE extends VE{constructor(e){super(e)}}var qE=function(t,e,n,s){function r(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{u(s.next(d))}catch(p){o(p)}}function l(d){try{u(s.throw(d))}catch(p){o(p)}}function u(d){d.done?i(d.value):r(d.value).then(a,l)}u((s=s.apply(t,e||[])).next())})};class KE{constructor(e,n,s){var r,i,o;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const a=eE(e),l=new URL(a);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const u=`sb-${l.hostname.split(".")[0]}-auth-token`,d={db:VC,realtime:qC,auth:Object.assign(Object.assign({},GC),{storageKey:u}),global:YC},p=tE(s??{},d);this.storageKey=(r=p.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(i=p.global.headers)!==null&&i!==void 0?i:{},p.accessToken?(this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(g,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=p.auth)!==null&&o!==void 0?o:{},this.headers,p.global.fetch),this.fetch=QC(n,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.rest=new fC(new URL("rest/v1",l).href,{headers:this.headers,schema:p.db.schema,fetch:this.fetch}),p.accessToken||this._listenForAuthEvents()}get functions(){return new Wj(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new UC(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},s={}){return this.rest.rpc(e,n,s)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return qE(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:s}=yield this.auth.getSession();return(n=(e=s.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:s,storage:r,storageKey:i,flowType:o,lock:a,debug:l},u,d){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new GE({url:this.authUrl.href,headers:Object.assign(Object.assign({},p),u),storageKey:i,autoRefreshToken:e,persistSession:n,detectSessionInUrl:s,storage:r,flowType:o,lock:a,debug:l,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new MC(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,s)=>{this._handleTokenChanged(n,"CLIENT",s==null?void 0:s.access_token)})}_handleTokenChanged(e,n,s){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==s?this.changedAccessToken=s:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const JE=(t,e,n)=>new KE(t,e,n),XE="https://qugyumskcgxrivmlcmza.supabase.co",QE="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InF1Z3l1bXNrY2d4cml2bWxjbXphIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDcxNjQ0MjUsImV4cCI6MjA2Mjc0MDQyNX0.pD-cX_h5OLRE98EpEBy9r0OhqYObnpqWorRpmcXGO9E",Te=JE(XE,QE);let ZE={data:""},eM=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||ZE,tM=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,nM=/\/\*[^]*?\*\/|  +/g,Dg=/\n+/g,Fs=(t,e)=>{let n="",s="",r="";for(let i in t){let o=t[i];i[0]=="@"?i[1]=="i"?n=i+" "+o+";":s+=i[1]=="f"?Fs(o,i):i+"{"+Fs(o,i[1]=="k"?"":e)+"}":typeof o=="object"?s+=Fs(o,e?e.replace(/([^,])+/g,a=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,a):a?a+" "+l:l)):i):o!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),r+=Fs.p?Fs.p(i,o):i+":"+o+";")}return n+(e&&r?e+"{"+r+"}":r)+s},qn={},qx=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+qx(t[n]);return e}return t},sM=(t,e,n,s,r)=>{let i=qx(t),o=qn[i]||(qn[i]=(l=>{let u=0,d=11;for(;u<l.length;)d=101*d+l.charCodeAt(u++)>>>0;return"go"+d})(i));if(!qn[o]){let l=i!==t?t:(u=>{let d,p,g=[{}];for(;d=tM.exec(u.replace(nM,""));)d[4]?g.shift():d[3]?(p=d[3].replace(Dg," ").trim(),g.unshift(g[0][p]=g[0][p]||{})):g[0][d[1]]=d[2].replace(Dg," ").trim();return g[0]})(t);qn[o]=Fs(r?{["@keyframes "+o]:l}:l,n?"":"."+o)}let a=n&&qn.g?qn.g:null;return n&&(qn.g=qn[o]),((l,u,d,p)=>{p?u.data=u.data.replace(p,l):u.data.indexOf(l)===-1&&(u.data=d?l+u.data:u.data+l)})(qn[o],e,s,a),o},rM=(t,e,n)=>t.reduce((s,r,i)=>{let o=e[i];if(o&&o.call){let a=o(n),l=a&&a.props&&a.props.className||/^go/.test(a)&&a;o=l?"."+l:a&&typeof a=="object"?a.props?"":Fs(a,""):a===!1?"":a}return s+r+(o??"")},"");function du(t){let e=this||{},n=t.call?t(e.p):t;return sM(n.unshift?n.raw?rM(n,[].slice.call(arguments,1),e.p):n.reduce((s,r)=>Object.assign(s,r&&r.call?r(e.p):r),{}):n,eM(e.target),e.g,e.o,e.k)}let Kx,Lh,Ih;du.bind({g:1});let hs=du.bind({k:1});function iM(t,e,n,s){Fs.p=e,Kx=t,Lh=n,Ih=s}function or(t,e){let n=this||{};return function(){let s=arguments;function r(i,o){let a=Object.assign({},i),l=a.className||r.className;n.p=Object.assign({theme:Lh&&Lh()},a),n.o=/ *go\d+/.test(l),a.className=du.apply(n,s)+(l?" "+l:"");let u=t;return t[0]&&(u=a.as||t,delete a.as),Ih&&u[0]&&Ih(a),Kx(u,a)}return r}}var oM=t=>typeof t=="function",Tc=(t,e)=>oM(t)?t(e):t,aM=(()=>{let t=0;return()=>(++t).toString()})(),Jx=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),lM=20,Xx=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,lM)};case 1:return{...t,toasts:t.toasts.map(i=>i.id===e.toast.id?{...i,...e.toast}:i)};case 2:let{toast:n}=e;return Xx(t,{type:t.toasts.find(i=>i.id===n.id)?1:0,toast:n});case 3:let{toastId:s}=e;return{...t,toasts:t.toasts.map(i=>i.id===s||s===void 0?{...i,dismissed:!0,visible:!1}:i)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(i=>i.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let r=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(i=>({...i,pauseDuration:i.pauseDuration+r}))}}},nc=[],Dr={toasts:[],pausedAt:void 0},Kr=t=>{Dr=Xx(Dr,t),nc.forEach(e=>{e(Dr)})},cM={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},uM=(t={})=>{let[e,n]=D.useState(Dr),s=D.useRef(Dr);D.useEffect(()=>(s.current!==Dr&&n(Dr),nc.push(n),()=>{let i=nc.indexOf(n);i>-1&&nc.splice(i,1)}),[]);let r=e.toasts.map(i=>{var o,a,l;return{...t,...t[i.type],...i,removeDelay:i.removeDelay||((o=t[i.type])==null?void 0:o.removeDelay)||(t==null?void 0:t.removeDelay),duration:i.duration||((a=t[i.type])==null?void 0:a.duration)||(t==null?void 0:t.duration)||cM[i.type],style:{...t.style,...(l=t[i.type])==null?void 0:l.style,...i.style}}});return{...e,toasts:r}},dM=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:(n==null?void 0:n.id)||aM()}),za=t=>(e,n)=>{let s=dM(e,t,n);return Kr({type:2,toast:s}),s.id},le=(t,e)=>za("blank")(t,e);le.error=za("error");le.success=za("success");le.loading=za("loading");le.custom=za("custom");le.dismiss=t=>{Kr({type:3,toastId:t})};le.remove=t=>Kr({type:4,toastId:t});le.promise=(t,e,n)=>{let s=le.loading(e.loading,{...n,...n==null?void 0:n.loading});return typeof t=="function"&&(t=t()),t.then(r=>{let i=e.success?Tc(e.success,r):void 0;return i?le.success(i,{id:s,...n,...n==null?void 0:n.success}):le.dismiss(s),r}).catch(r=>{let i=e.error?Tc(e.error,r):void 0;i?le.error(i,{id:s,...n,...n==null?void 0:n.error}):le.dismiss(s)}),t};var hM=(t,e)=>{Kr({type:1,toast:{id:t,height:e}})},fM=()=>{Kr({type:5,time:Date.now()})},qo=new Map,pM=1e3,mM=(t,e=pM)=>{if(qo.has(t))return;let n=setTimeout(()=>{qo.delete(t),Kr({type:4,toastId:t})},e);qo.set(t,n)},gM=t=>{let{toasts:e,pausedAt:n}=uM(t);D.useEffect(()=>{if(n)return;let i=Date.now(),o=e.map(a=>{if(a.duration===1/0)return;let l=(a.duration||0)+a.pauseDuration-(i-a.createdAt);if(l<0){a.visible&&le.dismiss(a.id);return}return setTimeout(()=>le.dismiss(a.id),l)});return()=>{o.forEach(a=>a&&clearTimeout(a))}},[e,n]);let s=D.useCallback(()=>{n&&Kr({type:6,time:Date.now()})},[n]),r=D.useCallback((i,o)=>{let{reverseOrder:a=!1,gutter:l=8,defaultPosition:u}=o||{},d=e.filter(v=>(v.position||u)===(i.position||u)&&v.height),p=d.findIndex(v=>v.id===i.id),g=d.filter((v,_)=>_<p&&v.visible).length;return d.filter(v=>v.visible).slice(...a?[g+1]:[0,g]).reduce((v,_)=>v+(_.height||0)+l,0)},[e]);return D.useEffect(()=>{e.forEach(i=>{if(i.dismissed)mM(i.id,i.removeDelay);else{let o=qo.get(i.id);o&&(clearTimeout(o),qo.delete(i.id))}})},[e]),{toasts:e,handlers:{updateHeight:hM,startPause:fM,endPause:s,calculateOffset:r}}},yM=hs`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,vM=hs`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,xM=hs`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,_M=or("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${yM} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${vM} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${xM} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,bM=hs`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,wM=or("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${bM} 1s linear infinite;
`,kM=hs`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,SM=hs`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,jM=or("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${kM} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${SM} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,CM=or("div")`
  position: absolute;
`,EM=or("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,MM=hs`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,DM=or("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${MM} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,NM=({toast:t})=>{let{icon:e,type:n,iconTheme:s}=t;return e!==void 0?typeof e=="string"?D.createElement(DM,null,e):e:n==="blank"?null:D.createElement(EM,null,D.createElement(wM,{...s}),n!=="loading"&&D.createElement(CM,null,n==="error"?D.createElement(_M,{...s}):D.createElement(jM,{...s})))},PM=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,TM=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,OM="0%{opacity:0;} 100%{opacity:1;}",AM="0%{opacity:1;} 100%{opacity:0;}",RM=or("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,LM=or("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,IM=(t,e)=>{let n=t.includes("top")?1:-1,[s,r]=Jx()?[OM,AM]:[PM(n),TM(n)];return{animation:e?`${hs(s)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${hs(r)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},FM=D.memo(({toast:t,position:e,style:n,children:s})=>{let r=t.height?IM(t.position||e||"top-center",t.visible):{opacity:0},i=D.createElement(NM,{toast:t}),o=D.createElement(LM,{...t.ariaProps},Tc(t.message,t));return D.createElement(RM,{className:t.className,style:{...r,...n,...t.style}},typeof s=="function"?s({icon:i,message:o}):D.createElement(D.Fragment,null,i,o))});iM(D.createElement);var $M=({id:t,className:e,style:n,onHeightUpdate:s,children:r})=>{let i=D.useCallback(o=>{if(o){let a=()=>{let l=o.getBoundingClientRect().height;s(t,l)};a(),new MutationObserver(a).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[t,s]);return D.createElement("div",{ref:i,className:e,style:n},r)},zM=(t,e)=>{let n=t.includes("top"),s=n?{top:0}:{bottom:0},r=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Jx()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...s,...r}},BM=du`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Dl=16,UM=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:s,children:r,containerStyle:i,containerClassName:o})=>{let{toasts:a,handlers:l}=gM(n);return D.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:Dl,left:Dl,right:Dl,bottom:Dl,pointerEvents:"none",...i},className:o,onMouseEnter:l.startPause,onMouseLeave:l.endPause},a.map(u=>{let d=u.position||e,p=l.calculateOffset(u,{reverseOrder:t,gutter:s,defaultPosition:e}),g=zM(d,p);return D.createElement($M,{id:u.id,key:u.id,onHeightUpdate:l.updateHeight,className:u.visible?BM:"",style:g},u.type==="custom"?Tc(u.message,u):r?r(u):D.createElement(FM,{toast:u,position:d}))}))},WM=le;function Qx(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var gd={exports:{}},Ng;function HM(){return Ng||(Ng=1,function(t,e){(function(n,s){t.exports=s()})(Wt,function(){var n;function s(){return n.apply(null,arguments)}function r(c){n=c}function i(c){return c instanceof Array||Object.prototype.toString.call(c)==="[object Array]"}function o(c){return c!=null&&Object.prototype.toString.call(c)==="[object Object]"}function a(c,h){return Object.prototype.hasOwnProperty.call(c,h)}function l(c){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(c).length===0;var h;for(h in c)if(a(c,h))return!1;return!0}function u(c){return c===void 0}function d(c){return typeof c=="number"||Object.prototype.toString.call(c)==="[object Number]"}function p(c){return c instanceof Date||Object.prototype.toString.call(c)==="[object Date]"}function g(c,h){var m=[],y,b=c.length;for(y=0;y<b;++y)m.push(h(c[y],y));return m}function v(c,h){for(var m in h)a(h,m)&&(c[m]=h[m]);return a(h,"toString")&&(c.toString=h.toString),a(h,"valueOf")&&(c.valueOf=h.valueOf),c}function _(c,h,m,y){return Mp(c,h,m,y,!0).utc()}function k(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function S(c){return c._pf==null&&(c._pf=k()),c._pf}var x;Array.prototype.some?x=Array.prototype.some:x=function(c){var h=Object(this),m=h.length>>>0,y;for(y=0;y<m;y++)if(y in h&&c.call(this,h[y],y,h))return!0;return!1};function w(c){var h=null,m=!1,y=c._d&&!isNaN(c._d.getTime());if(y&&(h=S(c),m=x.call(h.parsedDateParts,function(b){return b!=null}),y=h.overflow<0&&!h.empty&&!h.invalidEra&&!h.invalidMonth&&!h.invalidWeekday&&!h.weekdayMismatch&&!h.nullInput&&!h.invalidFormat&&!h.userInvalidated&&(!h.meridiem||h.meridiem&&m),c._strict&&(y=y&&h.charsLeftOver===0&&h.unusedTokens.length===0&&h.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(c))c._isValid=y;else return y;return c._isValid}function j(c){var h=_(NaN);return c!=null?v(S(h),c):S(h).userInvalidated=!0,h}var E=s.momentProperties=[],M=!1;function O(c,h){var m,y,b,C=E.length;if(u(h._isAMomentObject)||(c._isAMomentObject=h._isAMomentObject),u(h._i)||(c._i=h._i),u(h._f)||(c._f=h._f),u(h._l)||(c._l=h._l),u(h._strict)||(c._strict=h._strict),u(h._tzm)||(c._tzm=h._tzm),u(h._isUTC)||(c._isUTC=h._isUTC),u(h._offset)||(c._offset=h._offset),u(h._pf)||(c._pf=S(h)),u(h._locale)||(c._locale=h._locale),C>0)for(m=0;m<C;m++)y=E[m],b=h[y],u(b)||(c[y]=b);return c}function A(c){O(this,c),this._d=new Date(c._d!=null?c._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),M===!1&&(M=!0,s.updateOffset(this),M=!1)}function T(c){return c instanceof A||c!=null&&c._isAMomentObject!=null}function q(c){s.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+c)}function z(c,h){var m=!0;return v(function(){if(s.deprecationHandler!=null&&s.deprecationHandler(null,c),m){var y=[],b,C,R,Z=arguments.length;for(C=0;C<Z;C++){if(b="",typeof arguments[C]=="object"){b+=`
[`+C+"] ";for(R in arguments[0])a(arguments[0],R)&&(b+=R+": "+arguments[0][R]+", ");b=b.slice(0,-2)}else b=arguments[C];y.push(b)}q(c+`
Arguments: `+Array.prototype.slice.call(y).join("")+`
`+new Error().stack),m=!1}return h.apply(this,arguments)},h)}var se={};function ie(c,h){s.deprecationHandler!=null&&s.deprecationHandler(c,h),se[c]||(q(h),se[c]=!0)}s.suppressDeprecationWarnings=!1,s.deprecationHandler=null;function me(c){return typeof Function<"u"&&c instanceof Function||Object.prototype.toString.call(c)==="[object Function]"}function ue(c){var h,m;for(m in c)a(c,m)&&(h=c[m],me(h)?this[m]=h:this["_"+m]=h);this._config=c,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function he(c,h){var m=v({},c),y;for(y in h)a(h,y)&&(o(c[y])&&o(h[y])?(m[y]={},v(m[y],c[y]),v(m[y],h[y])):h[y]!=null?m[y]=h[y]:delete m[y]);for(y in c)a(c,y)&&!a(h,y)&&o(c[y])&&(m[y]=v({},m[y]));return m}function fe(c){c!=null&&this.set(c)}var ye;Object.keys?ye=Object.keys:ye=function(c){var h,m=[];for(h in c)a(c,h)&&m.push(h);return m};var G={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function J(c,h,m){var y=this._calendar[c]||this._calendar.sameElse;return me(y)?y.call(h,m):y}function te(c,h,m){var y=""+Math.abs(c),b=h-y.length,C=c>=0;return(C?m?"+":"":"-")+Math.pow(10,Math.max(0,b)).toString().substr(1)+y}var W=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,ae=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,P={},Y={};function L(c,h,m,y){var b=y;typeof y=="string"&&(b=function(){return this[y]()}),c&&(Y[c]=b),h&&(Y[h[0]]=function(){return te(b.apply(this,arguments),h[1],h[2])}),m&&(Y[m]=function(){return this.localeData().ordinal(b.apply(this,arguments),c)})}function pe(c){return c.match(/\[[\s\S]/)?c.replace(/^\[|\]$/g,""):c.replace(/\\/g,"")}function nt(c){var h=c.match(W),m,y;for(m=0,y=h.length;m<y;m++)Y[h[m]]?h[m]=Y[h[m]]:h[m]=pe(h[m]);return function(b){var C="",R;for(R=0;R<y;R++)C+=me(h[R])?h[R].call(b,c):h[R];return C}}function ft(c,h){return c.isValid()?(h=ps(h,c.localeData()),P[h]=P[h]||nt(h),P[h](c)):c.localeData().invalidDate()}function ps(c,h){var m=5;function y(b){return h.longDateFormat(b)||b}for(ae.lastIndex=0;m>=0&&ae.test(c);)c=c.replace(ae,y),ae.lastIndex=0,m-=1;return c}var ms={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function Sn(c){var h=this._longDateFormat[c],m=this._longDateFormat[c.toUpperCase()];return h||!m?h:(this._longDateFormat[c]=m.match(W).map(function(y){return y==="MMMM"||y==="MM"||y==="DD"||y==="dddd"?y.slice(1):y}).join(""),this._longDateFormat[c])}var ar="Invalid date";function Ua(){return this._invalidDate}var vu="%d",Xr=/\d{1,2}/;function un(c){return this._ordinal.replace("%d",c)}var Qi={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function jn(c,h,m,y){var b=this._relativeTime[m];return me(b)?b(c,h,m,y):b.replace(/%d/i,c)}function Zi(c,h){var m=this._relativeTime[c>0?"future":"past"];return me(m)?m(h):m.replace(/%s/i,h)}var gs={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function jt(c){return typeof c=="string"?gs[c]||gs[c.toLowerCase()]:void 0}function Fn(c){var h={},m,y;for(y in c)a(c,y)&&(m=jt(y),m&&(h[m]=c[y]));return h}var Wa={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function lr(c){var h=[],m;for(m in c)a(c,m)&&h.push({unit:m,priority:Wa[m]});return h.sort(function(y,b){return y.priority-b.priority}),h}var eo=/\d/,st=/\d\d/,to=/\d{3}/,$n=/\d{4}/,cr=/[+-]?\d{6}/,Ee=/\d\d?/,no=/\d\d\d\d?/,Qr=/\d\d\d\d\d\d?/,ys=/\d{1,3}/,so=/\d{1,4}/,zn=/[+-]?\d{1,6}/,Oe=/\d+/,vs=/[+-]?\d+/,Ha=/Z|[+-]\d\d:?\d\d/gi,Ct=/Z|[+-]\d\d(?::?\d\d)?/gi,Ya=/[+-]?\d+(\.\d{1,3})?/,ur=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,dn=/^[1-9]\d?/,ro=/^([1-9]\d|\d)/,xs;xs={};function X(c,h,m){xs[c]=me(h)?h:function(y,b){return y&&m?m:h}}function Zr(c,h){return a(xs,c)?xs[c](h._strict,h._locale):new RegExp(xu(c))}function xu(c){return hn(c.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(h,m,y,b,C){return m||y||b||C}))}function hn(c){return c.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Tt(c){return c<0?Math.ceil(c)||0:Math.floor(c)}function ve(c){var h=+c,m=0;return h!==0&&isFinite(h)&&(m=Tt(h)),m}var io={};function Me(c,h){var m,y=h,b;for(typeof c=="string"&&(c=[c]),d(h)&&(y=function(C,R){R[h]=ve(C)}),b=c.length,m=0;m<b;m++)io[c[m]]=y}function dr(c,h){Me(c,function(m,y,b,C){b._w=b._w||{},h(m,b._w,b,C)})}function Va(c,h,m){h!=null&&a(io,c)&&io[c](h,m._a,m,c)}function hr(c){return c%4===0&&c%100!==0||c%400===0}var rt=0,Qt=1,Ht=2,Ge=3,Ot=4,Zt=5,Cn=6,Ga=7,qa=8;L("Y",0,0,function(){var c=this.year();return c<=9999?te(c,4):"+"+c}),L(0,["YY",2],0,function(){return this.year()%100}),L(0,["YYYY",4],0,"year"),L(0,["YYYYY",5],0,"year"),L(0,["YYYYYY",6,!0],0,"year"),X("Y",vs),X("YY",Ee,st),X("YYYY",so,$n),X("YYYYY",zn,cr),X("YYYYYY",zn,cr),Me(["YYYYY","YYYYYY"],rt),Me("YYYY",function(c,h){h[rt]=c.length===2?s.parseTwoDigitYear(c):ve(c)}),Me("YY",function(c,h){h[rt]=s.parseTwoDigitYear(c)}),Me("Y",function(c,h){h[rt]=parseInt(c,10)});function _s(c){return hr(c)?366:365}s.parseTwoDigitYear=function(c){return ve(c)+(ve(c)>68?1900:2e3)};var oo=Bn("FullYear",!0);function Ka(){return hr(this.year())}function Bn(c,h){return function(m){return m!=null?(N(this,c,m),s.updateOffset(this,h),this):bs(this,c)}}function bs(c,h){if(!c.isValid())return NaN;var m=c._d,y=c._isUTC;switch(h){case"Milliseconds":return y?m.getUTCMilliseconds():m.getMilliseconds();case"Seconds":return y?m.getUTCSeconds():m.getSeconds();case"Minutes":return y?m.getUTCMinutes():m.getMinutes();case"Hours":return y?m.getUTCHours():m.getHours();case"Date":return y?m.getUTCDate():m.getDate();case"Day":return y?m.getUTCDay():m.getDay();case"Month":return y?m.getUTCMonth():m.getMonth();case"FullYear":return y?m.getUTCFullYear():m.getFullYear();default:return NaN}}function N(c,h,m){var y,b,C,R,Z;if(!(!c.isValid()||isNaN(m))){switch(y=c._d,b=c._isUTC,h){case"Milliseconds":return void(b?y.setUTCMilliseconds(m):y.setMilliseconds(m));case"Seconds":return void(b?y.setUTCSeconds(m):y.setSeconds(m));case"Minutes":return void(b?y.setUTCMinutes(m):y.setMinutes(m));case"Hours":return void(b?y.setUTCHours(m):y.setHours(m));case"Date":return void(b?y.setUTCDate(m):y.setDate(m));case"FullYear":break;default:return}C=m,R=c.month(),Z=c.date(),Z=Z===29&&R===1&&!hr(C)?28:Z,b?y.setUTCFullYear(C,R,Z):y.setFullYear(C,R,Z)}}function I(c){return c=jt(c),me(this[c])?this[c]():this}function $(c,h){if(typeof c=="object"){c=Fn(c);var m=lr(c),y,b=m.length;for(y=0;y<b;y++)this[m[y].unit](c[m[y].unit])}else if(c=jt(c),me(this[c]))return this[c](h);return this}function K(c,h){return(c%h+h)%h}var B;Array.prototype.indexOf?B=Array.prototype.indexOf:B=function(c){var h;for(h=0;h<this.length;++h)if(this[h]===c)return h;return-1};function V(c,h){if(isNaN(c)||isNaN(h))return NaN;var m=K(h,12);return c+=(h-m)/12,m===1?hr(c)?29:28:31-m%7%2}L("M",["MM",2],"Mo",function(){return this.month()+1}),L("MMM",0,0,function(c){return this.localeData().monthsShort(this,c)}),L("MMMM",0,0,function(c){return this.localeData().months(this,c)}),X("M",Ee,dn),X("MM",Ee,st),X("MMM",function(c,h){return h.monthsShortRegex(c)}),X("MMMM",function(c,h){return h.monthsRegex(c)}),Me(["M","MM"],function(c,h){h[Qt]=ve(c)-1}),Me(["MMM","MMMM"],function(c,h,m,y){var b=m._locale.monthsParse(c,y,m._strict);b!=null?h[Qt]=b:S(m).invalidMonth=c});var F="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ne="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Q=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,ce=ur,oe=ur;function Je(c,h){return c?i(this._months)?this._months[c.month()]:this._months[(this._months.isFormat||Q).test(h)?"format":"standalone"][c.month()]:i(this._months)?this._months:this._months.standalone}function it(c,h){return c?i(this._monthsShort)?this._monthsShort[c.month()]:this._monthsShort[Q.test(h)?"format":"standalone"][c.month()]:i(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function ws(c,h,m){var y,b,C,R=c.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],y=0;y<12;++y)C=_([2e3,y]),this._shortMonthsParse[y]=this.monthsShort(C,"").toLocaleLowerCase(),this._longMonthsParse[y]=this.months(C,"").toLocaleLowerCase();return m?h==="MMM"?(b=B.call(this._shortMonthsParse,R),b!==-1?b:null):(b=B.call(this._longMonthsParse,R),b!==-1?b:null):h==="MMM"?(b=B.call(this._shortMonthsParse,R),b!==-1?b:(b=B.call(this._longMonthsParse,R),b!==-1?b:null)):(b=B.call(this._longMonthsParse,R),b!==-1?b:(b=B.call(this._shortMonthsParse,R),b!==-1?b:null))}function ks(c,h,m){var y,b,C;if(this._monthsParseExact)return ws.call(this,c,h,m);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),y=0;y<12;y++){if(b=_([2e3,y]),m&&!this._longMonthsParse[y]&&(this._longMonthsParse[y]=new RegExp("^"+this.months(b,"").replace(".","")+"$","i"),this._shortMonthsParse[y]=new RegExp("^"+this.monthsShort(b,"").replace(".","")+"$","i")),!m&&!this._monthsParse[y]&&(C="^"+this.months(b,"")+"|^"+this.monthsShort(b,""),this._monthsParse[y]=new RegExp(C.replace(".",""),"i")),m&&h==="MMMM"&&this._longMonthsParse[y].test(c))return y;if(m&&h==="MMM"&&this._shortMonthsParse[y].test(c))return y;if(!m&&this._monthsParse[y].test(c))return y}}function fr(c,h){if(!c.isValid())return c;if(typeof h=="string"){if(/^\d+$/.test(h))h=ve(h);else if(h=c.localeData().monthsParse(h),!d(h))return c}var m=h,y=c.date();return y=y<29?y:Math.min(y,V(c.year(),m)),c._isUTC?c._d.setUTCMonth(m,y):c._d.setMonth(m,y),c}function Ae(c){return c!=null?(fr(this,c),s.updateOffset(this,!0),this):bs(this,"Month")}function ct(){return V(this.year(),this.month())}function fn(c){return this._monthsParseExact?(a(this,"_monthsRegex")||ao.call(this),c?this._monthsShortStrictRegex:this._monthsShortRegex):(a(this,"_monthsShortRegex")||(this._monthsShortRegex=ce),this._monthsShortStrictRegex&&c?this._monthsShortStrictRegex:this._monthsShortRegex)}function Ja(c){return this._monthsParseExact?(a(this,"_monthsRegex")||ao.call(this),c?this._monthsStrictRegex:this._monthsRegex):(a(this,"_monthsRegex")||(this._monthsRegex=oe),this._monthsStrictRegex&&c?this._monthsStrictRegex:this._monthsRegex)}function ao(){function c(de,ke){return ke.length-de.length}var h=[],m=[],y=[],b,C,R,Z;for(b=0;b<12;b++)C=_([2e3,b]),R=hn(this.monthsShort(C,"")),Z=hn(this.months(C,"")),h.push(R),m.push(Z),y.push(Z),y.push(R);h.sort(c),m.sort(c),y.sort(c),this._monthsRegex=new RegExp("^("+y.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+m.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+h.join("|")+")","i")}function Q_(c,h,m,y,b,C,R){var Z;return c<100&&c>=0?(Z=new Date(c+400,h,m,y,b,C,R),isFinite(Z.getFullYear())&&Z.setFullYear(c)):Z=new Date(c,h,m,y,b,C,R),Z}function lo(c){var h,m;return c<100&&c>=0?(m=Array.prototype.slice.call(arguments),m[0]=c+400,h=new Date(Date.UTC.apply(null,m)),isFinite(h.getUTCFullYear())&&h.setUTCFullYear(c)):h=new Date(Date.UTC.apply(null,arguments)),h}function Xa(c,h,m){var y=7+h-m,b=(7+lo(c,0,y).getUTCDay()-h)%7;return-b+y-1}function xp(c,h,m,y,b){var C=(7+m-y)%7,R=Xa(c,y,b),Z=1+7*(h-1)+C+R,de,ke;return Z<=0?(de=c-1,ke=_s(de)+Z):Z>_s(c)?(de=c+1,ke=Z-_s(c)):(de=c,ke=Z),{year:de,dayOfYear:ke}}function co(c,h,m){var y=Xa(c.year(),h,m),b=Math.floor((c.dayOfYear()-y-1)/7)+1,C,R;return b<1?(R=c.year()-1,C=b+Un(R,h,m)):b>Un(c.year(),h,m)?(C=b-Un(c.year(),h,m),R=c.year()+1):(R=c.year(),C=b),{week:C,year:R}}function Un(c,h,m){var y=Xa(c,h,m),b=Xa(c+1,h,m);return(_s(c)-y+b)/7}L("w",["ww",2],"wo","week"),L("W",["WW",2],"Wo","isoWeek"),X("w",Ee,dn),X("ww",Ee,st),X("W",Ee,dn),X("WW",Ee,st),dr(["w","ww","W","WW"],function(c,h,m,y){h[y.substr(0,1)]=ve(c)});function Z_(c){return co(c,this._week.dow,this._week.doy).week}var eb={dow:0,doy:6};function tb(){return this._week.dow}function nb(){return this._week.doy}function sb(c){var h=this.localeData().week(this);return c==null?h:this.add((c-h)*7,"d")}function rb(c){var h=co(this,1,4).week;return c==null?h:this.add((c-h)*7,"d")}L("d",0,"do","day"),L("dd",0,0,function(c){return this.localeData().weekdaysMin(this,c)}),L("ddd",0,0,function(c){return this.localeData().weekdaysShort(this,c)}),L("dddd",0,0,function(c){return this.localeData().weekdays(this,c)}),L("e",0,0,"weekday"),L("E",0,0,"isoWeekday"),X("d",Ee),X("e",Ee),X("E",Ee),X("dd",function(c,h){return h.weekdaysMinRegex(c)}),X("ddd",function(c,h){return h.weekdaysShortRegex(c)}),X("dddd",function(c,h){return h.weekdaysRegex(c)}),dr(["dd","ddd","dddd"],function(c,h,m,y){var b=m._locale.weekdaysParse(c,y,m._strict);b!=null?h.d=b:S(m).invalidWeekday=c}),dr(["d","e","E"],function(c,h,m,y){h[y]=ve(c)});function ib(c,h){return typeof c!="string"?c:isNaN(c)?(c=h.weekdaysParse(c),typeof c=="number"?c:null):parseInt(c,10)}function ob(c,h){return typeof c=="string"?h.weekdaysParse(c)%7||7:isNaN(c)?null:c}function _u(c,h){return c.slice(h,7).concat(c.slice(0,h))}var ab="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),_p="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),lb="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),cb=ur,ub=ur,db=ur;function hb(c,h){var m=i(this._weekdays)?this._weekdays:this._weekdays[c&&c!==!0&&this._weekdays.isFormat.test(h)?"format":"standalone"];return c===!0?_u(m,this._week.dow):c?m[c.day()]:m}function fb(c){return c===!0?_u(this._weekdaysShort,this._week.dow):c?this._weekdaysShort[c.day()]:this._weekdaysShort}function pb(c){return c===!0?_u(this._weekdaysMin,this._week.dow):c?this._weekdaysMin[c.day()]:this._weekdaysMin}function mb(c,h,m){var y,b,C,R=c.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],y=0;y<7;++y)C=_([2e3,1]).day(y),this._minWeekdaysParse[y]=this.weekdaysMin(C,"").toLocaleLowerCase(),this._shortWeekdaysParse[y]=this.weekdaysShort(C,"").toLocaleLowerCase(),this._weekdaysParse[y]=this.weekdays(C,"").toLocaleLowerCase();return m?h==="dddd"?(b=B.call(this._weekdaysParse,R),b!==-1?b:null):h==="ddd"?(b=B.call(this._shortWeekdaysParse,R),b!==-1?b:null):(b=B.call(this._minWeekdaysParse,R),b!==-1?b:null):h==="dddd"?(b=B.call(this._weekdaysParse,R),b!==-1||(b=B.call(this._shortWeekdaysParse,R),b!==-1)?b:(b=B.call(this._minWeekdaysParse,R),b!==-1?b:null)):h==="ddd"?(b=B.call(this._shortWeekdaysParse,R),b!==-1||(b=B.call(this._weekdaysParse,R),b!==-1)?b:(b=B.call(this._minWeekdaysParse,R),b!==-1?b:null)):(b=B.call(this._minWeekdaysParse,R),b!==-1||(b=B.call(this._weekdaysParse,R),b!==-1)?b:(b=B.call(this._shortWeekdaysParse,R),b!==-1?b:null))}function gb(c,h,m){var y,b,C;if(this._weekdaysParseExact)return mb.call(this,c,h,m);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),y=0;y<7;y++){if(b=_([2e3,1]).day(y),m&&!this._fullWeekdaysParse[y]&&(this._fullWeekdaysParse[y]=new RegExp("^"+this.weekdays(b,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[y]=new RegExp("^"+this.weekdaysShort(b,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[y]=new RegExp("^"+this.weekdaysMin(b,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[y]||(C="^"+this.weekdays(b,"")+"|^"+this.weekdaysShort(b,"")+"|^"+this.weekdaysMin(b,""),this._weekdaysParse[y]=new RegExp(C.replace(".",""),"i")),m&&h==="dddd"&&this._fullWeekdaysParse[y].test(c))return y;if(m&&h==="ddd"&&this._shortWeekdaysParse[y].test(c))return y;if(m&&h==="dd"&&this._minWeekdaysParse[y].test(c))return y;if(!m&&this._weekdaysParse[y].test(c))return y}}function yb(c){if(!this.isValid())return c!=null?this:NaN;var h=bs(this,"Day");return c!=null?(c=ib(c,this.localeData()),this.add(c-h,"d")):h}function vb(c){if(!this.isValid())return c!=null?this:NaN;var h=(this.day()+7-this.localeData()._week.dow)%7;return c==null?h:this.add(c-h,"d")}function xb(c){if(!this.isValid())return c!=null?this:NaN;if(c!=null){var h=ob(c,this.localeData());return this.day(this.day()%7?h:h-7)}else return this.day()||7}function _b(c){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||bu.call(this),c?this._weekdaysStrictRegex:this._weekdaysRegex):(a(this,"_weekdaysRegex")||(this._weekdaysRegex=cb),this._weekdaysStrictRegex&&c?this._weekdaysStrictRegex:this._weekdaysRegex)}function bb(c){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||bu.call(this),c?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(a(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=ub),this._weekdaysShortStrictRegex&&c?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function wb(c){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||bu.call(this),c?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(a(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=db),this._weekdaysMinStrictRegex&&c?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function bu(){function c(Et,Gn){return Gn.length-Et.length}var h=[],m=[],y=[],b=[],C,R,Z,de,ke;for(C=0;C<7;C++)R=_([2e3,1]).day(C),Z=hn(this.weekdaysMin(R,"")),de=hn(this.weekdaysShort(R,"")),ke=hn(this.weekdays(R,"")),h.push(Z),m.push(de),y.push(ke),b.push(Z),b.push(de),b.push(ke);h.sort(c),m.sort(c),y.sort(c),b.sort(c),this._weekdaysRegex=new RegExp("^("+b.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+y.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+m.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+h.join("|")+")","i")}function wu(){return this.hours()%12||12}function kb(){return this.hours()||24}L("H",["HH",2],0,"hour"),L("h",["hh",2],0,wu),L("k",["kk",2],0,kb),L("hmm",0,0,function(){return""+wu.apply(this)+te(this.minutes(),2)}),L("hmmss",0,0,function(){return""+wu.apply(this)+te(this.minutes(),2)+te(this.seconds(),2)}),L("Hmm",0,0,function(){return""+this.hours()+te(this.minutes(),2)}),L("Hmmss",0,0,function(){return""+this.hours()+te(this.minutes(),2)+te(this.seconds(),2)});function bp(c,h){L(c,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),h)})}bp("a",!0),bp("A",!1);function wp(c,h){return h._meridiemParse}X("a",wp),X("A",wp),X("H",Ee,ro),X("h",Ee,dn),X("k",Ee,dn),X("HH",Ee,st),X("hh",Ee,st),X("kk",Ee,st),X("hmm",no),X("hmmss",Qr),X("Hmm",no),X("Hmmss",Qr),Me(["H","HH"],Ge),Me(["k","kk"],function(c,h,m){var y=ve(c);h[Ge]=y===24?0:y}),Me(["a","A"],function(c,h,m){m._isPm=m._locale.isPM(c),m._meridiem=c}),Me(["h","hh"],function(c,h,m){h[Ge]=ve(c),S(m).bigHour=!0}),Me("hmm",function(c,h,m){var y=c.length-2;h[Ge]=ve(c.substr(0,y)),h[Ot]=ve(c.substr(y)),S(m).bigHour=!0}),Me("hmmss",function(c,h,m){var y=c.length-4,b=c.length-2;h[Ge]=ve(c.substr(0,y)),h[Ot]=ve(c.substr(y,2)),h[Zt]=ve(c.substr(b)),S(m).bigHour=!0}),Me("Hmm",function(c,h,m){var y=c.length-2;h[Ge]=ve(c.substr(0,y)),h[Ot]=ve(c.substr(y))}),Me("Hmmss",function(c,h,m){var y=c.length-4,b=c.length-2;h[Ge]=ve(c.substr(0,y)),h[Ot]=ve(c.substr(y,2)),h[Zt]=ve(c.substr(b))});function Sb(c){return(c+"").toLowerCase().charAt(0)==="p"}var jb=/[ap]\.?m?\.?/i,Cb=Bn("Hours",!0);function Eb(c,h,m){return c>11?m?"pm":"PM":m?"am":"AM"}var kp={calendar:G,longDateFormat:ms,invalidDate:ar,ordinal:vu,dayOfMonthOrdinalParse:Xr,relativeTime:Qi,months:F,monthsShort:ne,week:eb,weekdays:ab,weekdaysMin:lb,weekdaysShort:_p,meridiemParse:jb},Be={},uo={},ho;function Mb(c,h){var m,y=Math.min(c.length,h.length);for(m=0;m<y;m+=1)if(c[m]!==h[m])return m;return y}function Sp(c){return c&&c.toLowerCase().replace("_","-")}function Db(c){for(var h=0,m,y,b,C;h<c.length;){for(C=Sp(c[h]).split("-"),m=C.length,y=Sp(c[h+1]),y=y?y.split("-"):null;m>0;){if(b=Qa(C.slice(0,m).join("-")),b)return b;if(y&&y.length>=m&&Mb(C,y)>=m-1)break;m--}h++}return ho}function Nb(c){return!!(c&&c.match("^[^/\\\\]*$"))}function Qa(c){var h=null,m;if(Be[c]===void 0&&t&&t.exports&&Nb(c))try{h=ho._abbr,m=Qx,m("./locale/"+c),Ss(h)}catch{Be[c]=null}return Be[c]}function Ss(c,h){var m;return c&&(u(h)?m=Wn(c):m=ku(c,h),m?ho=m:typeof console<"u"&&console.warn&&console.warn("Locale "+c+" not found. Did you forget to load it?")),ho._abbr}function ku(c,h){if(h!==null){var m,y=kp;if(h.abbr=c,Be[c]!=null)ie("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),y=Be[c]._config;else if(h.parentLocale!=null)if(Be[h.parentLocale]!=null)y=Be[h.parentLocale]._config;else if(m=Qa(h.parentLocale),m!=null)y=m._config;else return uo[h.parentLocale]||(uo[h.parentLocale]=[]),uo[h.parentLocale].push({name:c,config:h}),null;return Be[c]=new fe(he(y,h)),uo[c]&&uo[c].forEach(function(b){ku(b.name,b.config)}),Ss(c),Be[c]}else return delete Be[c],null}function Pb(c,h){if(h!=null){var m,y,b=kp;Be[c]!=null&&Be[c].parentLocale!=null?Be[c].set(he(Be[c]._config,h)):(y=Qa(c),y!=null&&(b=y._config),h=he(b,h),y==null&&(h.abbr=c),m=new fe(h),m.parentLocale=Be[c],Be[c]=m),Ss(c)}else Be[c]!=null&&(Be[c].parentLocale!=null?(Be[c]=Be[c].parentLocale,c===Ss()&&Ss(c)):Be[c]!=null&&delete Be[c]);return Be[c]}function Wn(c){var h;if(c&&c._locale&&c._locale._abbr&&(c=c._locale._abbr),!c)return ho;if(!i(c)){if(h=Qa(c),h)return h;c=[c]}return Db(c)}function Tb(){return ye(Be)}function Su(c){var h,m=c._a;return m&&S(c).overflow===-2&&(h=m[Qt]<0||m[Qt]>11?Qt:m[Ht]<1||m[Ht]>V(m[rt],m[Qt])?Ht:m[Ge]<0||m[Ge]>24||m[Ge]===24&&(m[Ot]!==0||m[Zt]!==0||m[Cn]!==0)?Ge:m[Ot]<0||m[Ot]>59?Ot:m[Zt]<0||m[Zt]>59?Zt:m[Cn]<0||m[Cn]>999?Cn:-1,S(c)._overflowDayOfYear&&(h<rt||h>Ht)&&(h=Ht),S(c)._overflowWeeks&&h===-1&&(h=Ga),S(c)._overflowWeekday&&h===-1&&(h=qa),S(c).overflow=h),c}var Ob=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Ab=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Rb=/Z|[+-]\d\d(?::?\d\d)?/,Za=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],ju=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Lb=/^\/?Date\((-?\d+)/i,Ib=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Fb={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function jp(c){var h,m,y=c._i,b=Ob.exec(y)||Ab.exec(y),C,R,Z,de,ke=Za.length,Et=ju.length;if(b){for(S(c).iso=!0,h=0,m=ke;h<m;h++)if(Za[h][1].exec(b[1])){R=Za[h][0],C=Za[h][2]!==!1;break}if(R==null){c._isValid=!1;return}if(b[3]){for(h=0,m=Et;h<m;h++)if(ju[h][1].exec(b[3])){Z=(b[2]||" ")+ju[h][0];break}if(Z==null){c._isValid=!1;return}}if(!C&&Z!=null){c._isValid=!1;return}if(b[4])if(Rb.exec(b[4]))de="Z";else{c._isValid=!1;return}c._f=R+(Z||"")+(de||""),Eu(c)}else c._isValid=!1}function $b(c,h,m,y,b,C){var R=[zb(c),ne.indexOf(h),parseInt(m,10),parseInt(y,10),parseInt(b,10)];return C&&R.push(parseInt(C,10)),R}function zb(c){var h=parseInt(c,10);return h<=49?2e3+h:h<=999?1900+h:h}function Bb(c){return c.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Ub(c,h,m){if(c){var y=_p.indexOf(c),b=new Date(h[0],h[1],h[2]).getDay();if(y!==b)return S(m).weekdayMismatch=!0,m._isValid=!1,!1}return!0}function Wb(c,h,m){if(c)return Fb[c];if(h)return 0;var y=parseInt(m,10),b=y%100,C=(y-b)/100;return C*60+b}function Cp(c){var h=Ib.exec(Bb(c._i)),m;if(h){if(m=$b(h[4],h[3],h[2],h[5],h[6],h[7]),!Ub(h[1],m,c))return;c._a=m,c._tzm=Wb(h[8],h[9],h[10]),c._d=lo.apply(null,c._a),c._d.setUTCMinutes(c._d.getUTCMinutes()-c._tzm),S(c).rfc2822=!0}else c._isValid=!1}function Hb(c){var h=Lb.exec(c._i);if(h!==null){c._d=new Date(+h[1]);return}if(jp(c),c._isValid===!1)delete c._isValid;else return;if(Cp(c),c._isValid===!1)delete c._isValid;else return;c._strict?c._isValid=!1:s.createFromInputFallback(c)}s.createFromInputFallback=z("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(c){c._d=new Date(c._i+(c._useUTC?" UTC":""))});function ei(c,h,m){return c??h??m}function Yb(c){var h=new Date(s.now());return c._useUTC?[h.getUTCFullYear(),h.getUTCMonth(),h.getUTCDate()]:[h.getFullYear(),h.getMonth(),h.getDate()]}function Cu(c){var h,m,y=[],b,C,R;if(!c._d){for(b=Yb(c),c._w&&c._a[Ht]==null&&c._a[Qt]==null&&Vb(c),c._dayOfYear!=null&&(R=ei(c._a[rt],b[rt]),(c._dayOfYear>_s(R)||c._dayOfYear===0)&&(S(c)._overflowDayOfYear=!0),m=lo(R,0,c._dayOfYear),c._a[Qt]=m.getUTCMonth(),c._a[Ht]=m.getUTCDate()),h=0;h<3&&c._a[h]==null;++h)c._a[h]=y[h]=b[h];for(;h<7;h++)c._a[h]=y[h]=c._a[h]==null?h===2?1:0:c._a[h];c._a[Ge]===24&&c._a[Ot]===0&&c._a[Zt]===0&&c._a[Cn]===0&&(c._nextDay=!0,c._a[Ge]=0),c._d=(c._useUTC?lo:Q_).apply(null,y),C=c._useUTC?c._d.getUTCDay():c._d.getDay(),c._tzm!=null&&c._d.setUTCMinutes(c._d.getUTCMinutes()-c._tzm),c._nextDay&&(c._a[Ge]=24),c._w&&typeof c._w.d<"u"&&c._w.d!==C&&(S(c).weekdayMismatch=!0)}}function Vb(c){var h,m,y,b,C,R,Z,de,ke;h=c._w,h.GG!=null||h.W!=null||h.E!=null?(C=1,R=4,m=ei(h.GG,c._a[rt],co(Ie(),1,4).year),y=ei(h.W,1),b=ei(h.E,1),(b<1||b>7)&&(de=!0)):(C=c._locale._week.dow,R=c._locale._week.doy,ke=co(Ie(),C,R),m=ei(h.gg,c._a[rt],ke.year),y=ei(h.w,ke.week),h.d!=null?(b=h.d,(b<0||b>6)&&(de=!0)):h.e!=null?(b=h.e+C,(h.e<0||h.e>6)&&(de=!0)):b=C),y<1||y>Un(m,C,R)?S(c)._overflowWeeks=!0:de!=null?S(c)._overflowWeekday=!0:(Z=xp(m,y,b,C,R),c._a[rt]=Z.year,c._dayOfYear=Z.dayOfYear)}s.ISO_8601=function(){},s.RFC_2822=function(){};function Eu(c){if(c._f===s.ISO_8601){jp(c);return}if(c._f===s.RFC_2822){Cp(c);return}c._a=[],S(c).empty=!0;var h=""+c._i,m,y,b,C,R,Z=h.length,de=0,ke,Et;for(b=ps(c._f,c._locale).match(W)||[],Et=b.length,m=0;m<Et;m++)C=b[m],y=(h.match(Zr(C,c))||[])[0],y&&(R=h.substr(0,h.indexOf(y)),R.length>0&&S(c).unusedInput.push(R),h=h.slice(h.indexOf(y)+y.length),de+=y.length),Y[C]?(y?S(c).empty=!1:S(c).unusedTokens.push(C),Va(C,y,c)):c._strict&&!y&&S(c).unusedTokens.push(C);S(c).charsLeftOver=Z-de,h.length>0&&S(c).unusedInput.push(h),c._a[Ge]<=12&&S(c).bigHour===!0&&c._a[Ge]>0&&(S(c).bigHour=void 0),S(c).parsedDateParts=c._a.slice(0),S(c).meridiem=c._meridiem,c._a[Ge]=Gb(c._locale,c._a[Ge],c._meridiem),ke=S(c).era,ke!==null&&(c._a[rt]=c._locale.erasConvertYear(ke,c._a[rt])),Cu(c),Su(c)}function Gb(c,h,m){var y;return m==null?h:c.meridiemHour!=null?c.meridiemHour(h,m):(c.isPM!=null&&(y=c.isPM(m),y&&h<12&&(h+=12),!y&&h===12&&(h=0)),h)}function qb(c){var h,m,y,b,C,R,Z=!1,de=c._f.length;if(de===0){S(c).invalidFormat=!0,c._d=new Date(NaN);return}for(b=0;b<de;b++)C=0,R=!1,h=O({},c),c._useUTC!=null&&(h._useUTC=c._useUTC),h._f=c._f[b],Eu(h),w(h)&&(R=!0),C+=S(h).charsLeftOver,C+=S(h).unusedTokens.length*10,S(h).score=C,Z?C<y&&(y=C,m=h):(y==null||C<y||R)&&(y=C,m=h,R&&(Z=!0));v(c,m||h)}function Kb(c){if(!c._d){var h=Fn(c._i),m=h.day===void 0?h.date:h.day;c._a=g([h.year,h.month,m,h.hour,h.minute,h.second,h.millisecond],function(y){return y&&parseInt(y,10)}),Cu(c)}}function Jb(c){var h=new A(Su(Ep(c)));return h._nextDay&&(h.add(1,"d"),h._nextDay=void 0),h}function Ep(c){var h=c._i,m=c._f;return c._locale=c._locale||Wn(c._l),h===null||m===void 0&&h===""?j({nullInput:!0}):(typeof h=="string"&&(c._i=h=c._locale.preparse(h)),T(h)?new A(Su(h)):(p(h)?c._d=h:i(m)?qb(c):m?Eu(c):Xb(c),w(c)||(c._d=null),c))}function Xb(c){var h=c._i;u(h)?c._d=new Date(s.now()):p(h)?c._d=new Date(h.valueOf()):typeof h=="string"?Hb(c):i(h)?(c._a=g(h.slice(0),function(m){return parseInt(m,10)}),Cu(c)):o(h)?Kb(c):d(h)?c._d=new Date(h):s.createFromInputFallback(c)}function Mp(c,h,m,y,b){var C={};return(h===!0||h===!1)&&(y=h,h=void 0),(m===!0||m===!1)&&(y=m,m=void 0),(o(c)&&l(c)||i(c)&&c.length===0)&&(c=void 0),C._isAMomentObject=!0,C._useUTC=C._isUTC=b,C._l=m,C._i=c,C._f=h,C._strict=y,Jb(C)}function Ie(c,h,m,y){return Mp(c,h,m,y,!1)}var Qb=z("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var c=Ie.apply(null,arguments);return this.isValid()&&c.isValid()?c<this?this:c:j()}),Zb=z("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var c=Ie.apply(null,arguments);return this.isValid()&&c.isValid()?c>this?this:c:j()});function Dp(c,h){var m,y;if(h.length===1&&i(h[0])&&(h=h[0]),!h.length)return Ie();for(m=h[0],y=1;y<h.length;++y)(!h[y].isValid()||h[y][c](m))&&(m=h[y]);return m}function ew(){var c=[].slice.call(arguments,0);return Dp("isBefore",c)}function tw(){var c=[].slice.call(arguments,0);return Dp("isAfter",c)}var nw=function(){return Date.now?Date.now():+new Date},fo=["year","quarter","month","week","day","hour","minute","second","millisecond"];function sw(c){var h,m=!1,y,b=fo.length;for(h in c)if(a(c,h)&&!(B.call(fo,h)!==-1&&(c[h]==null||!isNaN(c[h]))))return!1;for(y=0;y<b;++y)if(c[fo[y]]){if(m)return!1;parseFloat(c[fo[y]])!==ve(c[fo[y]])&&(m=!0)}return!0}function rw(){return this._isValid}function iw(){return pn(NaN)}function el(c){var h=Fn(c),m=h.year||0,y=h.quarter||0,b=h.month||0,C=h.week||h.isoWeek||0,R=h.day||0,Z=h.hour||0,de=h.minute||0,ke=h.second||0,Et=h.millisecond||0;this._isValid=sw(h),this._milliseconds=+Et+ke*1e3+de*6e4+Z*1e3*60*60,this._days=+R+C*7,this._months=+b+y*3+m*12,this._data={},this._locale=Wn(),this._bubble()}function tl(c){return c instanceof el}function Mu(c){return c<0?Math.round(-1*c)*-1:Math.round(c)}function ow(c,h,m){var y=Math.min(c.length,h.length),b=Math.abs(c.length-h.length),C=0,R;for(R=0;R<y;R++)ve(c[R])!==ve(h[R])&&C++;return C+b}function Np(c,h){L(c,0,0,function(){var m=this.utcOffset(),y="+";return m<0&&(m=-m,y="-"),y+te(~~(m/60),2)+h+te(~~m%60,2)})}Np("Z",":"),Np("ZZ",""),X("Z",Ct),X("ZZ",Ct),Me(["Z","ZZ"],function(c,h,m){m._useUTC=!0,m._tzm=Du(Ct,c)});var aw=/([\+\-]|\d\d)/gi;function Du(c,h){var m=(h||"").match(c),y,b,C;return m===null?null:(y=m[m.length-1]||[],b=(y+"").match(aw)||["-",0,0],C=+(b[1]*60)+ve(b[2]),C===0?0:b[0]==="+"?C:-C)}function Nu(c,h){var m,y;return h._isUTC?(m=h.clone(),y=(T(c)||p(c)?c.valueOf():Ie(c).valueOf())-m.valueOf(),m._d.setTime(m._d.valueOf()+y),s.updateOffset(m,!1),m):Ie(c).local()}function Pu(c){return-Math.round(c._d.getTimezoneOffset())}s.updateOffset=function(){};function lw(c,h,m){var y=this._offset||0,b;if(!this.isValid())return c!=null?this:NaN;if(c!=null){if(typeof c=="string"){if(c=Du(Ct,c),c===null)return this}else Math.abs(c)<16&&!m&&(c=c*60);return!this._isUTC&&h&&(b=Pu(this)),this._offset=c,this._isUTC=!0,b!=null&&this.add(b,"m"),y!==c&&(!h||this._changeInProgress?Ap(this,pn(c-y,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,s.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?y:Pu(this)}function cw(c,h){return c!=null?(typeof c!="string"&&(c=-c),this.utcOffset(c,h),this):-this.utcOffset()}function uw(c){return this.utcOffset(0,c)}function dw(c){return this._isUTC&&(this.utcOffset(0,c),this._isUTC=!1,c&&this.subtract(Pu(this),"m")),this}function hw(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var c=Du(Ha,this._i);c!=null?this.utcOffset(c):this.utcOffset(0,!0)}return this}function fw(c){return this.isValid()?(c=c?Ie(c).utcOffset():0,(this.utcOffset()-c)%60===0):!1}function pw(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function mw(){if(!u(this._isDSTShifted))return this._isDSTShifted;var c={},h;return O(c,this),c=Ep(c),c._a?(h=c._isUTC?_(c._a):Ie(c._a),this._isDSTShifted=this.isValid()&&ow(c._a,h.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function gw(){return this.isValid()?!this._isUTC:!1}function yw(){return this.isValid()?this._isUTC:!1}function Pp(){return this.isValid()?this._isUTC&&this._offset===0:!1}var vw=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,xw=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function pn(c,h){var m=c,y=null,b,C,R;return tl(c)?m={ms:c._milliseconds,d:c._days,M:c._months}:d(c)||!isNaN(+c)?(m={},h?m[h]=+c:m.milliseconds=+c):(y=vw.exec(c))?(b=y[1]==="-"?-1:1,m={y:0,d:ve(y[Ht])*b,h:ve(y[Ge])*b,m:ve(y[Ot])*b,s:ve(y[Zt])*b,ms:ve(Mu(y[Cn]*1e3))*b}):(y=xw.exec(c))?(b=y[1]==="-"?-1:1,m={y:pr(y[2],b),M:pr(y[3],b),w:pr(y[4],b),d:pr(y[5],b),h:pr(y[6],b),m:pr(y[7],b),s:pr(y[8],b)}):m==null?m={}:typeof m=="object"&&("from"in m||"to"in m)&&(R=_w(Ie(m.from),Ie(m.to)),m={},m.ms=R.milliseconds,m.M=R.months),C=new el(m),tl(c)&&a(c,"_locale")&&(C._locale=c._locale),tl(c)&&a(c,"_isValid")&&(C._isValid=c._isValid),C}pn.fn=el.prototype,pn.invalid=iw;function pr(c,h){var m=c&&parseFloat(c.replace(",","."));return(isNaN(m)?0:m)*h}function Tp(c,h){var m={};return m.months=h.month()-c.month()+(h.year()-c.year())*12,c.clone().add(m.months,"M").isAfter(h)&&--m.months,m.milliseconds=+h-+c.clone().add(m.months,"M"),m}function _w(c,h){var m;return c.isValid()&&h.isValid()?(h=Nu(h,c),c.isBefore(h)?m=Tp(c,h):(m=Tp(h,c),m.milliseconds=-m.milliseconds,m.months=-m.months),m):{milliseconds:0,months:0}}function Op(c,h){return function(m,y){var b,C;return y!==null&&!isNaN(+y)&&(ie(h,"moment()."+h+"(period, number) is deprecated. Please use moment()."+h+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),C=m,m=y,y=C),b=pn(m,y),Ap(this,b,c),this}}function Ap(c,h,m,y){var b=h._milliseconds,C=Mu(h._days),R=Mu(h._months);c.isValid()&&(y=y??!0,R&&fr(c,bs(c,"Month")+R*m),C&&N(c,"Date",bs(c,"Date")+C*m),b&&c._d.setTime(c._d.valueOf()+b*m),y&&s.updateOffset(c,C||R))}var bw=Op(1,"add"),ww=Op(-1,"subtract");function Rp(c){return typeof c=="string"||c instanceof String}function kw(c){return T(c)||p(c)||Rp(c)||d(c)||jw(c)||Sw(c)||c===null||c===void 0}function Sw(c){var h=o(c)&&!l(c),m=!1,y=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],b,C,R=y.length;for(b=0;b<R;b+=1)C=y[b],m=m||a(c,C);return h&&m}function jw(c){var h=i(c),m=!1;return h&&(m=c.filter(function(y){return!d(y)&&Rp(c)}).length===0),h&&m}function Cw(c){var h=o(c)&&!l(c),m=!1,y=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],b,C;for(b=0;b<y.length;b+=1)C=y[b],m=m||a(c,C);return h&&m}function Ew(c,h){var m=c.diff(h,"days",!0);return m<-6?"sameElse":m<-1?"lastWeek":m<0?"lastDay":m<1?"sameDay":m<2?"nextDay":m<7?"nextWeek":"sameElse"}function Mw(c,h){arguments.length===1&&(arguments[0]?kw(arguments[0])?(c=arguments[0],h=void 0):Cw(arguments[0])&&(h=arguments[0],c=void 0):(c=void 0,h=void 0));var m=c||Ie(),y=Nu(m,this).startOf("day"),b=s.calendarFormat(this,y)||"sameElse",C=h&&(me(h[b])?h[b].call(this,m):h[b]);return this.format(C||this.localeData().calendar(b,this,Ie(m)))}function Dw(){return new A(this)}function Nw(c,h){var m=T(c)?c:Ie(c);return this.isValid()&&m.isValid()?(h=jt(h)||"millisecond",h==="millisecond"?this.valueOf()>m.valueOf():m.valueOf()<this.clone().startOf(h).valueOf()):!1}function Pw(c,h){var m=T(c)?c:Ie(c);return this.isValid()&&m.isValid()?(h=jt(h)||"millisecond",h==="millisecond"?this.valueOf()<m.valueOf():this.clone().endOf(h).valueOf()<m.valueOf()):!1}function Tw(c,h,m,y){var b=T(c)?c:Ie(c),C=T(h)?h:Ie(h);return this.isValid()&&b.isValid()&&C.isValid()?(y=y||"()",(y[0]==="("?this.isAfter(b,m):!this.isBefore(b,m))&&(y[1]===")"?this.isBefore(C,m):!this.isAfter(C,m))):!1}function Ow(c,h){var m=T(c)?c:Ie(c),y;return this.isValid()&&m.isValid()?(h=jt(h)||"millisecond",h==="millisecond"?this.valueOf()===m.valueOf():(y=m.valueOf(),this.clone().startOf(h).valueOf()<=y&&y<=this.clone().endOf(h).valueOf())):!1}function Aw(c,h){return this.isSame(c,h)||this.isAfter(c,h)}function Rw(c,h){return this.isSame(c,h)||this.isBefore(c,h)}function Lw(c,h,m){var y,b,C;if(!this.isValid())return NaN;if(y=Nu(c,this),!y.isValid())return NaN;switch(b=(y.utcOffset()-this.utcOffset())*6e4,h=jt(h),h){case"year":C=nl(this,y)/12;break;case"month":C=nl(this,y);break;case"quarter":C=nl(this,y)/3;break;case"second":C=(this-y)/1e3;break;case"minute":C=(this-y)/6e4;break;case"hour":C=(this-y)/36e5;break;case"day":C=(this-y-b)/864e5;break;case"week":C=(this-y-b)/6048e5;break;default:C=this-y}return m?C:Tt(C)}function nl(c,h){if(c.date()<h.date())return-nl(h,c);var m=(h.year()-c.year())*12+(h.month()-c.month()),y=c.clone().add(m,"months"),b,C;return h-y<0?(b=c.clone().add(m-1,"months"),C=(h-y)/(y-b)):(b=c.clone().add(m+1,"months"),C=(h-y)/(b-y)),-(m+C)||0}s.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",s.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function Iw(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Fw(c){if(!this.isValid())return null;var h=c!==!0,m=h?this.clone().utc():this;return m.year()<0||m.year()>9999?ft(m,h?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):me(Date.prototype.toISOString)?h?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",ft(m,"Z")):ft(m,h?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function $w(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var c="moment",h="",m,y,b,C;return this.isLocal()||(c=this.utcOffset()===0?"moment.utc":"moment.parseZone",h="Z"),m="["+c+'("]',y=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",b="-MM-DD[T]HH:mm:ss.SSS",C=h+'[")]',this.format(m+y+b+C)}function zw(c){c||(c=this.isUtc()?s.defaultFormatUtc:s.defaultFormat);var h=ft(this,c);return this.localeData().postformat(h)}function Bw(c,h){return this.isValid()&&(T(c)&&c.isValid()||Ie(c).isValid())?pn({to:this,from:c}).locale(this.locale()).humanize(!h):this.localeData().invalidDate()}function Uw(c){return this.from(Ie(),c)}function Ww(c,h){return this.isValid()&&(T(c)&&c.isValid()||Ie(c).isValid())?pn({from:this,to:c}).locale(this.locale()).humanize(!h):this.localeData().invalidDate()}function Hw(c){return this.to(Ie(),c)}function Lp(c){var h;return c===void 0?this._locale._abbr:(h=Wn(c),h!=null&&(this._locale=h),this)}var Ip=z("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(c){return c===void 0?this.localeData():this.locale(c)});function Fp(){return this._locale}var sl=1e3,ti=60*sl,rl=60*ti,$p=(365*400+97)*24*rl;function ni(c,h){return(c%h+h)%h}function zp(c,h,m){return c<100&&c>=0?new Date(c+400,h,m)-$p:new Date(c,h,m).valueOf()}function Bp(c,h,m){return c<100&&c>=0?Date.UTC(c+400,h,m)-$p:Date.UTC(c,h,m)}function Yw(c){var h,m;if(c=jt(c),c===void 0||c==="millisecond"||!this.isValid())return this;switch(m=this._isUTC?Bp:zp,c){case"year":h=m(this.year(),0,1);break;case"quarter":h=m(this.year(),this.month()-this.month()%3,1);break;case"month":h=m(this.year(),this.month(),1);break;case"week":h=m(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":h=m(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":h=m(this.year(),this.month(),this.date());break;case"hour":h=this._d.valueOf(),h-=ni(h+(this._isUTC?0:this.utcOffset()*ti),rl);break;case"minute":h=this._d.valueOf(),h-=ni(h,ti);break;case"second":h=this._d.valueOf(),h-=ni(h,sl);break}return this._d.setTime(h),s.updateOffset(this,!0),this}function Vw(c){var h,m;if(c=jt(c),c===void 0||c==="millisecond"||!this.isValid())return this;switch(m=this._isUTC?Bp:zp,c){case"year":h=m(this.year()+1,0,1)-1;break;case"quarter":h=m(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":h=m(this.year(),this.month()+1,1)-1;break;case"week":h=m(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":h=m(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":h=m(this.year(),this.month(),this.date()+1)-1;break;case"hour":h=this._d.valueOf(),h+=rl-ni(h+(this._isUTC?0:this.utcOffset()*ti),rl)-1;break;case"minute":h=this._d.valueOf(),h+=ti-ni(h,ti)-1;break;case"second":h=this._d.valueOf(),h+=sl-ni(h,sl)-1;break}return this._d.setTime(h),s.updateOffset(this,!0),this}function Gw(){return this._d.valueOf()-(this._offset||0)*6e4}function qw(){return Math.floor(this.valueOf()/1e3)}function Kw(){return new Date(this.valueOf())}function Jw(){var c=this;return[c.year(),c.month(),c.date(),c.hour(),c.minute(),c.second(),c.millisecond()]}function Xw(){var c=this;return{years:c.year(),months:c.month(),date:c.date(),hours:c.hours(),minutes:c.minutes(),seconds:c.seconds(),milliseconds:c.milliseconds()}}function Qw(){return this.isValid()?this.toISOString():null}function Zw(){return w(this)}function e1(){return v({},S(this))}function t1(){return S(this).overflow}function n1(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}L("N",0,0,"eraAbbr"),L("NN",0,0,"eraAbbr"),L("NNN",0,0,"eraAbbr"),L("NNNN",0,0,"eraName"),L("NNNNN",0,0,"eraNarrow"),L("y",["y",1],"yo","eraYear"),L("y",["yy",2],0,"eraYear"),L("y",["yyy",3],0,"eraYear"),L("y",["yyyy",4],0,"eraYear"),X("N",Tu),X("NN",Tu),X("NNN",Tu),X("NNNN",f1),X("NNNNN",p1),Me(["N","NN","NNN","NNNN","NNNNN"],function(c,h,m,y){var b=m._locale.erasParse(c,y,m._strict);b?S(m).era=b:S(m).invalidEra=c}),X("y",Oe),X("yy",Oe),X("yyy",Oe),X("yyyy",Oe),X("yo",m1),Me(["y","yy","yyy","yyyy"],rt),Me(["yo"],function(c,h,m,y){var b;m._locale._eraYearOrdinalRegex&&(b=c.match(m._locale._eraYearOrdinalRegex)),m._locale.eraYearOrdinalParse?h[rt]=m._locale.eraYearOrdinalParse(c,b):h[rt]=parseInt(c,10)});function s1(c,h){var m,y,b,C=this._eras||Wn("en")._eras;for(m=0,y=C.length;m<y;++m){switch(typeof C[m].since){case"string":b=s(C[m].since).startOf("day"),C[m].since=b.valueOf();break}switch(typeof C[m].until){case"undefined":C[m].until=1/0;break;case"string":b=s(C[m].until).startOf("day").valueOf(),C[m].until=b.valueOf();break}}return C}function r1(c,h,m){var y,b,C=this.eras(),R,Z,de;for(c=c.toUpperCase(),y=0,b=C.length;y<b;++y)if(R=C[y].name.toUpperCase(),Z=C[y].abbr.toUpperCase(),de=C[y].narrow.toUpperCase(),m)switch(h){case"N":case"NN":case"NNN":if(Z===c)return C[y];break;case"NNNN":if(R===c)return C[y];break;case"NNNNN":if(de===c)return C[y];break}else if([R,Z,de].indexOf(c)>=0)return C[y]}function i1(c,h){var m=c.since<=c.until?1:-1;return h===void 0?s(c.since).year():s(c.since).year()+(h-c.offset)*m}function o1(){var c,h,m,y=this.localeData().eras();for(c=0,h=y.length;c<h;++c)if(m=this.clone().startOf("day").valueOf(),y[c].since<=m&&m<=y[c].until||y[c].until<=m&&m<=y[c].since)return y[c].name;return""}function a1(){var c,h,m,y=this.localeData().eras();for(c=0,h=y.length;c<h;++c)if(m=this.clone().startOf("day").valueOf(),y[c].since<=m&&m<=y[c].until||y[c].until<=m&&m<=y[c].since)return y[c].narrow;return""}function l1(){var c,h,m,y=this.localeData().eras();for(c=0,h=y.length;c<h;++c)if(m=this.clone().startOf("day").valueOf(),y[c].since<=m&&m<=y[c].until||y[c].until<=m&&m<=y[c].since)return y[c].abbr;return""}function c1(){var c,h,m,y,b=this.localeData().eras();for(c=0,h=b.length;c<h;++c)if(m=b[c].since<=b[c].until?1:-1,y=this.clone().startOf("day").valueOf(),b[c].since<=y&&y<=b[c].until||b[c].until<=y&&y<=b[c].since)return(this.year()-s(b[c].since).year())*m+b[c].offset;return this.year()}function u1(c){return a(this,"_erasNameRegex")||Ou.call(this),c?this._erasNameRegex:this._erasRegex}function d1(c){return a(this,"_erasAbbrRegex")||Ou.call(this),c?this._erasAbbrRegex:this._erasRegex}function h1(c){return a(this,"_erasNarrowRegex")||Ou.call(this),c?this._erasNarrowRegex:this._erasRegex}function Tu(c,h){return h.erasAbbrRegex(c)}function f1(c,h){return h.erasNameRegex(c)}function p1(c,h){return h.erasNarrowRegex(c)}function m1(c,h){return h._eraYearOrdinalRegex||Oe}function Ou(){var c=[],h=[],m=[],y=[],b,C,R,Z,de,ke=this.eras();for(b=0,C=ke.length;b<C;++b)R=hn(ke[b].name),Z=hn(ke[b].abbr),de=hn(ke[b].narrow),h.push(R),c.push(Z),m.push(de),y.push(R),y.push(Z),y.push(de);this._erasRegex=new RegExp("^("+y.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+h.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+c.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+m.join("|")+")","i")}L(0,["gg",2],0,function(){return this.weekYear()%100}),L(0,["GG",2],0,function(){return this.isoWeekYear()%100});function il(c,h){L(0,[c,c.length],0,h)}il("gggg","weekYear"),il("ggggg","weekYear"),il("GGGG","isoWeekYear"),il("GGGGG","isoWeekYear"),X("G",vs),X("g",vs),X("GG",Ee,st),X("gg",Ee,st),X("GGGG",so,$n),X("gggg",so,$n),X("GGGGG",zn,cr),X("ggggg",zn,cr),dr(["gggg","ggggg","GGGG","GGGGG"],function(c,h,m,y){h[y.substr(0,2)]=ve(c)}),dr(["gg","GG"],function(c,h,m,y){h[y]=s.parseTwoDigitYear(c)});function g1(c){return Up.call(this,c,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function y1(c){return Up.call(this,c,this.isoWeek(),this.isoWeekday(),1,4)}function v1(){return Un(this.year(),1,4)}function x1(){return Un(this.isoWeekYear(),1,4)}function _1(){var c=this.localeData()._week;return Un(this.year(),c.dow,c.doy)}function b1(){var c=this.localeData()._week;return Un(this.weekYear(),c.dow,c.doy)}function Up(c,h,m,y,b){var C;return c==null?co(this,y,b).year:(C=Un(c,y,b),h>C&&(h=C),w1.call(this,c,h,m,y,b))}function w1(c,h,m,y,b){var C=xp(c,h,m,y,b),R=lo(C.year,0,C.dayOfYear);return this.year(R.getUTCFullYear()),this.month(R.getUTCMonth()),this.date(R.getUTCDate()),this}L("Q",0,"Qo","quarter"),X("Q",eo),Me("Q",function(c,h){h[Qt]=(ve(c)-1)*3});function k1(c){return c==null?Math.ceil((this.month()+1)/3):this.month((c-1)*3+this.month()%3)}L("D",["DD",2],"Do","date"),X("D",Ee,dn),X("DD",Ee,st),X("Do",function(c,h){return c?h._dayOfMonthOrdinalParse||h._ordinalParse:h._dayOfMonthOrdinalParseLenient}),Me(["D","DD"],Ht),Me("Do",function(c,h){h[Ht]=ve(c.match(Ee)[0])});var Wp=Bn("Date",!0);L("DDD",["DDDD",3],"DDDo","dayOfYear"),X("DDD",ys),X("DDDD",to),Me(["DDD","DDDD"],function(c,h,m){m._dayOfYear=ve(c)});function S1(c){var h=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return c==null?h:this.add(c-h,"d")}L("m",["mm",2],0,"minute"),X("m",Ee,ro),X("mm",Ee,st),Me(["m","mm"],Ot);var j1=Bn("Minutes",!1);L("s",["ss",2],0,"second"),X("s",Ee,ro),X("ss",Ee,st),Me(["s","ss"],Zt);var C1=Bn("Seconds",!1);L("S",0,0,function(){return~~(this.millisecond()/100)}),L(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),L(0,["SSS",3],0,"millisecond"),L(0,["SSSS",4],0,function(){return this.millisecond()*10}),L(0,["SSSSS",5],0,function(){return this.millisecond()*100}),L(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3}),L(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4}),L(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5}),L(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6}),X("S",ys,eo),X("SS",ys,st),X("SSS",ys,to);var js,Hp;for(js="SSSS";js.length<=9;js+="S")X(js,Oe);function E1(c,h){h[Cn]=ve(("0."+c)*1e3)}for(js="S";js.length<=9;js+="S")Me(js,E1);Hp=Bn("Milliseconds",!1),L("z",0,0,"zoneAbbr"),L("zz",0,0,"zoneName");function M1(){return this._isUTC?"UTC":""}function D1(){return this._isUTC?"Coordinated Universal Time":""}var H=A.prototype;H.add=bw,H.calendar=Mw,H.clone=Dw,H.diff=Lw,H.endOf=Vw,H.format=zw,H.from=Bw,H.fromNow=Uw,H.to=Ww,H.toNow=Hw,H.get=I,H.invalidAt=t1,H.isAfter=Nw,H.isBefore=Pw,H.isBetween=Tw,H.isSame=Ow,H.isSameOrAfter=Aw,H.isSameOrBefore=Rw,H.isValid=Zw,H.lang=Ip,H.locale=Lp,H.localeData=Fp,H.max=Zb,H.min=Qb,H.parsingFlags=e1,H.set=$,H.startOf=Yw,H.subtract=ww,H.toArray=Jw,H.toObject=Xw,H.toDate=Kw,H.toISOString=Fw,H.inspect=$w,typeof Symbol<"u"&&Symbol.for!=null&&(H[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),H.toJSON=Qw,H.toString=Iw,H.unix=qw,H.valueOf=Gw,H.creationData=n1,H.eraName=o1,H.eraNarrow=a1,H.eraAbbr=l1,H.eraYear=c1,H.year=oo,H.isLeapYear=Ka,H.weekYear=g1,H.isoWeekYear=y1,H.quarter=H.quarters=k1,H.month=Ae,H.daysInMonth=ct,H.week=H.weeks=sb,H.isoWeek=H.isoWeeks=rb,H.weeksInYear=_1,H.weeksInWeekYear=b1,H.isoWeeksInYear=v1,H.isoWeeksInISOWeekYear=x1,H.date=Wp,H.day=H.days=yb,H.weekday=vb,H.isoWeekday=xb,H.dayOfYear=S1,H.hour=H.hours=Cb,H.minute=H.minutes=j1,H.second=H.seconds=C1,H.millisecond=H.milliseconds=Hp,H.utcOffset=lw,H.utc=uw,H.local=dw,H.parseZone=hw,H.hasAlignedHourOffset=fw,H.isDST=pw,H.isLocal=gw,H.isUtcOffset=yw,H.isUtc=Pp,H.isUTC=Pp,H.zoneAbbr=M1,H.zoneName=D1,H.dates=z("dates accessor is deprecated. Use date instead.",Wp),H.months=z("months accessor is deprecated. Use month instead",Ae),H.years=z("years accessor is deprecated. Use year instead",oo),H.zone=z("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",cw),H.isDSTShifted=z("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",mw);function N1(c){return Ie(c*1e3)}function P1(){return Ie.apply(null,arguments).parseZone()}function Yp(c){return c}var Ce=fe.prototype;Ce.calendar=J,Ce.longDateFormat=Sn,Ce.invalidDate=Ua,Ce.ordinal=un,Ce.preparse=Yp,Ce.postformat=Yp,Ce.relativeTime=jn,Ce.pastFuture=Zi,Ce.set=ue,Ce.eras=s1,Ce.erasParse=r1,Ce.erasConvertYear=i1,Ce.erasAbbrRegex=d1,Ce.erasNameRegex=u1,Ce.erasNarrowRegex=h1,Ce.months=Je,Ce.monthsShort=it,Ce.monthsParse=ks,Ce.monthsRegex=Ja,Ce.monthsShortRegex=fn,Ce.week=Z_,Ce.firstDayOfYear=nb,Ce.firstDayOfWeek=tb,Ce.weekdays=hb,Ce.weekdaysMin=pb,Ce.weekdaysShort=fb,Ce.weekdaysParse=gb,Ce.weekdaysRegex=_b,Ce.weekdaysShortRegex=bb,Ce.weekdaysMinRegex=wb,Ce.isPM=Sb,Ce.meridiem=Eb;function ol(c,h,m,y){var b=Wn(),C=_().set(y,h);return b[m](C,c)}function Vp(c,h,m){if(d(c)&&(h=c,c=void 0),c=c||"",h!=null)return ol(c,h,m,"month");var y,b=[];for(y=0;y<12;y++)b[y]=ol(c,y,m,"month");return b}function Au(c,h,m,y){typeof c=="boolean"?(d(h)&&(m=h,h=void 0),h=h||""):(h=c,m=h,c=!1,d(h)&&(m=h,h=void 0),h=h||"");var b=Wn(),C=c?b._week.dow:0,R,Z=[];if(m!=null)return ol(h,(m+C)%7,y,"day");for(R=0;R<7;R++)Z[R]=ol(h,(R+C)%7,y,"day");return Z}function T1(c,h){return Vp(c,h,"months")}function O1(c,h){return Vp(c,h,"monthsShort")}function A1(c,h,m){return Au(c,h,m,"weekdays")}function R1(c,h,m){return Au(c,h,m,"weekdaysShort")}function L1(c,h,m){return Au(c,h,m,"weekdaysMin")}Ss("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(c){var h=c%10,m=ve(c%100/10)===1?"th":h===1?"st":h===2?"nd":h===3?"rd":"th";return c+m}}),s.lang=z("moment.lang is deprecated. Use moment.locale instead.",Ss),s.langData=z("moment.langData is deprecated. Use moment.localeData instead.",Wn);var Hn=Math.abs;function I1(){var c=this._data;return this._milliseconds=Hn(this._milliseconds),this._days=Hn(this._days),this._months=Hn(this._months),c.milliseconds=Hn(c.milliseconds),c.seconds=Hn(c.seconds),c.minutes=Hn(c.minutes),c.hours=Hn(c.hours),c.months=Hn(c.months),c.years=Hn(c.years),this}function Gp(c,h,m,y){var b=pn(h,m);return c._milliseconds+=y*b._milliseconds,c._days+=y*b._days,c._months+=y*b._months,c._bubble()}function F1(c,h){return Gp(this,c,h,1)}function $1(c,h){return Gp(this,c,h,-1)}function qp(c){return c<0?Math.floor(c):Math.ceil(c)}function z1(){var c=this._milliseconds,h=this._days,m=this._months,y=this._data,b,C,R,Z,de;return c>=0&&h>=0&&m>=0||c<=0&&h<=0&&m<=0||(c+=qp(Ru(m)+h)*864e5,h=0,m=0),y.milliseconds=c%1e3,b=Tt(c/1e3),y.seconds=b%60,C=Tt(b/60),y.minutes=C%60,R=Tt(C/60),y.hours=R%24,h+=Tt(R/24),de=Tt(Kp(h)),m+=de,h-=qp(Ru(de)),Z=Tt(m/12),m%=12,y.days=h,y.months=m,y.years=Z,this}function Kp(c){return c*4800/146097}function Ru(c){return c*146097/4800}function B1(c){if(!this.isValid())return NaN;var h,m,y=this._milliseconds;if(c=jt(c),c==="month"||c==="quarter"||c==="year")switch(h=this._days+y/864e5,m=this._months+Kp(h),c){case"month":return m;case"quarter":return m/3;case"year":return m/12}else switch(h=this._days+Math.round(Ru(this._months)),c){case"week":return h/7+y/6048e5;case"day":return h+y/864e5;case"hour":return h*24+y/36e5;case"minute":return h*1440+y/6e4;case"second":return h*86400+y/1e3;case"millisecond":return Math.floor(h*864e5)+y;default:throw new Error("Unknown unit "+c)}}function Yn(c){return function(){return this.as(c)}}var Jp=Yn("ms"),U1=Yn("s"),W1=Yn("m"),H1=Yn("h"),Y1=Yn("d"),V1=Yn("w"),G1=Yn("M"),q1=Yn("Q"),K1=Yn("y"),J1=Jp;function X1(){return pn(this)}function Q1(c){return c=jt(c),this.isValid()?this[c+"s"]():NaN}function mr(c){return function(){return this.isValid()?this._data[c]:NaN}}var Z1=mr("milliseconds"),ek=mr("seconds"),tk=mr("minutes"),nk=mr("hours"),sk=mr("days"),rk=mr("months"),ik=mr("years");function ok(){return Tt(this.days()/7)}var Vn=Math.round,si={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function ak(c,h,m,y,b){return b.relativeTime(h||1,!!m,c,y)}function lk(c,h,m,y){var b=pn(c).abs(),C=Vn(b.as("s")),R=Vn(b.as("m")),Z=Vn(b.as("h")),de=Vn(b.as("d")),ke=Vn(b.as("M")),Et=Vn(b.as("w")),Gn=Vn(b.as("y")),Cs=C<=m.ss&&["s",C]||C<m.s&&["ss",C]||R<=1&&["m"]||R<m.m&&["mm",R]||Z<=1&&["h"]||Z<m.h&&["hh",Z]||de<=1&&["d"]||de<m.d&&["dd",de];return m.w!=null&&(Cs=Cs||Et<=1&&["w"]||Et<m.w&&["ww",Et]),Cs=Cs||ke<=1&&["M"]||ke<m.M&&["MM",ke]||Gn<=1&&["y"]||["yy",Gn],Cs[2]=h,Cs[3]=+c>0,Cs[4]=y,ak.apply(null,Cs)}function ck(c){return c===void 0?Vn:typeof c=="function"?(Vn=c,!0):!1}function uk(c,h){return si[c]===void 0?!1:h===void 0?si[c]:(si[c]=h,c==="s"&&(si.ss=h-1),!0)}function dk(c,h){if(!this.isValid())return this.localeData().invalidDate();var m=!1,y=si,b,C;return typeof c=="object"&&(h=c,c=!1),typeof c=="boolean"&&(m=c),typeof h=="object"&&(y=Object.assign({},si,h),h.s!=null&&h.ss==null&&(y.ss=h.s-1)),b=this.localeData(),C=lk(this,!m,y,b),m&&(C=b.pastFuture(+this,C)),b.postformat(C)}var Lu=Math.abs;function ri(c){return(c>0)-(c<0)||+c}function al(){if(!this.isValid())return this.localeData().invalidDate();var c=Lu(this._milliseconds)/1e3,h=Lu(this._days),m=Lu(this._months),y,b,C,R,Z=this.asSeconds(),de,ke,Et,Gn;return Z?(y=Tt(c/60),b=Tt(y/60),c%=60,y%=60,C=Tt(m/12),m%=12,R=c?c.toFixed(3).replace(/\.?0+$/,""):"",de=Z<0?"-":"",ke=ri(this._months)!==ri(Z)?"-":"",Et=ri(this._days)!==ri(Z)?"-":"",Gn=ri(this._milliseconds)!==ri(Z)?"-":"",de+"P"+(C?ke+C+"Y":"")+(m?ke+m+"M":"")+(h?Et+h+"D":"")+(b||y||c?"T":"")+(b?Gn+b+"H":"")+(y?Gn+y+"M":"")+(c?Gn+R+"S":"")):"P0D"}var Se=el.prototype;Se.isValid=rw,Se.abs=I1,Se.add=F1,Se.subtract=$1,Se.as=B1,Se.asMilliseconds=Jp,Se.asSeconds=U1,Se.asMinutes=W1,Se.asHours=H1,Se.asDays=Y1,Se.asWeeks=V1,Se.asMonths=G1,Se.asQuarters=q1,Se.asYears=K1,Se.valueOf=J1,Se._bubble=z1,Se.clone=X1,Se.get=Q1,Se.milliseconds=Z1,Se.seconds=ek,Se.minutes=tk,Se.hours=nk,Se.days=sk,Se.weeks=ok,Se.months=rk,Se.years=ik,Se.humanize=dk,Se.toISOString=al,Se.toString=al,Se.toJSON=al,Se.locale=Lp,Se.localeData=Fp,Se.toIsoString=z("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",al),Se.lang=Ip,L("X",0,0,"unix"),L("x",0,0,"valueOf"),X("x",vs),X("X",Ya),Me("X",function(c,h,m){m._d=new Date(parseFloat(c)*1e3)}),Me("x",function(c,h,m){m._d=new Date(ve(c))});//! moment.js
return s.version="2.30.1",r(Ie),s.fn=H,s.min=ew,s.max=tw,s.now=nw,s.utc=_,s.unix=N1,s.months=T1,s.isDate=p,s.locale=Ss,s.invalid=j,s.duration=pn,s.isMoment=T,s.weekdays=A1,s.parseZone=P1,s.localeData=Wn,s.isDuration=tl,s.monthsShort=O1,s.weekdaysMin=L1,s.defineLocale=ku,s.updateLocale=Pb,s.locales=Tb,s.weekdaysShort=R1,s.normalizeUnits=jt,s.relativeTimeRounding=ck,s.relativeTimeThreshold=uk,s.calendarFormat=Ew,s.prototype=H,s.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},s})}(gd)),gd.exports}(function(t,e){(function(n,s){s(typeof Qx=="function"?HM():n.moment)})(Wt,function(n){//! moment.js locale configuration
var s="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),r="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),i=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],o=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,a=n.defineLocale("es",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(l,u){return l?/-MMM-/.test(u)?r[l.month()]:s[l.month()]:s},monthsRegex:o,monthsShortRegex:o,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:i,longMonthsParse:i,shortMonthsParse:i,weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(this.hours()!==1?"s":"")+"] LT"},nextDay:function(){return"[maana a la"+(this.hours()!==1?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(this.hours()!==1?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(this.hours()!==1?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(this.hours()!==1?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4},invalidDate:"Fecha invlida"});return a})})();/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Ba(t){return t+.5|0}const Us=(t,e,n)=>Math.max(Math.min(t,n),e);function Oo(t){return Us(Ba(t*2.55),0,255)}function Qs(t){return Us(Ba(t*255),0,255)}function ts(t){return Us(Ba(t/2.55)/100,0,1)}function Pg(t){return Us(Ba(t*100),0,100)}const en={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Fh=[..."0123456789ABCDEF"],YM=t=>Fh[t&15],VM=t=>Fh[(t&240)>>4]+Fh[t&15],Nl=t=>(t&240)>>4===(t&15),GM=t=>Nl(t.r)&&Nl(t.g)&&Nl(t.b)&&Nl(t.a);function qM(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&en[t[1]]*17,g:255&en[t[2]]*17,b:255&en[t[3]]*17,a:e===5?en[t[4]]*17:255}:(e===7||e===9)&&(n={r:en[t[1]]<<4|en[t[2]],g:en[t[3]]<<4|en[t[4]],b:en[t[5]]<<4|en[t[6]],a:e===9?en[t[7]]<<4|en[t[8]]:255})),n}const KM=(t,e)=>t<255?e(t):"";function JM(t){var e=GM(t)?YM:VM;return t?"#"+e(t.r)+e(t.g)+e(t.b)+KM(t.a,e):void 0}const XM=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Zx(t,e,n){const s=e*Math.min(n,1-n),r=(i,o=(i+t/30)%12)=>n-s*Math.max(Math.min(o-3,9-o,1),-1);return[r(0),r(8),r(4)]}function QM(t,e,n){const s=(r,i=(r+t/60)%6)=>n-n*e*Math.max(Math.min(i,4-i,1),0);return[s(5),s(3),s(1)]}function ZM(t,e,n){const s=Zx(t,1,.5);let r;for(e+n>1&&(r=1/(e+n),e*=r,n*=r),r=0;r<3;r++)s[r]*=1-e-n,s[r]+=e;return s}function eD(t,e,n,s,r){return t===r?(e-n)/s+(e<n?6:0):e===r?(n-t)/s+2:(t-e)/s+4}function Zf(t){const n=t.r/255,s=t.g/255,r=t.b/255,i=Math.max(n,s,r),o=Math.min(n,s,r),a=(i+o)/2;let l,u,d;return i!==o&&(d=i-o,u=a>.5?d/(2-i-o):d/(i+o),l=eD(n,s,r,d,i),l=l*60+.5),[l|0,u||0,a]}function ep(t,e,n,s){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,s)).map(Qs)}function tp(t,e,n){return ep(Zx,t,e,n)}function tD(t,e,n){return ep(ZM,t,e,n)}function nD(t,e,n){return ep(QM,t,e,n)}function e_(t){return(t%360+360)%360}function sD(t){const e=XM.exec(t);let n=255,s;if(!e)return;e[5]!==s&&(n=e[6]?Oo(+e[5]):Qs(+e[5]));const r=e_(+e[2]),i=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?s=tD(r,i,o):e[1]==="hsv"?s=nD(r,i,o):s=tp(r,i,o),{r:s[0],g:s[1],b:s[2],a:n}}function rD(t,e){var n=Zf(t);n[0]=e_(n[0]+e),n=tp(n),t.r=n[0],t.g=n[1],t.b=n[2]}function iD(t){if(!t)return;const e=Zf(t),n=e[0],s=Pg(e[1]),r=Pg(e[2]);return t.a<255?`hsla(${n}, ${s}%, ${r}%, ${ts(t.a)})`:`hsl(${n}, ${s}%, ${r}%)`}const Tg={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Og={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function oD(){const t={},e=Object.keys(Og),n=Object.keys(Tg);let s,r,i,o,a;for(s=0;s<e.length;s++){for(o=a=e[s],r=0;r<n.length;r++)i=n[r],a=a.replace(i,Tg[i]);i=parseInt(Og[o],16),t[a]=[i>>16&255,i>>8&255,i&255]}return t}let Pl;function aD(t){Pl||(Pl=oD(),Pl.transparent=[0,0,0,0]);const e=Pl[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const lD=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function cD(t){const e=lD.exec(t);let n=255,s,r,i;if(e){if(e[7]!==s){const o=+e[7];n=e[8]?Oo(o):Us(o*255,0,255)}return s=+e[1],r=+e[3],i=+e[5],s=255&(e[2]?Oo(s):Us(s,0,255)),r=255&(e[4]?Oo(r):Us(r,0,255)),i=255&(e[6]?Oo(i):Us(i,0,255)),{r:s,g:r,b:i,a:n}}}function uD(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${ts(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const yd=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,ci=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function dD(t,e,n){const s=ci(ts(t.r)),r=ci(ts(t.g)),i=ci(ts(t.b));return{r:Qs(yd(s+n*(ci(ts(e.r))-s))),g:Qs(yd(r+n*(ci(ts(e.g))-r))),b:Qs(yd(i+n*(ci(ts(e.b))-i))),a:t.a+n*(e.a-t.a)}}function Tl(t,e,n){if(t){let s=Zf(t);s[e]=Math.max(0,Math.min(s[e]+s[e]*n,e===0?360:1)),s=tp(s),t.r=s[0],t.g=s[1],t.b=s[2]}}function t_(t,e){return t&&Object.assign(e||{},t)}function Ag(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Qs(t[3]))):(e=t_(t,{r:0,g:0,b:0,a:1}),e.a=Qs(e.a)),e}function hD(t){return t.charAt(0)==="r"?cD(t):sD(t)}class ba{constructor(e){if(e instanceof ba)return e;const n=typeof e;let s;n==="object"?s=Ag(e):n==="string"&&(s=qM(e)||aD(e)||hD(e)),this._rgb=s,this._valid=!!s}get valid(){return this._valid}get rgb(){var e=t_(this._rgb);return e&&(e.a=ts(e.a)),e}set rgb(e){this._rgb=Ag(e)}rgbString(){return this._valid?uD(this._rgb):void 0}hexString(){return this._valid?JM(this._rgb):void 0}hslString(){return this._valid?iD(this._rgb):void 0}mix(e,n){if(e){const s=this.rgb,r=e.rgb;let i;const o=n===i?.5:n,a=2*o-1,l=s.a-r.a,u=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;i=1-u,s.r=255&u*s.r+i*r.r+.5,s.g=255&u*s.g+i*r.g+.5,s.b=255&u*s.b+i*r.b+.5,s.a=o*s.a+(1-o)*r.a,this.rgb=s}return this}interpolate(e,n){return e&&(this._rgb=dD(this._rgb,e._rgb,n)),this}clone(){return new ba(this.rgb)}alpha(e){return this._rgb.a=Qs(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=Ba(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Tl(this._rgb,2,e),this}darken(e){return Tl(this._rgb,2,-e),this}saturate(e){return Tl(this._rgb,1,e),this}desaturate(e){return Tl(this._rgb,1,-e),this}rotate(e){return rD(this._rgb,e),this}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Kn(){}const fD=(()=>{let t=0;return()=>t++})();function De(t){return t==null}function et(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function we(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function St(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function Mn(t,e){return St(t)?t:e}function xe(t,e){return typeof t>"u"?e:t}const pD=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,n_=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function $e(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function Ne(t,e,n,s){let r,i,o;if(et(t))for(i=t.length,r=0;r<i;r++)e.call(n,t[r],r);else if(we(t))for(o=Object.keys(t),i=o.length,r=0;r<i;r++)e.call(n,t[o[r]],o[r])}function Oc(t,e){let n,s,r,i;if(!t||!e||t.length!==e.length)return!1;for(n=0,s=t.length;n<s;++n)if(r=t[n],i=e[n],r.datasetIndex!==i.datasetIndex||r.index!==i.index)return!1;return!0}function Ac(t){if(et(t))return t.map(Ac);if(we(t)){const e=Object.create(null),n=Object.keys(t),s=n.length;let r=0;for(;r<s;++r)e[n[r]]=Ac(t[n[r]]);return e}return t}function s_(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function mD(t,e,n,s){if(!s_(t))return;const r=e[t],i=n[t];we(r)&&we(i)?wa(r,i,s):e[t]=Ac(i)}function wa(t,e,n){const s=et(e)?e:[e],r=s.length;if(!we(t))return t;n=n||{};const i=n.merger||mD;let o;for(let a=0;a<r;++a){if(o=s[a],!we(o))continue;const l=Object.keys(o);for(let u=0,d=l.length;u<d;++u)i(l[u],t,o,n)}return t}function Ko(t,e){return wa(t,e,{merger:gD})}function gD(t,e,n){if(!s_(t))return;const s=e[t],r=n[t];we(s)&&we(r)?Ko(s,r):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=Ac(r))}const Rg={"":t=>t,x:t=>t.x,y:t=>t.y};function yD(t){const e=t.split("."),n=[];let s="";for(const r of e)s+=r,s.endsWith("\\")?s=s.slice(0,-1)+".":(n.push(s),s="");return n}function vD(t){const e=yD(t);return n=>{for(const s of e){if(s==="")break;n=n&&n[s]}return n}}function Ur(t,e){return(Rg[e]||(Rg[e]=vD(e)))(t)}function np(t){return t.charAt(0).toUpperCase()+t.slice(1)}const ka=t=>typeof t<"u",tr=t=>typeof t=="function",Lg=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function xD(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const Ke=Math.PI,He=2*Ke,_D=He+Ke,Rc=Number.POSITIVE_INFINITY,bD=Ke/180,lt=Ke/2,yr=Ke/4,Ig=Ke*2/3,r_=Math.log10,In=Math.sign;function Jo(t,e,n){return Math.abs(t-e)<n}function Fg(t){const e=Math.round(t);t=Jo(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(r_(t))),s=t/n;return(s<=1?1:s<=2?2:s<=5?5:10)*n}function wD(t){const e=[],n=Math.sqrt(t);let s;for(s=1;s<n;s++)t%s===0&&(e.push(s),e.push(t/s));return n===(n|0)&&e.push(n),e.sort((r,i)=>r-i).pop(),e}function kD(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function Sa(t){return!kD(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function SD(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function jD(t,e,n){let s,r,i;for(s=0,r=t.length;s<r;s++)i=t[s][n],isNaN(i)||(e.min=Math.min(e.min,i),e.max=Math.max(e.max,i))}function rs(t){return t*(Ke/180)}function CD(t){return t*(180/Ke)}function $g(t){if(!St(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function i_(t,e){const n=e.x-t.x,s=e.y-t.y,r=Math.sqrt(n*n+s*s);let i=Math.atan2(s,n);return i<-.5*Ke&&(i+=He),{angle:i,distance:r}}function $h(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function ED(t,e){return(t-e+_D)%He-Ke}function On(t){return(t%He+He)%He}function ja(t,e,n,s){const r=On(t),i=On(e),o=On(n),a=On(i-r),l=On(o-r),u=On(r-i),d=On(r-o);return r===i||r===o||s&&i===o||a>l&&u<d}function bt(t,e,n){return Math.max(e,Math.min(n,t))}function MD(t){return bt(t,-32768,32767)}function is(t,e,n,s=1e-6){return t>=Math.min(e,n)-s&&t<=Math.max(e,n)+s}function sp(t,e,n){n=n||(o=>t[o]<e);let s=t.length-1,r=0,i;for(;s-r>1;)i=r+s>>1,n(i)?r=i:s=i;return{lo:r,hi:s}}const Nr=(t,e,n,s)=>sp(t,n,s?r=>{const i=t[r][e];return i<n||i===n&&t[r+1][e]===n}:r=>t[r][e]<n),DD=(t,e,n)=>sp(t,n,s=>t[s][e]>=n);function ND(t,e,n){let s=0,r=t.length;for(;s<r&&t[s]<e;)s++;for(;r>s&&t[r-1]>n;)r--;return s>0||r<t.length?t.slice(s,r):t}const o_=["push","pop","shift","splice","unshift"];function PD(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),o_.forEach(n=>{const s="_onData"+np(n),r=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...i){const o=r.apply(this,i);return t._chartjs.listeners.forEach(a=>{typeof a[s]=="function"&&a[s](...i)}),o}})})}function zg(t,e){const n=t._chartjs;if(!n)return;const s=n.listeners,r=s.indexOf(e);r!==-1&&s.splice(r,1),!(s.length>0)&&(o_.forEach(i=>{delete t[i]}),delete t._chartjs)}function a_(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const l_=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function c_(t,e){let n=[],s=!1;return function(...r){n=r,s||(s=!0,l_.call(window,()=>{s=!1,t.apply(e,n)}))}}function TD(t,e){let n;return function(...s){return e?(clearTimeout(n),n=setTimeout(t,e,s)):t.apply(this,s),e}}const rp=t=>t==="start"?"left":t==="end"?"right":"center",xt=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,OD=(t,e,n,s)=>t===(s?"left":"right")?n:t==="center"?(e+n)/2:e;function AD(t,e,n){const s=e.length;let r=0,i=s;if(t._sorted){const{iScale:o,vScale:a,_parsed:l}=t,u=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,d=o.axis,{min:p,max:g,minDefined:v,maxDefined:_}=o.getUserBounds();if(v){if(r=Math.min(Nr(l,d,p).lo,n?s:Nr(e,d,o.getPixelForValue(p)).lo),u){const k=l.slice(0,r+1).reverse().findIndex(S=>!De(S[a.axis]));r-=Math.max(0,k)}r=bt(r,0,s-1)}if(_){let k=Math.max(Nr(l,o.axis,g,!0).hi+1,n?0:Nr(e,d,o.getPixelForValue(g),!0).hi+1);if(u){const S=l.slice(k-1).findIndex(x=>!De(x[a.axis]));k+=Math.max(0,S)}i=bt(k,r,s)-r}else i=s-r}return{start:r,count:i}}function RD(t){const{xScale:e,yScale:n,_scaleRanges:s}=t,r={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!s)return t._scaleRanges=r,!0;const i=s.xmin!==e.min||s.xmax!==e.max||s.ymin!==n.min||s.ymax!==n.max;return Object.assign(s,r),i}const Ol=t=>t===0||t===1,Bg=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*He/n)),Ug=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*He/n)+1,Xo={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*lt)+1,easeOutSine:t=>Math.sin(t*lt),easeInOutSine:t=>-.5*(Math.cos(Ke*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Ol(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Ol(t)?t:Bg(t,.075,.3),easeOutElastic:t=>Ol(t)?t:Ug(t,.075,.3),easeInOutElastic(t){return Ol(t)?t:t<.5?.5*Bg(t*2,.1125,.45):.5+.5*Ug(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-Xo.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?Xo.easeInBounce(t*2)*.5:Xo.easeOutBounce(t*2-1)*.5+.5};function ip(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function Wg(t){return ip(t)?t:new ba(t)}function vd(t){return ip(t)?t:new ba(t).saturate(.5).darken(.1).hexString()}const LD=["x","y","borderWidth","radius","tension"],ID=["color","borderColor","backgroundColor"];function FD(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:ID},numbers:{type:"number",properties:LD}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function $D(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Hg=new Map;function zD(t,e){e=e||{};const n=t+JSON.stringify(e);let s=Hg.get(n);return s||(s=new Intl.NumberFormat(t,e),Hg.set(n,s)),s}function op(t,e,n){return zD(e,n).format(t)}const BD={values(t){return et(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const s=this.chart.options.locale;let r,i=t;if(n.length>1){const u=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(u<1e-4||u>1e15)&&(r="scientific"),i=UD(t,n)}const o=r_(Math.abs(i)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:r,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),op(t,s,l)}};function UD(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var u_={formatters:BD};function WD(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:u_.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Wr=Object.create(null),zh=Object.create(null);function Qo(t,e){if(!e)return t;const n=e.split(".");for(let s=0,r=n.length;s<r;++s){const i=n[s];t=t[i]||(t[i]=Object.create(null))}return t}function xd(t,e,n){return typeof e=="string"?wa(Qo(t,e),n):wa(Qo(t,""),e)}class HD{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=s=>s.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(s,r)=>vd(r.backgroundColor),this.hoverBorderColor=(s,r)=>vd(r.borderColor),this.hoverColor=(s,r)=>vd(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return xd(this,e,n)}get(e){return Qo(this,e)}describe(e,n){return xd(zh,e,n)}override(e,n){return xd(Wr,e,n)}route(e,n,s,r){const i=Qo(this,e),o=Qo(this,s),a="_"+n;Object.defineProperties(i,{[a]:{value:i[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[a],u=o[r];return we(l)?Object.assign({},u,l):xe(l,u)},set(l){this[a]=l}}})}apply(e){e.forEach(n=>n(this))}}var Qe=new HD({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[FD,$D,WD]);function YD(t){return!t||De(t.size)||De(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function Yg(t,e,n,s,r){let i=e[r];return i||(i=e[r]=t.measureText(r).width,n.push(r)),i>s&&(s=i),s}function vr(t,e,n){const s=t.currentDevicePixelRatio,r=n!==0?Math.max(n/2,.5):0;return Math.round((e-r)*s)/s+r}function Vg(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function Bh(t,e,n,s){d_(t,e,n,s,null)}function d_(t,e,n,s,r){let i,o,a,l,u,d,p,g;const v=e.pointStyle,_=e.rotation,k=e.radius;let S=(_||0)*bD;if(v&&typeof v=="object"&&(i=v.toString(),i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]")){t.save(),t.translate(n,s),t.rotate(S),t.drawImage(v,-v.width/2,-v.height/2,v.width,v.height),t.restore();return}if(!(isNaN(k)||k<=0)){switch(t.beginPath(),v){default:r?t.ellipse(n,s,r/2,k,0,0,He):t.arc(n,s,k,0,He),t.closePath();break;case"triangle":d=r?r/2:k,t.moveTo(n+Math.sin(S)*d,s-Math.cos(S)*k),S+=Ig,t.lineTo(n+Math.sin(S)*d,s-Math.cos(S)*k),S+=Ig,t.lineTo(n+Math.sin(S)*d,s-Math.cos(S)*k),t.closePath();break;case"rectRounded":u=k*.516,l=k-u,o=Math.cos(S+yr)*l,p=Math.cos(S+yr)*(r?r/2-u:l),a=Math.sin(S+yr)*l,g=Math.sin(S+yr)*(r?r/2-u:l),t.arc(n-p,s-a,u,S-Ke,S-lt),t.arc(n+g,s-o,u,S-lt,S),t.arc(n+p,s+a,u,S,S+lt),t.arc(n-g,s+o,u,S+lt,S+Ke),t.closePath();break;case"rect":if(!_){l=Math.SQRT1_2*k,d=r?r/2:l,t.rect(n-d,s-l,2*d,2*l);break}S+=yr;case"rectRot":p=Math.cos(S)*(r?r/2:k),o=Math.cos(S)*k,a=Math.sin(S)*k,g=Math.sin(S)*(r?r/2:k),t.moveTo(n-p,s-a),t.lineTo(n+g,s-o),t.lineTo(n+p,s+a),t.lineTo(n-g,s+o),t.closePath();break;case"crossRot":S+=yr;case"cross":p=Math.cos(S)*(r?r/2:k),o=Math.cos(S)*k,a=Math.sin(S)*k,g=Math.sin(S)*(r?r/2:k),t.moveTo(n-p,s-a),t.lineTo(n+p,s+a),t.moveTo(n+g,s-o),t.lineTo(n-g,s+o);break;case"star":p=Math.cos(S)*(r?r/2:k),o=Math.cos(S)*k,a=Math.sin(S)*k,g=Math.sin(S)*(r?r/2:k),t.moveTo(n-p,s-a),t.lineTo(n+p,s+a),t.moveTo(n+g,s-o),t.lineTo(n-g,s+o),S+=yr,p=Math.cos(S)*(r?r/2:k),o=Math.cos(S)*k,a=Math.sin(S)*k,g=Math.sin(S)*(r?r/2:k),t.moveTo(n-p,s-a),t.lineTo(n+p,s+a),t.moveTo(n+g,s-o),t.lineTo(n-g,s+o);break;case"line":o=r?r/2:Math.cos(S)*k,a=Math.sin(S)*k,t.moveTo(n-o,s-a),t.lineTo(n+o,s+a);break;case"dash":t.moveTo(n,s),t.lineTo(n+Math.cos(S)*(r?r/2:k),s+Math.sin(S)*k);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function Ca(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function hu(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function fu(t){t.restore()}function VD(t,e,n,s,r){if(!e)return t.lineTo(n.x,n.y);if(r==="middle"){const i=(e.x+n.x)/2;t.lineTo(i,e.y),t.lineTo(i,n.y)}else r==="after"!=!!s?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function GD(t,e,n,s){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(s?e.cp1x:e.cp2x,s?e.cp1y:e.cp2y,s?n.cp2x:n.cp1x,s?n.cp2y:n.cp1y,n.x,n.y)}function qD(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),De(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function KD(t,e,n,s,r){if(r.strikethrough||r.underline){const i=t.measureText(s),o=e-i.actualBoundingBoxLeft,a=e+i.actualBoundingBoxRight,l=n-i.actualBoundingBoxAscent,u=n+i.actualBoundingBoxDescent,d=r.strikethrough?(l+u)/2:u;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=r.decorationWidth||2,t.moveTo(o,d),t.lineTo(a,d),t.stroke()}}function JD(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function Ea(t,e,n,s,r,i={}){const o=et(e)?e:[e],a=i.strokeWidth>0&&i.strokeColor!=="";let l,u;for(t.save(),t.font=r.string,qD(t,i),l=0;l<o.length;++l)u=o[l],i.backdrop&&JD(t,i.backdrop),a&&(i.strokeColor&&(t.strokeStyle=i.strokeColor),De(i.strokeWidth)||(t.lineWidth=i.strokeWidth),t.strokeText(u,n,s,i.maxWidth)),t.fillText(u,n,s,i.maxWidth),KD(t,n,s,u,i),s+=Number(r.lineHeight);t.restore()}function Lc(t,e){const{x:n,y:s,w:r,h:i,radius:o}=e;t.arc(n+o.topLeft,s+o.topLeft,o.topLeft,1.5*Ke,Ke,!0),t.lineTo(n,s+i-o.bottomLeft),t.arc(n+o.bottomLeft,s+i-o.bottomLeft,o.bottomLeft,Ke,lt,!0),t.lineTo(n+r-o.bottomRight,s+i),t.arc(n+r-o.bottomRight,s+i-o.bottomRight,o.bottomRight,lt,0,!0),t.lineTo(n+r,s+o.topRight),t.arc(n+r-o.topRight,s+o.topRight,o.topRight,0,-lt,!0),t.lineTo(n+o.topLeft,s)}const XD=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,QD=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function ZD(t,e){const n=(""+t).match(XD);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const eN=t=>+t||0;function ap(t,e){const n={},s=we(e),r=s?Object.keys(e):e,i=we(t)?s?o=>xe(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of r)n[o]=eN(i(o));return n}function h_(t){return ap(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Ti(t){return ap(t,["topLeft","topRight","bottomLeft","bottomRight"])}function cn(t){const e=h_(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function wt(t,e){t=t||{},e=e||Qe.font;let n=xe(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let s=xe(t.style,e.style);s&&!(""+s).match(QD)&&(console.warn('Invalid font style specified: "'+s+'"'),s=void 0);const r={family:xe(t.family,e.family),lineHeight:ZD(xe(t.lineHeight,e.lineHeight),n),size:n,style:s,weight:xe(t.weight,e.weight),string:""};return r.string=YD(r),r}function Al(t,e,n,s){let r,i,o;for(r=0,i=t.length;r<i;++r)if(o=t[r],o!==void 0&&o!==void 0)return o}function tN(t,e,n){const{min:s,max:r}=t,i=n_(e,(r-s)/2),o=(a,l)=>n&&a===0?0:a+l;return{min:o(s,-Math.abs(i)),max:o(r,i)}}function Jr(t,e){return Object.assign(Object.create(t),e)}function lp(t,e=[""],n,s,r=()=>t[0]){const i=n||t;typeof s>"u"&&(s=g_("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:i,_fallback:s,_getTarget:r,override:a=>lp([a,...t],e,i,s)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete t[0][l],!0},get(a,l){return p_(a,l,()=>cN(l,e,t,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(a,l){return qg(a).includes(l)},ownKeys(a){return qg(a)},set(a,l,u){const d=a._storage||(a._storage=r());return a[l]=d[l]=u,delete a._keys,!0}})}function Wi(t,e,n,s){const r={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:f_(t,s),setContext:i=>Wi(t,i,n,s),override:i=>Wi(t.override(i),e,n,s)};return new Proxy(r,{deleteProperty(i,o){return delete i[o],delete t[o],!0},get(i,o,a){return p_(i,o,()=>sN(i,o,a))},getOwnPropertyDescriptor(i,o){return i._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(i,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(i,o,a){return t[o]=a,delete i[o],!0}})}function f_(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:s=e.indexable,_allKeys:r=e.allKeys}=t;return{allKeys:r,scriptable:n,indexable:s,isScriptable:tr(n)?n:()=>n,isIndexable:tr(s)?s:()=>s}}const nN=(t,e)=>t?t+np(e):e,cp=(t,e)=>we(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function p_(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const s=n();return t[e]=s,s}function sN(t,e,n){const{_proxy:s,_context:r,_subProxy:i,_descriptors:o}=t;let a=s[e];return tr(a)&&o.isScriptable(e)&&(a=rN(e,a,t,n)),et(a)&&a.length&&(a=iN(e,a,t,o.isIndexable)),cp(e,a)&&(a=Wi(a,r,i&&i[e],o)),a}function rN(t,e,n,s){const{_proxy:r,_context:i,_subProxy:o,_stack:a}=n;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let l=e(i,o||s);return a.delete(t),cp(t,l)&&(l=up(r._scopes,r,t,l)),l}function iN(t,e,n,s){const{_proxy:r,_context:i,_subProxy:o,_descriptors:a}=n;if(typeof i.index<"u"&&s(t))return e[i.index%e.length];if(we(e[0])){const l=e,u=r._scopes.filter(d=>d!==l);e=[];for(const d of l){const p=up(u,r,t,d);e.push(Wi(p,i,o&&o[t],a))}}return e}function m_(t,e,n){return tr(t)?t(e,n):t}const oN=(t,e)=>t===!0?e:typeof t=="string"?Ur(e,t):void 0;function aN(t,e,n,s,r){for(const i of e){const o=oN(n,i);if(o){t.add(o);const a=m_(o._fallback,n,r);if(typeof a<"u"&&a!==n&&a!==s)return a}else if(o===!1&&typeof s<"u"&&n!==s)return null}return!1}function up(t,e,n,s){const r=e._rootScopes,i=m_(e._fallback,n,s),o=[...t,...r],a=new Set;a.add(s);let l=Gg(a,o,n,i||n,s);return l===null||typeof i<"u"&&i!==n&&(l=Gg(a,o,i,l,s),l===null)?!1:lp(Array.from(a),[""],r,i,()=>lN(e,n,s))}function Gg(t,e,n,s,r){for(;n;)n=aN(t,e,n,s,r);return n}function lN(t,e,n){const s=t._getTarget();e in s||(s[e]={});const r=s[e];return et(r)&&we(n)?n:r||{}}function cN(t,e,n,s){let r;for(const i of e)if(r=g_(nN(i,t),n),typeof r<"u")return cp(t,r)?up(n,s,t,r):r}function g_(t,e){for(const n of e){if(!n)continue;const s=n[t];if(typeof s<"u")return s}}function qg(t){let e=t._keys;return e||(e=t._keys=uN(t._scopes)),e}function uN(t){const e=new Set;for(const n of t)for(const s of Object.keys(n).filter(r=>!r.startsWith("_")))e.add(s);return Array.from(e)}const dN=Number.EPSILON||1e-14,Hi=(t,e)=>e<t.length&&!t[e].skip&&t[e],y_=t=>t==="x"?"y":"x";function hN(t,e,n,s){const r=t.skip?e:t,i=e,o=n.skip?e:n,a=$h(i,r),l=$h(o,i);let u=a/(a+l),d=l/(a+l);u=isNaN(u)?0:u,d=isNaN(d)?0:d;const p=s*u,g=s*d;return{previous:{x:i.x-p*(o.x-r.x),y:i.y-p*(o.y-r.y)},next:{x:i.x+g*(o.x-r.x),y:i.y+g*(o.y-r.y)}}}function fN(t,e,n){const s=t.length;let r,i,o,a,l,u=Hi(t,0);for(let d=0;d<s-1;++d)if(l=u,u=Hi(t,d+1),!(!l||!u)){if(Jo(e[d],0,dN)){n[d]=n[d+1]=0;continue}r=n[d]/e[d],i=n[d+1]/e[d],a=Math.pow(r,2)+Math.pow(i,2),!(a<=9)&&(o=3/Math.sqrt(a),n[d]=r*o*e[d],n[d+1]=i*o*e[d])}}function pN(t,e,n="x"){const s=y_(n),r=t.length;let i,o,a,l=Hi(t,0);for(let u=0;u<r;++u){if(o=a,a=l,l=Hi(t,u+1),!a)continue;const d=a[n],p=a[s];o&&(i=(d-o[n])/3,a[`cp1${n}`]=d-i,a[`cp1${s}`]=p-i*e[u]),l&&(i=(l[n]-d)/3,a[`cp2${n}`]=d+i,a[`cp2${s}`]=p+i*e[u])}}function mN(t,e="x"){const n=y_(e),s=t.length,r=Array(s).fill(0),i=Array(s);let o,a,l,u=Hi(t,0);for(o=0;o<s;++o)if(a=l,l=u,u=Hi(t,o+1),!!l){if(u){const d=u[e]-l[e];r[o]=d!==0?(u[n]-l[n])/d:0}i[o]=a?u?In(r[o-1])!==In(r[o])?0:(r[o-1]+r[o])/2:r[o-1]:r[o]}fN(t,r,i),pN(t,i,e)}function Rl(t,e,n){return Math.max(Math.min(t,n),e)}function gN(t,e){let n,s,r,i,o,a=Ca(t[0],e);for(n=0,s=t.length;n<s;++n)o=i,i=a,a=n<s-1&&Ca(t[n+1],e),i&&(r=t[n],o&&(r.cp1x=Rl(r.cp1x,e.left,e.right),r.cp1y=Rl(r.cp1y,e.top,e.bottom)),a&&(r.cp2x=Rl(r.cp2x,e.left,e.right),r.cp2y=Rl(r.cp2y,e.top,e.bottom)))}function yN(t,e,n,s,r){let i,o,a,l;if(e.spanGaps&&(t=t.filter(u=>!u.skip)),e.cubicInterpolationMode==="monotone")mN(t,r);else{let u=s?t[t.length-1]:t[0];for(i=0,o=t.length;i<o;++i)a=t[i],l=hN(u,a,t[Math.min(i+1,o-(s?0:1))%o],e.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,u=a}e.capBezierPoints&&gN(t,n)}function dp(){return typeof window<"u"&&typeof document<"u"}function hp(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Ic(t,e,n){let s;return typeof t=="string"?(s=parseInt(t,10),t.indexOf("%")!==-1&&(s=s/100*e.parentNode[n])):s=t,s}const pu=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function vN(t,e){return pu(t).getPropertyValue(e)}const xN=["top","right","bottom","left"];function Rr(t,e,n){const s={};n=n?"-"+n:"";for(let r=0;r<4;r++){const i=xN[r];s[i]=parseFloat(t[e+"-"+i+n])||0}return s.width=s.left+s.right,s.height=s.top+s.bottom,s}const _N=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function bN(t,e){const n=t.touches,s=n&&n.length?n[0]:t,{offsetX:r,offsetY:i}=s;let o=!1,a,l;if(_N(r,i,t.target))a=r,l=i;else{const u=e.getBoundingClientRect();a=s.clientX-u.left,l=s.clientY-u.top,o=!0}return{x:a,y:l,box:o}}function kr(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:s}=e,r=pu(n),i=r.boxSizing==="border-box",o=Rr(r,"padding"),a=Rr(r,"border","width"),{x:l,y:u,box:d}=bN(t,n),p=o.left+(d&&a.left),g=o.top+(d&&a.top);let{width:v,height:_}=e;return i&&(v-=o.width+a.width,_-=o.height+a.height),{x:Math.round((l-p)/v*n.width/s),y:Math.round((u-g)/_*n.height/s)}}function wN(t,e,n){let s,r;if(e===void 0||n===void 0){const i=t&&hp(t);if(!i)e=t.clientWidth,n=t.clientHeight;else{const o=i.getBoundingClientRect(),a=pu(i),l=Rr(a,"border","width"),u=Rr(a,"padding");e=o.width-u.width-l.width,n=o.height-u.height-l.height,s=Ic(a.maxWidth,i,"clientWidth"),r=Ic(a.maxHeight,i,"clientHeight")}}return{width:e,height:n,maxWidth:s||Rc,maxHeight:r||Rc}}const Ll=t=>Math.round(t*10)/10;function kN(t,e,n,s){const r=pu(t),i=Rr(r,"margin"),o=Ic(r.maxWidth,t,"clientWidth")||Rc,a=Ic(r.maxHeight,t,"clientHeight")||Rc,l=wN(t,e,n);let{width:u,height:d}=l;if(r.boxSizing==="content-box"){const g=Rr(r,"border","width"),v=Rr(r,"padding");u-=v.width+g.width,d-=v.height+g.height}return u=Math.max(0,u-i.width),d=Math.max(0,s?u/s:d-i.height),u=Ll(Math.min(u,o,l.maxWidth)),d=Ll(Math.min(d,a,l.maxHeight)),u&&!d&&(d=Ll(u/2)),(e!==void 0||n!==void 0)&&s&&l.height&&d>l.height&&(d=l.height,u=Ll(Math.floor(d*s))),{width:u,height:d}}function Kg(t,e,n){const s=e||1,r=Math.floor(t.height*s),i=Math.floor(t.width*s);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const o=t.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==s||o.height!==r||o.width!==i?(t.currentDevicePixelRatio=s,o.height=r,o.width=i,t.ctx.setTransform(s,0,0,s,0,0),!0):!1}const SN=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};dp()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function Jg(t,e){const n=vN(t,e),s=n&&n.match(/^(\d+)(\.\d+)?px$/);return s?+s[1]:void 0}function Sr(t,e,n,s){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function jN(t,e,n,s){return{x:t.x+n*(e.x-t.x),y:s==="middle"?n<.5?t.y:e.y:s==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function CN(t,e,n,s){const r={x:t.cp2x,y:t.cp2y},i={x:e.cp1x,y:e.cp1y},o=Sr(t,r,n),a=Sr(r,i,n),l=Sr(i,e,n),u=Sr(o,a,n),d=Sr(a,l,n);return Sr(u,d,n)}const EN=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,s){return n-s},leftForLtr(n,s){return n-s}}},MN=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function Oi(t,e,n){return t?EN(e,n):MN()}function v_(t,e){let n,s;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,s=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=s)}function x_(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function __(t){return t==="angle"?{between:ja,compare:ED,normalize:On}:{between:is,compare:(e,n)=>e-n,normalize:e=>e}}function Xg({start:t,end:e,count:n,loop:s,style:r}){return{start:t%n,end:e%n,loop:s&&(e-t+1)%n===0,style:r}}function DN(t,e,n){const{property:s,start:r,end:i}=n,{between:o,normalize:a}=__(s),l=e.length;let{start:u,end:d,loop:p}=t,g,v;if(p){for(u+=l,d+=l,g=0,v=l;g<v&&o(a(e[u%l][s]),r,i);++g)u--,d--;u%=l,d%=l}return d<u&&(d+=l),{start:u,end:d,loop:p,style:t.style}}function b_(t,e,n){if(!n)return[t];const{property:s,start:r,end:i}=n,o=e.length,{compare:a,between:l,normalize:u}=__(s),{start:d,end:p,loop:g,style:v}=DN(t,e,n),_=[];let k=!1,S=null,x,w,j;const E=()=>l(r,j,x)&&a(r,j)!==0,M=()=>a(i,x)===0||l(i,j,x),O=()=>k||E(),A=()=>!k||M();for(let T=d,q=d;T<=p;++T)w=e[T%o],!w.skip&&(x=u(w[s]),x!==j&&(k=l(x,r,i),S===null&&O()&&(S=a(x,r)===0?T:q),S!==null&&A()&&(_.push(Xg({start:S,end:T,loop:g,count:o,style:v})),S=null),q=T,j=x));return S!==null&&_.push(Xg({start:S,end:p,loop:g,count:o,style:v})),_}function w_(t,e){const n=[],s=t.segments;for(let r=0;r<s.length;r++){const i=b_(s[r],t.points,e);i.length&&n.push(...i)}return n}function NN(t,e,n,s){let r=0,i=e-1;if(n&&!s)for(;r<e&&!t[r].skip;)r++;for(;r<e&&t[r].skip;)r++;for(r%=e,n&&(i+=r);i>r&&t[i%e].skip;)i--;return i%=e,{start:r,end:i}}function PN(t,e,n,s){const r=t.length,i=[];let o=e,a=t[e],l;for(l=e+1;l<=n;++l){const u=t[l%r];u.skip||u.stop?a.skip||(s=!1,i.push({start:e%r,end:(l-1)%r,loop:s}),e=o=u.stop?l:null):(o=l,a.skip&&(e=l)),a=u}return o!==null&&i.push({start:e%r,end:o%r,loop:s}),i}function TN(t,e){const n=t.points,s=t.options.spanGaps,r=n.length;if(!r)return[];const i=!!t._loop,{start:o,end:a}=NN(n,r,i,s);if(s===!0)return Qg(t,[{start:o,end:a,loop:i}],n,e);const l=a<o?a+r:a,u=!!t._fullLoop&&o===0&&a===r-1;return Qg(t,PN(n,o,l,u),n,e)}function Qg(t,e,n,s){return!s||!s.setContext||!n?e:ON(t,e,n,s)}function ON(t,e,n,s){const r=t._chart.getContext(),i=Zg(t.options),{_datasetIndex:o,options:{spanGaps:a}}=t,l=n.length,u=[];let d=i,p=e[0].start,g=p;function v(_,k,S,x){const w=a?-1:1;if(_!==k){for(_+=l;n[_%l].skip;)_-=w;for(;n[k%l].skip;)k+=w;_%l!==k%l&&(u.push({start:_%l,end:k%l,loop:S,style:x}),d=x,p=k%l)}}for(const _ of e){p=a?p:_.start;let k=n[p%l],S;for(g=p+1;g<=_.end;g++){const x=n[g%l];S=Zg(s.setContext(Jr(r,{type:"segment",p0:k,p1:x,p0DataIndex:(g-1)%l,p1DataIndex:g%l,datasetIndex:o}))),AN(S,d)&&v(p,g-1,_.loop,d),k=x,d=S}p<g-1&&v(p,g-1,_.loop,d)}return u}function Zg(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function AN(t,e){if(!e)return!1;const n=[],s=function(r,i){return ip(i)?(n.includes(i)||n.push(i),n.indexOf(i)):i};return JSON.stringify(t,s)!==JSON.stringify(e,s)}function Il(t,e,n){return t.options.clip?t[n]:e[n]}function RN(t,e){const{xScale:n,yScale:s}=t;return n&&s?{left:Il(n,e,"left"),right:Il(n,e,"right"),top:Il(s,e,"top"),bottom:Il(s,e,"bottom")}:e}function k_(t,e){const n=e._clip;if(n.disabled)return!1;const s=RN(e,t.chartArea);return{left:n.left===!1?0:s.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:s.right+(n.right===!0?0:n.right),top:n.top===!1?0:s.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:s.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class LN{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,s,r){const i=n.listeners[r],o=n.duration;i.forEach(a=>a({chart:e,initial:n.initial,numSteps:o,currentStep:Math.min(s-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=l_.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((s,r)=>{if(!s.running||!s.items.length)return;const i=s.items;let o=i.length-1,a=!1,l;for(;o>=0;--o)l=i[o],l._active?(l._total>s.duration&&(s.duration=l._total),l.tick(e),a=!0):(i[o]=i[i.length-1],i.pop());a&&(r.draw(),this._notify(r,s,e,"progress")),i.length||(s.running=!1,this._notify(r,s,e,"complete"),s.initial=!1),n+=i.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let s=n.get(e);return s||(s={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,s)),s}listen(e,n,s){this._getAnims(e).listeners[n].push(s)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((s,r)=>Math.max(s,r._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const s=n.items;let r=s.length-1;for(;r>=0;--r)s[r].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Jn=new LN;const e0="transparent",IN={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const s=Wg(t||e0),r=s.valid&&Wg(e||e0);return r&&r.valid?r.mix(s,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class FN{constructor(e,n,s,r){const i=n[s];r=Al([e.to,r,i,e.from]);const o=Al([e.from,i,r]);this._active=!0,this._fn=e.fn||IN[e.type||typeof o],this._easing=Xo[e.easing]||Xo.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=s,this._from=o,this._to=r,this._promises=void 0}active(){return this._active}update(e,n,s){if(this._active){this._notify(!1);const r=this._target[this._prop],i=s-this._start,o=this._duration-i;this._start=s,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=i,this._loop=!!e.loop,this._to=Al([e.to,n,r,e.from]),this._from=Al([e.from,r,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,s=this._duration,r=this._prop,i=this._from,o=this._loop,a=this._to;let l;if(this._active=i!==a&&(o||n<s),!this._active){this._target[r]=a,this._notify(!0);return}if(n<0){this._target[r]=i;return}l=n/s%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[r]=this._fn(i,a,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,s)=>{e.push({res:n,rej:s})})}_notify(e){const n=e?"res":"rej",s=this._promises||[];for(let r=0;r<s.length;r++)s[r][n]()}}class S_{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!we(e))return;const n=Object.keys(Qe.animation),s=this._properties;Object.getOwnPropertyNames(e).forEach(r=>{const i=e[r];if(!we(i))return;const o={};for(const a of n)o[a]=i[a];(et(i.properties)&&i.properties||[r]).forEach(a=>{(a===r||!s.has(a))&&s.set(a,o)})})}_animateOptions(e,n){const s=n.options,r=zN(e,s);if(!r)return[];const i=this._createAnimations(r,s);return s.$shared&&$N(e.options.$animations,s).then(()=>{e.options=s},()=>{}),i}_createAnimations(e,n){const s=this._properties,r=[],i=e.$animations||(e.$animations={}),o=Object.keys(n),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const u=o[l];if(u.charAt(0)==="$")continue;if(u==="options"){r.push(...this._animateOptions(e,n));continue}const d=n[u];let p=i[u];const g=s.get(u);if(p)if(g&&p.active()){p.update(g,d,a);continue}else p.cancel();if(!g||!g.duration){e[u]=d;continue}i[u]=p=new FN(g,e,u,d),r.push(p)}return r}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const s=this._createAnimations(e,n);if(s.length)return Jn.add(this._chart,s),!0}}function $N(t,e){const n=[],s=Object.keys(e);for(let r=0;r<s.length;r++){const i=t[s[r]];i&&i.active()&&n.push(i.wait())}return Promise.all(n)}function zN(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function t0(t,e){const n=t&&t.options||{},s=n.reverse,r=n.min===void 0?e:0,i=n.max===void 0?e:0;return{start:s?i:r,end:s?r:i}}function BN(t,e,n){if(n===!1)return!1;const s=t0(t,n),r=t0(e,n);return{top:r.end,right:s.end,bottom:r.start,left:s.start}}function UN(t){let e,n,s,r;return we(t)?(e=t.top,n=t.right,s=t.bottom,r=t.left):e=n=s=r=t,{top:e,right:n,bottom:s,left:r,disabled:t===!1}}function j_(t,e){const n=[],s=t._getSortedDatasetMetas(e);let r,i;for(r=0,i=s.length;r<i;++r)n.push(s[r].index);return n}function n0(t,e,n,s={}){const r=t.keys,i=s.mode==="single";let o,a,l,u;if(e===null)return;let d=!1;for(o=0,a=r.length;o<a;++o){if(l=+r[o],l===n){if(d=!0,s.all)continue;break}u=t.values[l],St(u)&&(i||e===0||In(e)===In(u))&&(e+=u)}return!d&&!s.all?0:e}function WN(t,e){const{iScale:n,vScale:s}=e,r=n.axis==="x"?"x":"y",i=s.axis==="x"?"x":"y",o=Object.keys(t),a=new Array(o.length);let l,u,d;for(l=0,u=o.length;l<u;++l)d=o[l],a[l]={[r]:d,[i]:t[d]};return a}function _d(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function HN(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function YN(t){const{min:e,max:n,minDefined:s,maxDefined:r}=t.getUserBounds();return{min:s?e:Number.NEGATIVE_INFINITY,max:r?n:Number.POSITIVE_INFINITY}}function VN(t,e,n){const s=t[e]||(t[e]={});return s[n]||(s[n]={})}function s0(t,e,n,s){for(const r of e.getMatchingVisibleMetas(s).reverse()){const i=t[r.index];if(n&&i>0||!n&&i<0)return r.index}return null}function r0(t,e){const{chart:n,_cachedMeta:s}=t,r=n._stacks||(n._stacks={}),{iScale:i,vScale:o,index:a}=s,l=i.axis,u=o.axis,d=HN(i,o,s),p=e.length;let g;for(let v=0;v<p;++v){const _=e[v],{[l]:k,[u]:S}=_,x=_._stacks||(_._stacks={});g=x[u]=VN(r,d,k),g[a]=S,g._top=s0(g,o,!0,s.type),g._bottom=s0(g,o,!1,s.type);const w=g._visualValues||(g._visualValues={});w[a]=S}}function bd(t,e){const n=t.scales;return Object.keys(n).filter(s=>n[s].axis===e).shift()}function GN(t,e){return Jr(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function qN(t,e,n){return Jr(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function ko(t,e){const n=t.controller.index,s=t.vScale&&t.vScale.axis;if(s){e=e||t._parsed;for(const r of e){const i=r._stacks;if(!i||i[s]===void 0||i[s][n]===void 0)return;delete i[s][n],i[s]._visualValues!==void 0&&i[s]._visualValues[n]!==void 0&&delete i[s]._visualValues[n]}}}const wd=t=>t==="reset"||t==="none",i0=(t,e)=>e?t:Object.assign({},t),KN=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:j_(n,!0),values:null};class Lr{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=_d(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&ko(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,s=this.getDataset(),r=(p,g,v,_)=>p==="x"?g:p==="r"?_:v,i=n.xAxisID=xe(s.xAxisID,bd(e,"x")),o=n.yAxisID=xe(s.yAxisID,bd(e,"y")),a=n.rAxisID=xe(s.rAxisID,bd(e,"r")),l=n.indexAxis,u=n.iAxisID=r(l,i,o,a),d=n.vAxisID=r(l,o,i,a);n.xScale=this.getScaleForId(i),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(u),n.vScale=this.getScaleForId(d)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&zg(this._data,this),e._stacked&&ko(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),s=this._data;if(we(n)){const r=this._cachedMeta;this._data=WN(n,r)}else if(s!==n){if(s){zg(s,this);const r=this._cachedMeta;ko(r),r._parsed=[]}n&&Object.isExtensible(n)&&PD(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,s=this.getDataset();let r=!1;this._dataCheck();const i=n._stacked;n._stacked=_d(n.vScale,n),n.stack!==s.stack&&(r=!0,ko(n),n.stack=s.stack),this._resyncElements(e),(r||i!==n._stacked)&&(r0(this,n._parsed),n._stacked=_d(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),s=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(s,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:s,_data:r}=this,{iScale:i,_stacked:o}=s,a=i.axis;let l=e===0&&n===r.length?!0:s._sorted,u=e>0&&s._parsed[e-1],d,p,g;if(this._parsing===!1)s._parsed=r,s._sorted=!0,g=r;else{et(r[e])?g=this.parseArrayData(s,r,e,n):we(r[e])?g=this.parseObjectData(s,r,e,n):g=this.parsePrimitiveData(s,r,e,n);const v=()=>p[a]===null||u&&p[a]<u[a];for(d=0;d<n;++d)s._parsed[d+e]=p=g[d],l&&(v()&&(l=!1),u=p);s._sorted=l}o&&r0(this,g)}parsePrimitiveData(e,n,s,r){const{iScale:i,vScale:o}=e,a=i.axis,l=o.axis,u=i.getLabels(),d=i===o,p=new Array(r);let g,v,_;for(g=0,v=r;g<v;++g)_=g+s,p[g]={[a]:d||i.parse(u[_],_),[l]:o.parse(n[_],_)};return p}parseArrayData(e,n,s,r){const{xScale:i,yScale:o}=e,a=new Array(r);let l,u,d,p;for(l=0,u=r;l<u;++l)d=l+s,p=n[d],a[l]={x:i.parse(p[0],d),y:o.parse(p[1],d)};return a}parseObjectData(e,n,s,r){const{xScale:i,yScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,u=new Array(r);let d,p,g,v;for(d=0,p=r;d<p;++d)g=d+s,v=n[g],u[d]={x:i.parse(Ur(v,a),g),y:o.parse(Ur(v,l),g)};return u}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,s){const r=this.chart,i=this._cachedMeta,o=n[e.axis],a={keys:j_(r,!0),values:n._stacks[e.axis]._visualValues};return n0(a,o,i.index,{mode:s})}updateRangeFromParsed(e,n,s,r){const i=s[n.axis];let o=i===null?NaN:i;const a=r&&s._stacks[n.axis];r&&a&&(r.values=a,o=n0(r,i,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,n){const s=this._cachedMeta,r=s._parsed,i=s._sorted&&e===s.iScale,o=r.length,a=this._getOtherScale(e),l=KN(n,s,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:d,max:p}=YN(a);let g,v;function _(){v=r[g];const k=v[a.axis];return!St(v[e.axis])||d>k||p<k}for(g=0;g<o&&!(!_()&&(this.updateRangeFromParsed(u,e,v,l),i));++g);if(i){for(g=o-1;g>=0;--g)if(!_()){this.updateRangeFromParsed(u,e,v,l);break}}return u}getAllParsedValues(e){const n=this._cachedMeta._parsed,s=[];let r,i,o;for(r=0,i=n.length;r<i;++r)o=n[r][e.axis],St(o)&&s.push(o);return s}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,s=n.iScale,r=n.vScale,i=this.getParsed(e);return{label:s?""+s.getLabelForValue(i[s.axis]):"",value:r?""+r.getLabelForValue(i[r.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=UN(xe(this.options.clip,BN(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,s=this._cachedMeta,r=s.data||[],i=n.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||r.length-a,u=this.options.drawActiveElementsOnTop;let d;for(s.dataset&&s.dataset.draw(e,i,a,l),d=a;d<a+l;++d){const p=r[d];p.hidden||(p.active&&u?o.push(p):p.draw(e,i))}for(d=0;d<o.length;++d)o[d].draw(e,i)}getStyle(e,n){const s=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(s):this.resolveDataElementOptions(e||0,s)}getContext(e,n,s){const r=this.getDataset();let i;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];i=o.$context||(o.$context=qN(this.getContext(),e,o)),i.parsed=this.getParsed(e),i.raw=r.data[e],i.index=i.dataIndex=e}else i=this.$context||(this.$context=GN(this.chart.getContext(),this.index)),i.dataset=r,i.index=i.datasetIndex=this.index;return i.active=!!n,i.mode=s,i}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",s){const r=n==="active",i=this._cachedDataOpts,o=e+"-"+n,a=i[o],l=this.enableOptionSharing&&ka(s);if(a)return i0(a,l);const u=this.chart.config,d=u.datasetElementScopeKeys(this._type,e),p=r?[`${e}Hover`,"hover",e,""]:[e,""],g=u.getOptionScopes(this.getDataset(),d),v=Object.keys(Qe.elements[e]),_=()=>this.getContext(s,r,n),k=u.resolveNamedOptions(g,v,_,p);return k.$shared&&(k.$shared=l,i[o]=Object.freeze(i0(k,l))),k}_resolveAnimations(e,n,s){const r=this.chart,i=this._cachedDataOpts,o=`animation-${n}`,a=i[o];if(a)return a;let l;if(r.options.animation!==!1){const d=this.chart.config,p=d.datasetAnimationScopeKeys(this._type,n),g=d.getOptionScopes(this.getDataset(),p);l=d.createResolver(g,this.getContext(e,s,n))}const u=new S_(r,l&&l.animations);return l&&l._cacheable&&(i[o]=Object.freeze(u)),u}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||wd(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const s=this.resolveDataElementOptions(e,n),r=this._sharedOptions,i=this.getSharedOptions(s),o=this.includeOptions(n,i)||i!==r;return this.updateSharedOptions(i,n,s),{sharedOptions:i,includeOptions:o}}updateElement(e,n,s,r){wd(r)?Object.assign(e,s):this._resolveAnimations(n,r).update(e,s)}updateSharedOptions(e,n,s){e&&!wd(n)&&this._resolveAnimations(void 0,n).update(e,s)}_setStyle(e,n,s,r){e.active=r;const i=this.getStyle(n,r);this._resolveAnimations(n,s,r).update(e,{options:!r&&this.getSharedOptions(i)||i})}removeHoverStyle(e,n,s){this._setStyle(e,s,"active",!1)}setHoverStyle(e,n,s){this._setStyle(e,s,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,s=this._cachedMeta.data;for(const[a,l,u]of this._syncList)this[a](l,u);this._syncList=[];const r=s.length,i=n.length,o=Math.min(i,r);o&&this.parse(0,o),i>r?this._insertElements(r,i-r,e):i<r&&this._removeElements(i,r-i)}_insertElements(e,n,s=!0){const r=this._cachedMeta,i=r.data,o=e+n;let a;const l=u=>{for(u.length+=n,a=u.length-1;a>=o;a--)u[a]=u[a-n]};for(l(i),a=e;a<o;++a)i[a]=new this.dataElementType;this._parsing&&l(r._parsed),this.parse(e,n),s&&this.updateElements(i,e,n,"reset")}updateElements(e,n,s,r){}_removeElements(e,n){const s=this._cachedMeta;if(this._parsing){const r=s._parsed.splice(e,n);s._stacked&&ko(s,r)}s.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,s,r]=e;this[n](s,r)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const s=arguments.length-2;s&&this._sync(["_insertElements",e,s])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}re(Lr,"defaults",{}),re(Lr,"datasetElementType",null),re(Lr,"dataElementType",null);function JN(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let s=[];for(let r=0,i=n.length;r<i;r++)s=s.concat(n[r].controller.getAllParsedValues(t));t._cache.$bar=a_(s.sort((r,i)=>r-i))}return t._cache.$bar}function XN(t){const e=t.iScale,n=JN(e,t.type);let s=e._length,r,i,o,a;const l=()=>{o===32767||o===-32768||(ka(a)&&(s=Math.min(s,Math.abs(o-a)||s)),a=o)};for(r=0,i=n.length;r<i;++r)o=e.getPixelForValue(n[r]),l();for(a=void 0,r=0,i=e.ticks.length;r<i;++r)o=e.getPixelForTick(r),l();return s}function QN(t,e,n,s){const r=n.barThickness;let i,o;return De(r)?(i=e.min*n.categoryPercentage,o=n.barPercentage):(i=r*s,o=1),{chunk:i/s,ratio:o,start:e.pixels[t]-i/2}}function ZN(t,e,n,s){const r=e.pixels,i=r[t];let o=t>0?r[t-1]:null,a=t<r.length-1?r[t+1]:null;const l=n.categoryPercentage;o===null&&(o=i-(a===null?e.end-e.start:a-i)),a===null&&(a=i+i-o);const u=i-(i-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/s,ratio:n.barPercentage,start:u}}function eP(t,e,n,s){const r=n.parse(t[0],s),i=n.parse(t[1],s),o=Math.min(r,i),a=Math.max(r,i);let l=o,u=a;Math.abs(o)>Math.abs(a)&&(l=a,u=o),e[n.axis]=u,e._custom={barStart:l,barEnd:u,start:r,end:i,min:o,max:a}}function C_(t,e,n,s){return et(t)?eP(t,e,n,s):e[n.axis]=n.parse(t,s),e}function o0(t,e,n,s){const r=t.iScale,i=t.vScale,o=r.getLabels(),a=r===i,l=[];let u,d,p,g;for(u=n,d=n+s;u<d;++u)g=e[u],p={},p[r.axis]=a||r.parse(o[u],u),l.push(C_(g,p,i,u));return l}function kd(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function tP(t,e,n){return t!==0?In(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function nP(t){let e,n,s,r,i;return t.horizontal?(e=t.base>t.x,n="left",s="right"):(e=t.base<t.y,n="bottom",s="top"),e?(r="end",i="start"):(r="start",i="end"),{start:n,end:s,reverse:e,top:r,bottom:i}}function sP(t,e,n,s){let r=e.borderSkipped;const i={};if(!r){t.borderSkipped=i;return}if(r===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:a,reverse:l,top:u,bottom:d}=nP(t);r==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===s?r=u:(n._bottom||0)===s?r=d:(i[a0(d,o,a,l)]=!0,r=u)),i[a0(r,o,a,l)]=!0,t.borderSkipped=i}function a0(t,e,n,s){return s?(t=rP(t,e,n),t=l0(t,n,e)):t=l0(t,e,n),t}function rP(t,e,n){return t===e?n:t===n?e:t}function l0(t,e,n){return t==="start"?e:t==="end"?n:t}function iP(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class sc extends Lr{parsePrimitiveData(e,n,s,r){return o0(e,n,s,r)}parseArrayData(e,n,s,r){return o0(e,n,s,r)}parseObjectData(e,n,s,r){const{iScale:i,vScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,u=i.axis==="x"?a:l,d=o.axis==="x"?a:l,p=[];let g,v,_,k;for(g=s,v=s+r;g<v;++g)k=n[g],_={},_[i.axis]=i.parse(Ur(k,u),g),p.push(C_(Ur(k,d),_,o,g));return p}updateRangeFromParsed(e,n,s,r){super.updateRangeFromParsed(e,n,s,r);const i=s._custom;i&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,i.min),e.max=Math.max(e.max,i.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:s,vScale:r}=n,i=this.getParsed(e),o=i._custom,a=kd(o)?"["+o.start+", "+o.end+"]":""+r.getLabelForValue(i[r.axis]);return{label:""+s.getLabelForValue(i[s.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,s,r){const i=r==="reset",{index:o,_cachedMeta:{vScale:a}}=this,l=a.getBasePixel(),u=a.isHorizontal(),d=this._getRuler(),{sharedOptions:p,includeOptions:g}=this._getSharedOptions(n,r);for(let v=n;v<n+s;v++){const _=this.getParsed(v),k=i||De(_[a.axis])?{base:l,head:l}:this._calculateBarValuePixels(v),S=this._calculateBarIndexPixels(v,d),x=(_._stacks||{})[a.axis],w={horizontal:u,base:k.base,enableBorderRadius:!x||kd(_._custom)||o===x._top||o===x._bottom,x:u?k.head:S.center,y:u?S.center:k.head,height:u?S.size:Math.abs(k.size),width:u?Math.abs(k.size):S.size};g&&(w.options=p||this.resolveDataElementOptions(v,e[v].active?"active":r));const j=w.options||e[v].options;sP(w,j,x,o),iP(w,j,d.ratio),this.updateElement(e[v],v,w,r)}}_getStacks(e,n){const{iScale:s}=this._cachedMeta,r=s.getMatchingVisibleMetas(this._type).filter(d=>d.controller.options.grouped),i=s.options.stacked,o=[],a=this._cachedMeta.controller.getParsed(n),l=a&&a[s.axis],u=d=>{const p=d._parsed.find(v=>v[s.axis]===l),g=p&&p[d.vScale.axis];if(De(g)||isNaN(g))return!0};for(const d of r)if(!(n!==void 0&&u(d))&&((i===!1||o.indexOf(d.stack)===-1||i===void 0&&d.stack===void 0)&&o.push(d.stack),d.index===e))break;return o.length||o.push(void 0),o}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,n,s){const r=this._getStacks(e,s),i=n!==void 0?r.indexOf(n):-1;return i===-1?r.length-1:i}_getRuler(){const e=this.options,n=this._cachedMeta,s=n.iScale,r=[];let i,o;for(i=0,o=n.data.length;i<o;++i)r.push(s.getPixelForValue(this.getParsed(i)[s.axis],i));const a=e.barThickness;return{min:a||XN(n),pixels:r,start:s._startPixel,end:s._endPixel,stackCount:this._getStackCount(),scale:s,grouped:e.grouped,ratio:a?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:s,index:r},options:{base:i,minBarLength:o}}=this,a=i||0,l=this.getParsed(e),u=l._custom,d=kd(u);let p=l[n.axis],g=0,v=s?this.applyStack(n,l,s):p,_,k;v!==p&&(g=v-p,v=p),d&&(p=u.barStart,v=u.barEnd-u.barStart,p!==0&&In(p)!==In(u.barEnd)&&(g=0),g+=p);const S=!De(i)&&!d?i:g;let x=n.getPixelForValue(S);if(this.chart.getDataVisibility(e)?_=n.getPixelForValue(g+v):_=x,k=_-x,Math.abs(k)<o){k=tP(k,n,a)*o,p===a&&(x-=k/2);const w=n.getPixelForDecimal(0),j=n.getPixelForDecimal(1),E=Math.min(w,j),M=Math.max(w,j);x=Math.max(Math.min(x,M),E),_=x+k,s&&!d&&(l._stacks[n.axis]._visualValues[r]=n.getValueForPixel(_)-n.getValueForPixel(x))}if(x===n.getPixelForValue(a)){const w=In(k)*n.getLineWidthForValue(a)/2;x+=w,k-=w}return{size:k,base:x,head:_,center:_+k/2}}_calculateBarIndexPixels(e,n){const s=n.scale,r=this.options,i=r.skipNull,o=xe(r.maxBarThickness,1/0);let a,l;if(n.grouped){const u=i?this._getStackCount(e):n.stackCount,d=r.barThickness==="flex"?ZN(e,n,r,u):QN(e,n,r,u),p=this._getStackIndex(this.index,this._cachedMeta.stack,i?e:void 0);a=d.start+d.chunk*p+d.chunk/2,l=Math.min(o,d.chunk*d.ratio)}else a=s.getPixelForValue(this.getParsed(e)[s.axis],e),l=Math.min(o,n.min*n.ratio);return{base:a-l/2,head:a+l/2,center:a,size:l}}draw(){const e=this._cachedMeta,n=e.vScale,s=e.data,r=s.length;let i=0;for(;i<r;++i)this.getParsed(i)[n.axis]!==null&&!s[i].hidden&&s[i].draw(this._ctx)}}re(sc,"id","bar"),re(sc,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),re(sc,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function oP(t,e,n){let s=1,r=1,i=0,o=0;if(e<He){const a=t,l=a+e,u=Math.cos(a),d=Math.sin(a),p=Math.cos(l),g=Math.sin(l),v=(j,E,M)=>ja(j,a,l,!0)?1:Math.max(E,E*n,M,M*n),_=(j,E,M)=>ja(j,a,l,!0)?-1:Math.min(E,E*n,M,M*n),k=v(0,u,p),S=v(lt,d,g),x=_(Ke,u,p),w=_(Ke+lt,d,g);s=(k-x)/2,r=(S-w)/2,i=-(k+x)/2,o=-(S+w)/2}return{ratioX:s,ratioY:r,offsetX:i,offsetY:o}}class Si extends Lr{constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const s=this.getDataset().data,r=this._cachedMeta;if(this._parsing===!1)r._parsed=s;else{let i=l=>+s[l];if(we(s[e])){const{key:l="value"}=this._parsing;i=u=>+Ur(s[u],l)}let o,a;for(o=e,a=e+n;o<a;++o)r._parsed[o]=i(o)}}_getRotation(){return rs(this.options.rotation-90)}_getCircumference(){return rs(this.options.circumference)}_getRotationExtents(){let e=He,n=-He;for(let s=0;s<this.chart.data.datasets.length;++s)if(this.chart.isDatasetVisible(s)&&this.chart.getDatasetMeta(s).type===this._type){const r=this.chart.getDatasetMeta(s).controller,i=r._getRotation(),o=r._getCircumference();e=Math.min(e,i),n=Math.max(n,i+o)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:s}=n,r=this._cachedMeta,i=r.data,o=this.getMaxBorderWidth()+this.getMaxOffset(i)+this.options.spacing,a=Math.max((Math.min(s.width,s.height)-o)/2,0),l=Math.min(pD(this.options.cutout,a),1),u=this._getRingWeight(this.index),{circumference:d,rotation:p}=this._getRotationExtents(),{ratioX:g,ratioY:v,offsetX:_,offsetY:k}=oP(p,d,l),S=(s.width-o)/g,x=(s.height-o)/v,w=Math.max(Math.min(S,x)/2,0),j=n_(this.options.radius,w),E=Math.max(j*l,0),M=(j-E)/this._getVisibleDatasetWeightTotal();this.offsetX=_*j,this.offsetY=k*j,r.total=this.calculateTotal(),this.outerRadius=j-M*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-M*u,0),this.updateElements(i,0,i.length,e)}_circumference(e,n){const s=this.options,r=this._cachedMeta,i=this._getCircumference();return n&&s.animation.animateRotate||!this.chart.getDataVisibility(e)||r._parsed[e]===null||r.data[e].hidden?0:this.calculateCircumference(r._parsed[e]*i/He)}updateElements(e,n,s,r){const i=r==="reset",o=this.chart,a=o.chartArea,u=o.options.animation,d=(a.left+a.right)/2,p=(a.top+a.bottom)/2,g=i&&u.animateScale,v=g?0:this.innerRadius,_=g?0:this.outerRadius,{sharedOptions:k,includeOptions:S}=this._getSharedOptions(n,r);let x=this._getRotation(),w;for(w=0;w<n;++w)x+=this._circumference(w,i);for(w=n;w<n+s;++w){const j=this._circumference(w,i),E=e[w],M={x:d+this.offsetX,y:p+this.offsetY,startAngle:x,endAngle:x+j,circumference:j,outerRadius:_,innerRadius:v};S&&(M.options=k||this.resolveDataElementOptions(w,E.active?"active":r)),x+=j,this.updateElement(E,w,M,r)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let s=0,r;for(r=0;r<n.length;r++){const i=e._parsed[r];i!==null&&!isNaN(i)&&this.chart.getDataVisibility(r)&&!n[r].hidden&&(s+=Math.abs(i))}return s}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?He*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,s=this.chart,r=s.data.labels||[],i=op(n._parsed[e],s.options.locale);return{label:r[e]||"",value:i}}getMaxBorderWidth(e){let n=0;const s=this.chart;let r,i,o,a,l;if(!e){for(r=0,i=s.data.datasets.length;r<i;++r)if(s.isDatasetVisible(r)){o=s.getDatasetMeta(r),e=o.data,a=o.controller;break}}if(!e)return 0;for(r=0,i=e.length;r<i;++r)l=a.resolveDataElementOptions(r),l.borderAlign!=="inner"&&(n=Math.max(n,l.borderWidth||0,l.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let s=0,r=e.length;s<r;++s){const i=this.resolveDataElementOptions(s);n=Math.max(n,i.offset||0,i.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let s=0;s<e;++s)this.chart.isDatasetVisible(s)&&(n+=this._getRingWeight(s));return n}_getRingWeight(e){return Math.max(xe(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}re(Si,"id","doughnut"),re(Si,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),re(Si,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),re(Si,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:s,color:r}}=e.legend.options;return n.labels.map((i,o)=>{const l=e.getDatasetMeta(0).controller.getStyle(o);return{text:i,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:r,lineWidth:l.borderWidth,pointStyle:s,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,n,s){s.chart.toggleDataVisibility(n.index),s.chart.update()}}}});class rc extends Lr{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:s,data:r=[],_dataset:i}=n,o=this.chart._animationsDisabled;let{start:a,count:l}=AD(n,r,o);this._drawStart=a,this._drawCount=l,RD(n)&&(a=0,l=r.length),s._chart=this.chart,s._datasetIndex=this.index,s._decimated=!!i._decimated,s.points=r;const u=this.resolveDatasetElementOptions(e);this.options.showLine||(u.borderWidth=0),u.segment=this.options.segment,this.updateElement(s,void 0,{animated:!o,options:u},e),this.updateElements(r,a,l,e)}updateElements(e,n,s,r){const i=r==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:u}=this._cachedMeta,{sharedOptions:d,includeOptions:p}=this._getSharedOptions(n,r),g=o.axis,v=a.axis,{spanGaps:_,segment:k}=this.options,S=Sa(_)?_:Number.POSITIVE_INFINITY,x=this.chart._animationsDisabled||i||r==="none",w=n+s,j=e.length;let E=n>0&&this.getParsed(n-1);for(let M=0;M<j;++M){const O=e[M],A=x?O:{};if(M<n||M>=w){A.skip=!0;continue}const T=this.getParsed(M),q=De(T[v]),z=A[g]=o.getPixelForValue(T[g],M),se=A[v]=i||q?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,T,l):T[v],M);A.skip=isNaN(z)||isNaN(se)||q,A.stop=M>0&&Math.abs(T[g]-E[g])>S,k&&(A.parsed=T,A.raw=u.data[M]),p&&(A.options=d||this.resolveDataElementOptions(M,O.active?"active":r)),x||this.updateElement(O,M,A,r),E=T}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,s=n.options&&n.options.borderWidth||0,r=e.data||[];if(!r.length)return s;const i=r[0].size(this.resolveDataElementOptions(0)),o=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(s,i,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}re(rc,"id","line"),re(rc,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),re(rc,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class Uh extends Si{}re(Uh,"id","pie"),re(Uh,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});function xr(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class fp{constructor(e){re(this,"options");this.options=e||{}}static override(e){Object.assign(fp.prototype,e)}init(){}formats(){return xr()}parse(){return xr()}format(){return xr()}add(){return xr()}diff(){return xr()}startOf(){return xr()}endOf(){return xr()}}var aP={_date:fp};function lP(t,e,n,s){const{controller:r,data:i,_sorted:o}=t,a=r._cachedMeta.iScale,l=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(a&&e===a.axis&&e!=="r"&&o&&i.length){const u=a._reversePixels?DD:Nr;if(s){if(r._sharedOptions){const d=i[0],p=typeof d.getRange=="function"&&d.getRange(e);if(p){const g=u(i,e,n-p),v=u(i,e,n+p);return{lo:g.lo,hi:v.hi}}}}else{const d=u(i,e,n);if(l){const{vScale:p}=r._cachedMeta,{_parsed:g}=t,v=g.slice(0,d.lo+1).reverse().findIndex(k=>!De(k[p.axis]));d.lo-=Math.max(0,v);const _=g.slice(d.hi).findIndex(k=>!De(k[p.axis]));d.hi+=Math.max(0,_)}return d}}return{lo:0,hi:i.length-1}}function mu(t,e,n,s,r){const i=t.getSortedVisibleDatasetMetas(),o=n[e];for(let a=0,l=i.length;a<l;++a){const{index:u,data:d}=i[a],{lo:p,hi:g}=lP(i[a],e,o,r);for(let v=p;v<=g;++v){const _=d[v];_.skip||s(_,u,v)}}}function cP(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(s,r){const i=e?Math.abs(s.x-r.x):0,o=n?Math.abs(s.y-r.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(o,2))}}function Sd(t,e,n,s,r){const i=[];return!r&&!t.isPointInArea(e)||mu(t,n,e,function(a,l,u){!r&&!Ca(a,t.chartArea,0)||a.inRange(e.x,e.y,s)&&i.push({element:a,datasetIndex:l,index:u})},!0),i}function uP(t,e,n,s){let r=[];function i(o,a,l){const{startAngle:u,endAngle:d}=o.getProps(["startAngle","endAngle"],s),{angle:p}=i_(o,{x:e.x,y:e.y});ja(p,u,d)&&r.push({element:o,datasetIndex:a,index:l})}return mu(t,n,e,i),r}function dP(t,e,n,s,r,i){let o=[];const a=cP(n);let l=Number.POSITIVE_INFINITY;function u(d,p,g){const v=d.inRange(e.x,e.y,r);if(s&&!v)return;const _=d.getCenterPoint(r);if(!(!!i||t.isPointInArea(_))&&!v)return;const S=a(e,_);S<l?(o=[{element:d,datasetIndex:p,index:g}],l=S):S===l&&o.push({element:d,datasetIndex:p,index:g})}return mu(t,n,e,u),o}function jd(t,e,n,s,r,i){return!i&&!t.isPointInArea(e)?[]:n==="r"&&!s?uP(t,e,n,r):dP(t,e,n,s,r,i)}function c0(t,e,n,s,r){const i=[],o=n==="x"?"inXRange":"inYRange";let a=!1;return mu(t,n,e,(l,u,d)=>{l[o]&&l[o](e[n],r)&&(i.push({element:l,datasetIndex:u,index:d}),a=a||l.inRange(e.x,e.y,r))}),s&&!a?[]:i}var hP={modes:{index(t,e,n,s){const r=kr(e,t),i=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?Sd(t,r,i,s,o):jd(t,r,i,!1,s,o),l=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(u=>{const d=a[0].index,p=u.data[d];p&&!p.skip&&l.push({element:p,datasetIndex:u.index,index:d})}),l):[]},dataset(t,e,n,s){const r=kr(e,t),i=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?Sd(t,r,i,s,o):jd(t,r,i,!1,s,o);if(a.length>0){const l=a[0].datasetIndex,u=t.getDatasetMeta(l).data;a=[];for(let d=0;d<u.length;++d)a.push({element:u[d],datasetIndex:l,index:d})}return a},point(t,e,n,s){const r=kr(e,t),i=n.axis||"xy",o=n.includeInvisible||!1;return Sd(t,r,i,s,o)},nearest(t,e,n,s){const r=kr(e,t),i=n.axis||"xy",o=n.includeInvisible||!1;return jd(t,r,i,n.intersect,s,o)},x(t,e,n,s){const r=kr(e,t);return c0(t,r,"x",n.intersect,s)},y(t,e,n,s){const r=kr(e,t);return c0(t,r,"y",n.intersect,s)}}};const E_=["left","top","right","bottom"];function So(t,e){return t.filter(n=>n.pos===e)}function u0(t,e){return t.filter(n=>E_.indexOf(n.pos)===-1&&n.box.axis===e)}function jo(t,e){return t.sort((n,s)=>{const r=e?s:n,i=e?n:s;return r.weight===i.weight?r.index-i.index:r.weight-i.weight})}function fP(t){const e=[];let n,s,r,i,o,a;for(n=0,s=(t||[]).length;n<s;++n)r=t[n],{position:i,options:{stack:o,stackWeight:a=1}}=r,e.push({index:n,box:r,pos:i,horizontal:r.isHorizontal(),weight:r.weight,stack:o&&i+o,stackWeight:a});return e}function pP(t){const e={};for(const n of t){const{stack:s,pos:r,stackWeight:i}=n;if(!s||!E_.includes(r))continue;const o=e[s]||(e[s]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=i}return e}function mP(t,e){const n=pP(t),{vBoxMaxWidth:s,hBoxMaxHeight:r}=e;let i,o,a;for(i=0,o=t.length;i<o;++i){a=t[i];const{fullSize:l}=a.box,u=n[a.stack],d=u&&a.stackWeight/u.weight;a.horizontal?(a.width=d?d*s:l&&e.availableWidth,a.height=r):(a.width=s,a.height=d?d*r:l&&e.availableHeight)}return n}function gP(t){const e=fP(t),n=jo(e.filter(u=>u.box.fullSize),!0),s=jo(So(e,"left"),!0),r=jo(So(e,"right")),i=jo(So(e,"top"),!0),o=jo(So(e,"bottom")),a=u0(e,"x"),l=u0(e,"y");return{fullSize:n,leftAndTop:s.concat(i),rightAndBottom:r.concat(l).concat(o).concat(a),chartArea:So(e,"chartArea"),vertical:s.concat(r).concat(l),horizontal:i.concat(o).concat(a)}}function d0(t,e,n,s){return Math.max(t[n],e[n])+Math.max(t[s],e[s])}function M_(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function yP(t,e,n,s){const{pos:r,box:i}=n,o=t.maxPadding;if(!we(r)){n.size&&(t[r]-=n.size);const p=s[n.stack]||{size:0,count:1};p.size=Math.max(p.size,n.horizontal?i.height:i.width),n.size=p.size/p.count,t[r]+=n.size}i.getPadding&&M_(o,i.getPadding());const a=Math.max(0,e.outerWidth-d0(o,t,"left","right")),l=Math.max(0,e.outerHeight-d0(o,t,"top","bottom")),u=a!==t.w,d=l!==t.h;return t.w=a,t.h=l,n.horizontal?{same:u,other:d}:{same:d,other:u}}function vP(t){const e=t.maxPadding;function n(s){const r=Math.max(e[s]-t[s],0);return t[s]+=r,r}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function xP(t,e){const n=e.maxPadding;function s(r){const i={left:0,top:0,right:0,bottom:0};return r.forEach(o=>{i[o]=Math.max(e[o],n[o])}),i}return s(t?["left","right"]:["top","bottom"])}function Ao(t,e,n,s){const r=[];let i,o,a,l,u,d;for(i=0,o=t.length,u=0;i<o;++i){a=t[i],l=a.box,l.update(a.width||e.w,a.height||e.h,xP(a.horizontal,e));const{same:p,other:g}=yP(e,n,a,s);u|=p&&r.length,d=d||g,l.fullSize||r.push(a)}return u&&Ao(r,e,n,s)||d}function Fl(t,e,n,s,r){t.top=n,t.left=e,t.right=e+s,t.bottom=n+r,t.width=s,t.height=r}function h0(t,e,n,s){const r=n.padding;let{x:i,y:o}=e;for(const a of t){const l=a.box,u=s[a.stack]||{placed:0,weight:1},d=a.stackWeight/u.weight||1;if(a.horizontal){const p=e.w*d,g=u.size||l.height;ka(u.start)&&(o=u.start),l.fullSize?Fl(l,r.left,o,n.outerWidth-r.right-r.left,g):Fl(l,e.left+u.placed,o,p,g),u.start=o,u.placed+=p,o=l.bottom}else{const p=e.h*d,g=u.size||l.width;ka(u.start)&&(i=u.start),l.fullSize?Fl(l,i,r.top,g,n.outerHeight-r.bottom-r.top):Fl(l,i,e.top+u.placed,g,p),u.start=i,u.placed+=p,i=l.right}}e.x=i,e.y=o}var rn={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,s){if(!t)return;const r=cn(t.options.layout.padding),i=Math.max(e-r.width,0),o=Math.max(n-r.height,0),a=gP(t.boxes),l=a.vertical,u=a.horizontal;Ne(t.boxes,k=>{typeof k.beforeLayout=="function"&&k.beforeLayout()});const d=l.reduce((k,S)=>S.box.options&&S.box.options.display===!1?k:k+1,0)||1,p=Object.freeze({outerWidth:e,outerHeight:n,padding:r,availableWidth:i,availableHeight:o,vBoxMaxWidth:i/2/d,hBoxMaxHeight:o/2}),g=Object.assign({},r);M_(g,cn(s));const v=Object.assign({maxPadding:g,w:i,h:o,x:r.left,y:r.top},r),_=mP(l.concat(u),p);Ao(a.fullSize,v,p,_),Ao(l,v,p,_),Ao(u,v,p,_)&&Ao(l,v,p,_),vP(v),h0(a.leftAndTop,v,p,_),v.x+=v.w,v.y+=v.h,h0(a.rightAndBottom,v,p,_),t.chartArea={left:v.left,top:v.top,right:v.left+v.w,bottom:v.top+v.h,height:v.h,width:v.w},Ne(a.chartArea,k=>{const S=k.box;Object.assign(S,t.chartArea),S.update(v.w,v.h,{left:0,top:0,right:0,bottom:0})})}};class D_{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,s){}removeEventListener(e,n,s){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,s,r){return n=Math.max(0,n||e.width),s=s||e.height,{width:n,height:Math.max(0,r?Math.floor(n/r):s)}}isAttached(e){return!0}updateConfig(e){}}class _P extends D_{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const ic="$chartjs",bP={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},f0=t=>t===null||t==="";function wP(t,e){const n=t.style,s=t.getAttribute("height"),r=t.getAttribute("width");if(t[ic]={initial:{height:s,width:r,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",f0(r)){const i=Jg(t,"width");i!==void 0&&(t.width=i)}if(f0(s))if(t.style.height==="")t.height=t.width/(e||2);else{const i=Jg(t,"height");i!==void 0&&(t.height=i)}return t}const N_=SN?{passive:!0}:!1;function kP(t,e,n){t&&t.addEventListener(e,n,N_)}function SP(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,N_)}function jP(t,e){const n=bP[t.type]||t.type,{x:s,y:r}=kr(t,e);return{type:n,chart:e,native:t,x:s!==void 0?s:null,y:r!==void 0?r:null}}function Fc(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function CP(t,e,n){const s=t.canvas,r=new MutationObserver(i=>{let o=!1;for(const a of i)o=o||Fc(a.addedNodes,s),o=o&&!Fc(a.removedNodes,s);o&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}function EP(t,e,n){const s=t.canvas,r=new MutationObserver(i=>{let o=!1;for(const a of i)o=o||Fc(a.removedNodes,s),o=o&&!Fc(a.addedNodes,s);o&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}const Ma=new Map;let p0=0;function P_(){const t=window.devicePixelRatio;t!==p0&&(p0=t,Ma.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function MP(t,e){Ma.size||window.addEventListener("resize",P_),Ma.set(t,e)}function DP(t){Ma.delete(t),Ma.size||window.removeEventListener("resize",P_)}function NP(t,e,n){const s=t.canvas,r=s&&hp(s);if(!r)return;const i=c_((a,l)=>{const u=r.clientWidth;n(a,l),u<r.clientWidth&&n()},window),o=new ResizeObserver(a=>{const l=a[0],u=l.contentRect.width,d=l.contentRect.height;u===0&&d===0||i(u,d)});return o.observe(r),MP(t,i),o}function Cd(t,e,n){n&&n.disconnect(),e==="resize"&&DP(t)}function PP(t,e,n){const s=t.canvas,r=c_(i=>{t.ctx!==null&&n(jP(i,t))},t);return kP(s,e,r),r}class TP extends D_{acquireContext(e,n){const s=e&&e.getContext&&e.getContext("2d");return s&&s.canvas===e?(wP(e,n),s):null}releaseContext(e){const n=e.canvas;if(!n[ic])return!1;const s=n[ic].initial;["height","width"].forEach(i=>{const o=s[i];De(o)?n.removeAttribute(i):n.setAttribute(i,o)});const r=s.style||{};return Object.keys(r).forEach(i=>{n.style[i]=r[i]}),n.width=n.width,delete n[ic],!0}addEventListener(e,n,s){this.removeEventListener(e,n);const r=e.$proxies||(e.$proxies={}),o={attach:CP,detach:EP,resize:NP}[n]||PP;r[n]=o(e,n,s)}removeEventListener(e,n){const s=e.$proxies||(e.$proxies={}),r=s[n];if(!r)return;({attach:Cd,detach:Cd,resize:Cd}[n]||SP)(e,n,r),s[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,s,r){return kN(e,n,s,r)}isAttached(e){const n=e&&hp(e);return!!(n&&n.isConnected)}}function OP(t){return!dp()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?_P:TP}class kn{constructor(){re(this,"x");re(this,"y");re(this,"active",!1);re(this,"options");re(this,"$animations")}tooltipPosition(e){const{x:n,y:s}=this.getProps(["x","y"],e);return{x:n,y:s}}hasValue(){return Sa(this.x)&&Sa(this.y)}getProps(e,n){const s=this.$animations;if(!n||!s)return this;const r={};return e.forEach(i=>{r[i]=s[i]&&s[i].active()?s[i]._to:this[i]}),r}}re(kn,"defaults",{}),re(kn,"defaultRoutes");function AP(t,e){const n=t.options.ticks,s=RP(t),r=Math.min(n.maxTicksLimit||s,s),i=n.major.enabled?IP(e):[],o=i.length,a=i[0],l=i[o-1],u=[];if(o>r)return FP(e,u,i,o/r),u;const d=LP(i,e,r);if(o>0){let p,g;const v=o>1?Math.round((l-a)/(o-1)):null;for($l(e,u,d,De(v)?0:a-v,a),p=0,g=o-1;p<g;p++)$l(e,u,d,i[p],i[p+1]);return $l(e,u,d,l,De(v)?e.length:l+v),u}return $l(e,u,d),u}function RP(t){const e=t.options.offset,n=t._tickSize(),s=t._length/n+(e?0:1),r=t._maxLength/n;return Math.floor(Math.min(s,r))}function LP(t,e,n){const s=$P(t),r=e.length/n;if(!s)return Math.max(r,1);const i=wD(s);for(let o=0,a=i.length-1;o<a;o++){const l=i[o];if(l>r)return l}return Math.max(r,1)}function IP(t){const e=[];let n,s;for(n=0,s=t.length;n<s;n++)t[n].major&&e.push(n);return e}function FP(t,e,n,s){let r=0,i=n[0],o;for(s=Math.ceil(s),o=0;o<t.length;o++)o===i&&(e.push(t[o]),r++,i=n[r*s])}function $l(t,e,n,s,r){const i=xe(s,0),o=Math.min(xe(r,t.length),t.length);let a=0,l,u,d;for(n=Math.ceil(n),r&&(l=r-s,n=l/Math.floor(l/n)),d=i;d<0;)a++,d=Math.round(i+a*n);for(u=Math.max(i,0);u<o;u++)u===d&&(e.push(t[u]),a++,d=Math.round(i+a*n))}function $P(t){const e=t.length;let n,s;if(e<2)return!1;for(s=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==s)return!1;return s}const zP=t=>t==="left"?"right":t==="right"?"left":t,m0=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,g0=(t,e)=>Math.min(e||t,t);function y0(t,e){const n=[],s=t.length/e,r=t.length;let i=0;for(;i<r;i+=s)n.push(t[Math.floor(i)]);return n}function BP(t,e,n){const s=t.ticks.length,r=Math.min(e,s-1),i=t._startPixel,o=t._endPixel,a=1e-6;let l=t.getPixelForTick(r),u;if(!(n&&(s===1?u=Math.max(l-i,o-l):e===0?u=(t.getPixelForTick(1)-l)/2:u=(l-t.getPixelForTick(r-1))/2,l+=r<e?u:-u,l<i-a||l>o+a)))return l}function UP(t,e){Ne(t,n=>{const s=n.gc,r=s.length/2;let i;if(r>e){for(i=0;i<r;++i)delete n.data[s[i]];s.splice(0,r)}})}function Co(t){return t.drawTicks?t.tickLength:0}function v0(t,e){if(!t.display)return 0;const n=wt(t.font,e),s=cn(t.padding);return(et(t.text)?t.text.length:1)*n.lineHeight+s.height}function WP(t,e){return Jr(t,{scale:e,type:"scale"})}function HP(t,e,n){return Jr(t,{tick:n,index:e,type:"tick"})}function YP(t,e,n){let s=rp(t);return(n&&e!=="right"||!n&&e==="right")&&(s=zP(s)),s}function VP(t,e,n,s){const{top:r,left:i,bottom:o,right:a,chart:l}=t,{chartArea:u,scales:d}=l;let p=0,g,v,_;const k=o-r,S=a-i;if(t.isHorizontal()){if(v=xt(s,i,a),we(n)){const x=Object.keys(n)[0],w=n[x];_=d[x].getPixelForValue(w)+k-e}else n==="center"?_=(u.bottom+u.top)/2+k-e:_=m0(t,n,e);g=a-i}else{if(we(n)){const x=Object.keys(n)[0],w=n[x];v=d[x].getPixelForValue(w)-S+e}else n==="center"?v=(u.left+u.right)/2-S+e:v=m0(t,n,e);_=xt(s,o,r),p=n==="left"?-lt:lt}return{titleX:v,titleY:_,maxWidth:g,rotation:p}}class Ji extends kn{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:s,_suggestedMax:r}=this;return e=Mn(e,Number.POSITIVE_INFINITY),n=Mn(n,Number.NEGATIVE_INFINITY),s=Mn(s,Number.POSITIVE_INFINITY),r=Mn(r,Number.NEGATIVE_INFINITY),{min:Mn(e,s),max:Mn(n,r),minDefined:St(e),maxDefined:St(n)}}getMinMax(e){let{min:n,max:s,minDefined:r,maxDefined:i}=this.getUserBounds(),o;if(r&&i)return{min:n,max:s};const a=this.getMatchingVisibleMetas();for(let l=0,u=a.length;l<u;++l)o=a[l].controller.getMinMax(this,e),r||(n=Math.min(n,o.min)),i||(s=Math.max(s,o.max));return n=i&&n>s?s:n,s=r&&n>s?n:s,{min:Mn(n,Mn(s,n)),max:Mn(s,Mn(n,s))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){$e(this.options.beforeUpdate,[this])}update(e,n,s){const{beginAtZero:r,grace:i,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=s=Object.assign({left:0,right:0,top:0,bottom:0},s),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+s.left+s.right:this.height+s.top+s.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=tN(this,i,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?y0(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=AP(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,s;this.isHorizontal()?(n=this.left,s=this.right):(n=this.top,s=this.bottom,e=!e),this._startPixel=n,this._endPixel=s,this._reversePixels=e,this._length=s-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){$e(this.options.afterUpdate,[this])}beforeSetDimensions(){$e(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){$e(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),$e(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){$e(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let s,r,i;for(s=0,r=e.length;s<r;s++)i=e[s],i.label=$e(n.callback,[i.value,s,e],this)}afterTickToLabelConversion(){$e(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){$e(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,s=g0(this.ticks.length,e.ticks.maxTicksLimit),r=n.minRotation||0,i=n.maxRotation;let o=r,a,l,u;if(!this._isVisible()||!n.display||r>=i||s<=1||!this.isHorizontal()){this.labelRotation=r;return}const d=this._getLabelSizes(),p=d.widest.width,g=d.highest.height,v=bt(this.chart.width-p,0,this.maxWidth);a=e.offset?this.maxWidth/s:v/(s-1),p+6>a&&(a=v/(s-(e.offset?.5:1)),l=this.maxHeight-Co(e.grid)-n.padding-v0(e.title,this.chart.options.font),u=Math.sqrt(p*p+g*g),o=CD(Math.min(Math.asin(bt((d.highest.height+6)/a,-1,1)),Math.asin(bt(l/u,-1,1))-Math.asin(bt(g/u,-1,1)))),o=Math.max(r,Math.min(i,o))),this.labelRotation=o}afterCalculateLabelRotation(){$e(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){$e(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:s,title:r,grid:i}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=v0(r,n.options.font);if(a?(e.width=this.maxWidth,e.height=Co(i)+l):(e.height=this.maxHeight,e.width=Co(i)+l),s.display&&this.ticks.length){const{first:u,last:d,widest:p,highest:g}=this._getLabelSizes(),v=s.padding*2,_=rs(this.labelRotation),k=Math.cos(_),S=Math.sin(_);if(a){const x=s.mirror?0:S*p.width+k*g.height;e.height=Math.min(this.maxHeight,e.height+x+v)}else{const x=s.mirror?0:k*p.width+S*g.height;e.width=Math.min(this.maxWidth,e.width+x+v)}this._calculatePadding(u,d,S,k)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,s,r){const{ticks:{align:i,padding:o},position:a}=this.options,l=this.labelRotation!==0,u=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const d=this.getPixelForTick(0)-this.left,p=this.right-this.getPixelForTick(this.ticks.length-1);let g=0,v=0;l?u?(g=r*e.width,v=s*n.height):(g=s*e.height,v=r*n.width):i==="start"?v=n.width:i==="end"?g=e.width:i!=="inner"&&(g=e.width/2,v=n.width/2),this.paddingLeft=Math.max((g-d+o)*this.width/(this.width-d),0),this.paddingRight=Math.max((v-p+o)*this.width/(this.width-p),0)}else{let d=n.height/2,p=e.height/2;i==="start"?(d=0,p=e.height):i==="end"&&(d=n.height,p=0),this.paddingTop=d+o,this.paddingBottom=p+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){$e(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,s;for(n=0,s=e.length;n<s;n++)De(e[n].label)&&(e.splice(n,1),s--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let s=this.ticks;n<s.length&&(s=y0(s,n)),this._labelSizes=e=this._computeLabelSizes(s,s.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,s){const{ctx:r,_longestTextCache:i}=this,o=[],a=[],l=Math.floor(n/g0(n,s));let u=0,d=0,p,g,v,_,k,S,x,w,j,E,M;for(p=0;p<n;p+=l){if(_=e[p].label,k=this._resolveTickFontOptions(p),r.font=S=k.string,x=i[S]=i[S]||{data:{},gc:[]},w=k.lineHeight,j=E=0,!De(_)&&!et(_))j=Yg(r,x.data,x.gc,j,_),E=w;else if(et(_))for(g=0,v=_.length;g<v;++g)M=_[g],!De(M)&&!et(M)&&(j=Yg(r,x.data,x.gc,j,M),E+=w);o.push(j),a.push(E),u=Math.max(j,u),d=Math.max(E,d)}UP(i,n);const O=o.indexOf(u),A=a.indexOf(d),T=q=>({width:o[q]||0,height:a[q]||0});return{first:T(0),last:T(n-1),widest:T(O),highest:T(A),widths:o,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return MD(this._alignToPixels?vr(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const s=n[e];return s.$context||(s.$context=HP(this.getContext(),e,s))}return this.$context||(this.$context=WP(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=rs(this.labelRotation),s=Math.abs(Math.cos(n)),r=Math.abs(Math.sin(n)),i=this._getLabelSizes(),o=e.autoSkipPadding||0,a=i?i.widest.width+o:0,l=i?i.highest.height+o:0;return this.isHorizontal()?l*s>a*r?a/s:l/r:l*r<a*s?l/s:a/r}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,s=this.chart,r=this.options,{grid:i,position:o,border:a}=r,l=i.offset,u=this.isHorizontal(),p=this.ticks.length+(l?1:0),g=Co(i),v=[],_=a.setContext(this.getContext()),k=_.display?_.width:0,S=k/2,x=function(fe){return vr(s,fe,k)};let w,j,E,M,O,A,T,q,z,se,ie,me;if(o==="top")w=x(this.bottom),A=this.bottom-g,q=w-S,se=x(e.top)+S,me=e.bottom;else if(o==="bottom")w=x(this.top),se=e.top,me=x(e.bottom)-S,A=w+S,q=this.top+g;else if(o==="left")w=x(this.right),O=this.right-g,T=w-S,z=x(e.left)+S,ie=e.right;else if(o==="right")w=x(this.left),z=e.left,ie=x(e.right)-S,O=w+S,T=this.left+g;else if(n==="x"){if(o==="center")w=x((e.top+e.bottom)/2+.5);else if(we(o)){const fe=Object.keys(o)[0],ye=o[fe];w=x(this.chart.scales[fe].getPixelForValue(ye))}se=e.top,me=e.bottom,A=w+S,q=A+g}else if(n==="y"){if(o==="center")w=x((e.left+e.right)/2);else if(we(o)){const fe=Object.keys(o)[0],ye=o[fe];w=x(this.chart.scales[fe].getPixelForValue(ye))}O=w-S,T=O-g,z=e.left,ie=e.right}const ue=xe(r.ticks.maxTicksLimit,p),he=Math.max(1,Math.ceil(p/ue));for(j=0;j<p;j+=he){const fe=this.getContext(j),ye=i.setContext(fe),G=a.setContext(fe),J=ye.lineWidth,te=ye.color,W=G.dash||[],ae=G.dashOffset,P=ye.tickWidth,Y=ye.tickColor,L=ye.tickBorderDash||[],pe=ye.tickBorderDashOffset;E=BP(this,j,l),E!==void 0&&(M=vr(s,E,J),u?O=T=z=ie=M:A=q=se=me=M,v.push({tx1:O,ty1:A,tx2:T,ty2:q,x1:z,y1:se,x2:ie,y2:me,width:J,color:te,borderDash:W,borderDashOffset:ae,tickWidth:P,tickColor:Y,tickBorderDash:L,tickBorderDashOffset:pe}))}return this._ticksLength=p,this._borderValue=w,v}_computeLabelItems(e){const n=this.axis,s=this.options,{position:r,ticks:i}=s,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:u,padding:d,mirror:p}=i,g=Co(s.grid),v=g+d,_=p?-d:v,k=-rs(this.labelRotation),S=[];let x,w,j,E,M,O,A,T,q,z,se,ie,me="middle";if(r==="top")O=this.bottom-_,A=this._getXAxisLabelAlignment();else if(r==="bottom")O=this.top+_,A=this._getXAxisLabelAlignment();else if(r==="left"){const he=this._getYAxisLabelAlignment(g);A=he.textAlign,M=he.x}else if(r==="right"){const he=this._getYAxisLabelAlignment(g);A=he.textAlign,M=he.x}else if(n==="x"){if(r==="center")O=(e.top+e.bottom)/2+v;else if(we(r)){const he=Object.keys(r)[0],fe=r[he];O=this.chart.scales[he].getPixelForValue(fe)+v}A=this._getXAxisLabelAlignment()}else if(n==="y"){if(r==="center")M=(e.left+e.right)/2-v;else if(we(r)){const he=Object.keys(r)[0],fe=r[he];M=this.chart.scales[he].getPixelForValue(fe)}A=this._getYAxisLabelAlignment(g).textAlign}n==="y"&&(l==="start"?me="top":l==="end"&&(me="bottom"));const ue=this._getLabelSizes();for(x=0,w=a.length;x<w;++x){j=a[x],E=j.label;const he=i.setContext(this.getContext(x));T=this.getPixelForTick(x)+i.labelOffset,q=this._resolveTickFontOptions(x),z=q.lineHeight,se=et(E)?E.length:1;const fe=se/2,ye=he.color,G=he.textStrokeColor,J=he.textStrokeWidth;let te=A;o?(M=T,A==="inner"&&(x===w-1?te=this.options.reverse?"left":"right":x===0?te=this.options.reverse?"right":"left":te="center"),r==="top"?u==="near"||k!==0?ie=-se*z+z/2:u==="center"?ie=-ue.highest.height/2-fe*z+z:ie=-ue.highest.height+z/2:u==="near"||k!==0?ie=z/2:u==="center"?ie=ue.highest.height/2-fe*z:ie=ue.highest.height-se*z,p&&(ie*=-1),k!==0&&!he.showLabelBackdrop&&(M+=z/2*Math.sin(k))):(O=T,ie=(1-se)*z/2);let W;if(he.showLabelBackdrop){const ae=cn(he.backdropPadding),P=ue.heights[x],Y=ue.widths[x];let L=ie-ae.top,pe=0-ae.left;switch(me){case"middle":L-=P/2;break;case"bottom":L-=P;break}switch(A){case"center":pe-=Y/2;break;case"right":pe-=Y;break;case"inner":x===w-1?pe-=Y:x>0&&(pe-=Y/2);break}W={left:pe,top:L,width:Y+ae.width,height:P+ae.height,color:he.backdropColor}}S.push({label:E,font:q,textOffset:ie,options:{rotation:k,color:ye,strokeColor:G,strokeWidth:J,textAlign:te,textBaseline:me,translation:[M,O],backdrop:W}})}return S}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-rs(this.labelRotation))return e==="top"?"left":"right";let r="center";return n.align==="start"?r="left":n.align==="end"?r="right":n.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:s,mirror:r,padding:i}}=this.options,o=this._getLabelSizes(),a=e+i,l=o.widest.width;let u,d;return n==="left"?r?(d=this.right+i,s==="near"?u="left":s==="center"?(u="center",d+=l/2):(u="right",d+=l)):(d=this.right-a,s==="near"?u="right":s==="center"?(u="center",d-=l/2):(u="left",d=this.left)):n==="right"?r?(d=this.left+i,s==="near"?u="right":s==="center"?(u="center",d-=l/2):(u="left",d-=l)):(d=this.left+a,s==="near"?u="left":s==="center"?(u="center",d+=l/2):(u="right",d=this.right)):u="right",{textAlign:u,x:d}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:s,top:r,width:i,height:o}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(s,r,i,o),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const r=this.ticks.findIndex(i=>i.value===e);return r>=0?n.setContext(this.getContext(r)).lineWidth:0}drawGrid(e){const n=this.options.grid,s=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let i,o;const a=(l,u,d)=>{!d.width||!d.color||(s.save(),s.lineWidth=d.width,s.strokeStyle=d.color,s.setLineDash(d.borderDash||[]),s.lineDashOffset=d.borderDashOffset,s.beginPath(),s.moveTo(l.x,l.y),s.lineTo(u.x,u.y),s.stroke(),s.restore())};if(n.display)for(i=0,o=r.length;i<o;++i){const l=r[i];n.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:s,grid:r}}=this,i=s.setContext(this.getContext()),o=s.display?i.width:0;if(!o)return;const a=r.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let u,d,p,g;this.isHorizontal()?(u=vr(e,this.left,o)-o/2,d=vr(e,this.right,a)+a/2,p=g=l):(p=vr(e,this.top,o)-o/2,g=vr(e,this.bottom,a)+a/2,u=d=l),n.save(),n.lineWidth=i.width,n.strokeStyle=i.color,n.beginPath(),n.moveTo(u,p),n.lineTo(d,g),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const s=this.ctx,r=this._computeLabelArea();r&&hu(s,r);const i=this.getLabelItems(e);for(const o of i){const a=o.options,l=o.font,u=o.label,d=o.textOffset;Ea(s,u,0,d,l,a)}r&&fu(s)}drawTitle(){const{ctx:e,options:{position:n,title:s,reverse:r}}=this;if(!s.display)return;const i=wt(s.font),o=cn(s.padding),a=s.align;let l=i.lineHeight/2;n==="bottom"||n==="center"||we(n)?(l+=o.bottom,et(s.text)&&(l+=i.lineHeight*(s.text.length-1))):l+=o.top;const{titleX:u,titleY:d,maxWidth:p,rotation:g}=VP(this,l,n,a);Ea(e,s.text,0,0,i,{color:s.color,maxWidth:p,rotation:g,textAlign:YP(a,n,r),textBaseline:"middle",translation:[u,d]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,s=xe(e.grid&&e.grid.z,-1),r=xe(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Ji.prototype.draw?[{z:n,draw:i=>{this.draw(i)}}]:[{z:s,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:n,draw:i=>{this.drawLabels(i)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),s=this.axis+"AxisID",r=[];let i,o;for(i=0,o=n.length;i<o;++i){const a=n[i];a[s]===this.id&&(!e||a.type===e)&&r.push(a)}return r}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return wt(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class zl{constructor(e,n,s){this.type=e,this.scope=n,this.override=s,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let s;KP(n)&&(s=this.register(n));const r=this.items,i=e.id,o=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+e);return i in r||(r[i]=e,GP(e,o,s),this.override&&Qe.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const n=this.items,s=e.id,r=this.scope;s in n&&delete n[s],r&&s in Qe[r]&&(delete Qe[r][s],this.override&&delete Wr[s])}}function GP(t,e,n){const s=wa(Object.create(null),[n?Qe.get(n):{},Qe.get(e),t.defaults]);Qe.set(e,s),t.defaultRoutes&&qP(e,t.defaultRoutes),t.descriptors&&Qe.describe(e,t.descriptors)}function qP(t,e){Object.keys(e).forEach(n=>{const s=n.split("."),r=s.pop(),i=[t].concat(s).join("."),o=e[n].split("."),a=o.pop(),l=o.join(".");Qe.route(i,r,l,a)})}function KP(t){return"id"in t&&"defaults"in t}class JP{constructor(){this.controllers=new zl(Lr,"datasets",!0),this.elements=new zl(kn,"elements"),this.plugins=new zl(Object,"plugins"),this.scales=new zl(Ji,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,s){[...n].forEach(r=>{const i=s||this._getRegistryForType(r);s||i.isForType(r)||i===this.plugins&&r.id?this._exec(e,i,r):Ne(r,o=>{const a=s||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,n,s){const r=np(e);$e(s["before"+r],[],s),n[e](s),$e(s["after"+r],[],s)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const s=this._typedRegistries[n];if(s.isForType(e))return s}return this.plugins}_get(e,n,s){const r=n.get(e);if(r===void 0)throw new Error('"'+e+'" is not a registered '+s+".");return r}}var Tn=new JP;class XP{constructor(){this._init=[]}notify(e,n,s,r){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const i=r?this._descriptors(e).filter(r):this._descriptors(e),o=this._notify(i,e,n,s);return n==="afterDestroy"&&(this._notify(i,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,n,s,r){r=r||{};for(const i of e){const o=i.plugin,a=o[s],l=[n,r,i.options];if($e(a,l,o)===!1&&r.cancelable)return!1}return!0}invalidate(){De(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const s=e&&e.config,r=xe(s.options&&s.options.plugins,{}),i=QP(s);return r===!1&&!n?[]:eT(e,i,r,n)}_notifyStateChanges(e){const n=this._oldCache||[],s=this._cache,r=(i,o)=>i.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(r(n,s),e,"stop"),this._notify(r(s,n),e,"start")}}function QP(t){const e={},n=[],s=Object.keys(Tn.plugins.items);for(let i=0;i<s.length;i++)n.push(Tn.getPlugin(s[i]));const r=t.plugins||[];for(let i=0;i<r.length;i++){const o=r[i];n.indexOf(o)===-1&&(n.push(o),e[o.id]=!0)}return{plugins:n,localIds:e}}function ZP(t,e){return!e&&t===!1?null:t===!0?{}:t}function eT(t,{plugins:e,localIds:n},s,r){const i=[],o=t.getContext();for(const a of e){const l=a.id,u=ZP(s[l],r);u!==null&&i.push({plugin:a,options:tT(t.config,{plugin:a,local:n[l]},u,o)})}return i}function tT(t,{plugin:e,local:n},s,r){const i=t.pluginScopeKeys(e),o=t.getOptionScopes(s,i);return n&&e.defaults&&o.push(e.defaults),t.createResolver(o,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Wh(t,e){const n=Qe.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function nT(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function sT(t,e){return t===e?"_index_":"_value_"}function x0(t){if(t==="x"||t==="y"||t==="r")return t}function rT(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function Hh(t,...e){if(x0(t))return t;for(const n of e){const s=n.axis||rT(n.position)||t.length>1&&x0(t[0].toLowerCase());if(s)return s}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function _0(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function iT(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(s=>s.xAxisID===t||s.yAxisID===t);if(n.length)return _0(t,"x",n[0])||_0(t,"y",n[0])}return{}}function oT(t,e){const n=Wr[t.type]||{scales:{}},s=e.scales||{},r=Wh(t.type,e),i=Object.create(null);return Object.keys(s).forEach(o=>{const a=s[o];if(!we(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=Hh(o,a,iT(o,t),Qe.scales[a.type]),u=sT(l,r),d=n.scales||{};i[o]=Ko(Object.create(null),[{axis:l},a,d[l],d[u]])}),t.data.datasets.forEach(o=>{const a=o.type||t.type,l=o.indexAxis||Wh(a,e),d=(Wr[a]||{}).scales||{};Object.keys(d).forEach(p=>{const g=nT(p,l),v=o[g+"AxisID"]||g;i[v]=i[v]||Object.create(null),Ko(i[v],[{axis:g},s[v],d[p]])})}),Object.keys(i).forEach(o=>{const a=i[o];Ko(a,[Qe.scales[a.type],Qe.scale])}),i}function T_(t){const e=t.options||(t.options={});e.plugins=xe(e.plugins,{}),e.scales=oT(t,e)}function O_(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function aT(t){return t=t||{},t.data=O_(t.data),T_(t),t}const b0=new Map,A_=new Set;function Bl(t,e){let n=b0.get(t);return n||(n=e(),b0.set(t,n),A_.add(n)),n}const Eo=(t,e,n)=>{const s=Ur(e,n);s!==void 0&&t.add(s)};class lT{constructor(e){this._config=aT(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=O_(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),T_(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Bl(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return Bl(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return Bl(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,s=this.type;return Bl(`${s}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const s=this._scopeCache;let r=s.get(e);return(!r||n)&&(r=new Map,s.set(e,r)),r}getOptionScopes(e,n,s){const{options:r,type:i}=this,o=this._cachedScopes(e,s),a=o.get(n);if(a)return a;const l=new Set;n.forEach(d=>{e&&(l.add(e),d.forEach(p=>Eo(l,e,p))),d.forEach(p=>Eo(l,r,p)),d.forEach(p=>Eo(l,Wr[i]||{},p)),d.forEach(p=>Eo(l,Qe,p)),d.forEach(p=>Eo(l,zh,p))});const u=Array.from(l);return u.length===0&&u.push(Object.create(null)),A_.has(n)&&o.set(n,u),u}chartOptionScopes(){const{options:e,type:n}=this;return[e,Wr[n]||{},Qe.datasets[n]||{},{type:n},Qe,zh]}resolveNamedOptions(e,n,s,r=[""]){const i={$shared:!0},{resolver:o,subPrefixes:a}=w0(this._resolverCache,e,r);let l=o;if(uT(o,n)){i.$shared=!1,s=tr(s)?s():s;const u=this.createResolver(e,s,a);l=Wi(o,s,u)}for(const u of n)i[u]=l[u];return i}createResolver(e,n,s=[""],r){const{resolver:i}=w0(this._resolverCache,e,s);return we(n)?Wi(i,n,void 0,r):i}}function w0(t,e,n){let s=t.get(e);s||(s=new Map,t.set(e,s));const r=n.join();let i=s.get(r);return i||(i={resolver:lp(e,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},s.set(r,i)),i}const cT=t=>we(t)&&Object.getOwnPropertyNames(t).some(e=>tr(t[e]));function uT(t,e){const{isScriptable:n,isIndexable:s}=f_(t);for(const r of e){const i=n(r),o=s(r),a=(o||i)&&t[r];if(i&&(tr(a)||cT(a))||o&&et(a))return!0}return!1}var dT="4.4.9";const hT=["top","bottom","left","right","chartArea"];function k0(t,e){return t==="top"||t==="bottom"||hT.indexOf(t)===-1&&e==="x"}function S0(t,e){return function(n,s){return n[t]===s[t]?n[e]-s[e]:n[t]-s[t]}}function j0(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),$e(n&&n.onComplete,[t],e)}function fT(t){const e=t.chart,n=e.options.animation;$e(n&&n.onProgress,[t],e)}function R_(t){return dp()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const oc={},C0=t=>{const e=R_(t);return Object.values(oc).filter(n=>n.canvas===e).pop()};function pT(t,e,n){const s=Object.keys(t);for(const r of s){const i=+r;if(i>=e){const o=t[r];delete t[r],(n>0||i>e)&&(t[i+n]=o)}}}function mT(t,e,n,s){return!n||t.type==="mouseout"?null:s?e:t}var Ms;let Xi=(Ms=class{static register(...e){Tn.add(...e),E0()}static unregister(...e){Tn.remove(...e),E0()}constructor(e,n){const s=this.config=new lT(n),r=R_(e),i=C0(r);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const o=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||OP(r)),this.platform.updateConfig(s);const a=this.platform.acquireContext(r,o.aspectRatio),l=a&&a.canvas,u=l&&l.height,d=l&&l.width;if(this.id=fD(),this.ctx=a,this.canvas=l,this.width=d,this.height=u,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new XP,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=TD(p=>this.update(p),o.resizeDelay||0),this._dataChanges=[],oc[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}Jn.listen(this,"complete",j0),Jn.listen(this,"progress",fT),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:s,height:r,_aspectRatio:i}=this;return De(e)?n&&i?i:r?s/r:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Tn}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Kg(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Vg(this.canvas,this.ctx),this}stop(){return Jn.stop(this),this}resize(e,n){Jn.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const s=this.options,r=this.canvas,i=s.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(r,e,n,i),a=s.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,Kg(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),$e(s.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};Ne(n,(s,r)=>{s.id=r})}buildOrUpdateScales(){const e=this.options,n=e.scales,s=this.scales,r=Object.keys(s).reduce((o,a)=>(o[a]=!1,o),{});let i=[];n&&(i=i.concat(Object.keys(n).map(o=>{const a=n[o],l=Hh(o,a),u=l==="r",d=l==="x";return{options:a,dposition:u?"chartArea":d?"bottom":"left",dtype:u?"radialLinear":d?"category":"linear"}}))),Ne(i,o=>{const a=o.options,l=a.id,u=Hh(l,a),d=xe(a.type,o.dtype);(a.position===void 0||k0(a.position,u)!==k0(o.dposition))&&(a.position=o.dposition),r[l]=!0;let p=null;if(l in s&&s[l].type===d)p=s[l];else{const g=Tn.getScale(d);p=new g({id:l,type:d,ctx:this.ctx,chart:this}),s[p.id]=p}p.init(a,e)}),Ne(r,(o,a)=>{o||delete s[a]}),Ne(s,o=>{rn.configure(this,o,o.options),rn.addBox(this,o)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,s=e.length;if(e.sort((r,i)=>r.index-i.index),s>n){for(let r=n;r<s;++r)this._destroyDatasetMeta(r);e.splice(n,s-n)}this._sortedMetasets=e.slice(0).sort(S0("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((s,r)=>{n.filter(i=>i===s._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let s,r;for(this._removeUnreferencedMetasets(),s=0,r=n.length;s<r;s++){const i=n[s];let o=this.getDatasetMeta(s);const a=i.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(s),o=this.getDatasetMeta(s)),o.type=a,o.indexAxis=i.indexAxis||Wh(a,this.options),o.order=i.order||0,o.index=s,o.label=""+i.label,o.visible=this.isDatasetVisible(s),o.controller)o.controller.updateIndex(s),o.controller.linkScales();else{const l=Tn.getController(a),{datasetElementType:u,dataElementType:d}=Qe.datasets[a];Object.assign(l,{dataElementType:Tn.getElement(d),datasetElementType:u&&Tn.getElement(u)}),o.controller=new l(this,s),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){Ne(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const s=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!s.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let u=0,d=this.data.datasets.length;u<d;u++){const{controller:p}=this.getDatasetMeta(u),g=!r&&i.indexOf(p)===-1;p.buildOrUpdateElements(g),o=Math.max(+p.getMaxOverflow(),o)}o=this._minPadding=s.layout.autoPadding?o:0,this._updateLayout(o),r||Ne(i,u=>{u.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(S0("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){Ne(this.scales,e=>{rn.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),s=new Set(e.events);(!Lg(n,s)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:s,start:r,count:i}of n){const o=s==="_removeElements"?-i:i;pT(e,r,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,s=i=>new Set(e.filter(o=>o[0]===i).map((o,a)=>a+","+o.splice(1).join(","))),r=s(0);for(let i=1;i<n;i++)if(!Lg(r,s(i)))return;return Array.from(r).map(i=>i.split(",")).map(i=>({method:i[1],start:+i[2],count:+i[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;rn.update(this,this.width,this.height,e);const n=this.chartArea,s=n.width<=0||n.height<=0;this._layers=[],Ne(this.boxes,r=>{s&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,i)=>{r._idx=i}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,s=this.data.datasets.length;n<s;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,s=this.data.datasets.length;n<s;++n)this._updateDataset(n,tr(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const s=this.getDatasetMeta(e),r={meta:s,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(s.controller._update(n),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Jn.has(this)?this.attached&&!Jn.running(this)&&Jn.start(this):(this.draw(),j0({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:s,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(s,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,s=[];let r,i;for(r=0,i=n.length;r<i;++r){const o=n[r];(!e||o.visible)&&s.push(o)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,s={meta:e,index:e.index,cancelable:!0},r=k_(this,e);this.notifyPlugins("beforeDatasetDraw",s)!==!1&&(r&&hu(n,r),e.controller.draw(),r&&fu(n),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(e){return Ca(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,s,r){const i=hP.modes[n];return typeof i=="function"?i(this,e,s,r):[]}getDatasetMeta(e){const n=this.data.datasets[e],s=this._metasets;let r=s.filter(i=>i&&i._dataset===n).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},s.push(r)),r}getContext(){return this.$context||(this.$context=Jr(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const s=this.getDatasetMeta(e);return typeof s.hidden=="boolean"?!s.hidden:!n.hidden}setDatasetVisibility(e,n){const s=this.getDatasetMeta(e);s.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,s){const r=s?"show":"hide",i=this.getDatasetMeta(e),o=i.controller._resolveAnimations(void 0,r);ka(n)?(i.data[n].hidden=!s,this.update()):(this.setDatasetVisibility(e,s),o.update(i,{visible:s}),this.update(a=>a.datasetIndex===e?r:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),Jn.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),Vg(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete oc[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,s=(i,o)=>{n.addEventListener(this,i,o),e[i]=o},r=(i,o,a)=>{i.offsetX=o,i.offsetY=a,this._eventHandler(i)};Ne(this.options.events,i=>s(i,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,s=(l,u)=>{n.addEventListener(this,l,u),e[l]=u},r=(l,u)=>{e[l]&&(n.removeEventListener(this,l,u),delete e[l])},i=(l,u)=>{this.canvas&&this.resize(l,u)};let o;const a=()=>{r("attach",a),this.attached=!0,this.resize(),s("resize",i),s("detach",o)};o=()=>{this.attached=!1,r("resize",i),this._stop(),this._resize(0,0),s("attach",a)},n.isAttached(this.canvas)?a():o()}unbindEvents(){Ne(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},Ne(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,s){const r=s?"set":"remove";let i,o,a,l;for(n==="dataset"&&(i=this.getDatasetMeta(e[0].datasetIndex),i.controller["_"+r+"DatasetHoverStyle"]()),a=0,l=e.length;a<l;++a){o=e[a];const u=o&&this.getDatasetMeta(o.datasetIndex).controller;u&&u[r+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],s=e.map(({datasetIndex:i,index:o})=>{const a=this.getDatasetMeta(i);if(!a)throw new Error("No dataset found at index "+i);return{datasetIndex:i,element:a.data[o],index:o}});!Oc(s,n)&&(this._active=s,this._lastEvent=null,this._updateHoverStyles(s,n))}notifyPlugins(e,n,s){return this._plugins.notify(this,e,n,s)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,s){const r=this.options.hover,i=(l,u)=>l.filter(d=>!u.some(p=>d.datasetIndex===p.datasetIndex&&d.index===p.index)),o=i(n,e),a=s?e:i(e,n);o.length&&this.updateHoverStyle(o,r.mode,!1),a.length&&r.mode&&this.updateHoverStyle(a,r.mode,!0)}_eventHandler(e,n){const s={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},r=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",s,r)===!1)return;const i=this._handleEvent(e,n,s.inChartArea);return s.cancelable=!1,this.notifyPlugins("afterEvent",s,r),(i||s.changed)&&this.render(),this}_handleEvent(e,n,s){const{_active:r=[],options:i}=this,o=n,a=this._getActiveElements(e,r,s,o),l=xD(e),u=mT(e,this._lastEvent,s,l);s&&(this._lastEvent=null,$e(i.onHover,[e,a,this],this),l&&$e(i.onClick,[e,a,this],this));const d=!Oc(a,r);return(d||n)&&(this._active=a,this._updateHoverStyles(a,r,n)),this._lastEvent=u,d}_getActiveElements(e,n,s,r){if(e.type==="mouseout")return[];if(!s)return n;const i=this.options.hover;return this.getElementsAtEventForMode(e,i.mode,i,r)}},re(Ms,"defaults",Qe),re(Ms,"instances",oc),re(Ms,"overrides",Wr),re(Ms,"registry",Tn),re(Ms,"version",dT),re(Ms,"getChart",C0),Ms);function E0(){return Ne(Xi.instances,t=>t._plugins.invalidate())}function gT(t,e,n){const{startAngle:s,pixelMargin:r,x:i,y:o,outerRadius:a,innerRadius:l}=e;let u=r/a;t.beginPath(),t.arc(i,o,a,s-u,n+u),l>r?(u=r/l,t.arc(i,o,l,n+u,s-u,!0)):t.arc(i,o,r,n+lt,s-lt),t.closePath(),t.clip()}function yT(t){return ap(t,["outerStart","outerEnd","innerStart","innerEnd"])}function vT(t,e,n,s){const r=yT(t.options.borderRadius),i=(n-e)/2,o=Math.min(i,s*e/2),a=l=>{const u=(n-Math.min(i,l))*s/2;return bt(l,0,Math.min(i,u))};return{outerStart:a(r.outerStart),outerEnd:a(r.outerEnd),innerStart:bt(r.innerStart,0,o),innerEnd:bt(r.innerEnd,0,o)}}function ui(t,e,n,s){return{x:n+t*Math.cos(e),y:s+t*Math.sin(e)}}function $c(t,e,n,s,r,i){const{x:o,y:a,startAngle:l,pixelMargin:u,innerRadius:d}=e,p=Math.max(e.outerRadius+s+n-u,0),g=d>0?d+s+n+u:0;let v=0;const _=r-l;if(s){const he=d>0?d-s:0,fe=p>0?p-s:0,ye=(he+fe)/2,G=ye!==0?_*ye/(ye+s):_;v=(_-G)/2}const k=Math.max(.001,_*p-n/Ke)/p,S=(_-k)/2,x=l+S+v,w=r-S-v,{outerStart:j,outerEnd:E,innerStart:M,innerEnd:O}=vT(e,g,p,w-x),A=p-j,T=p-E,q=x+j/A,z=w-E/T,se=g+M,ie=g+O,me=x+M/se,ue=w-O/ie;if(t.beginPath(),i){const he=(q+z)/2;if(t.arc(o,a,p,q,he),t.arc(o,a,p,he,z),E>0){const J=ui(T,z,o,a);t.arc(J.x,J.y,E,z,w+lt)}const fe=ui(ie,w,o,a);if(t.lineTo(fe.x,fe.y),O>0){const J=ui(ie,ue,o,a);t.arc(J.x,J.y,O,w+lt,ue+Math.PI)}const ye=(w-O/g+(x+M/g))/2;if(t.arc(o,a,g,w-O/g,ye,!0),t.arc(o,a,g,ye,x+M/g,!0),M>0){const J=ui(se,me,o,a);t.arc(J.x,J.y,M,me+Math.PI,x-lt)}const G=ui(A,x,o,a);if(t.lineTo(G.x,G.y),j>0){const J=ui(A,q,o,a);t.arc(J.x,J.y,j,x-lt,q)}}else{t.moveTo(o,a);const he=Math.cos(q)*p+o,fe=Math.sin(q)*p+a;t.lineTo(he,fe);const ye=Math.cos(z)*p+o,G=Math.sin(z)*p+a;t.lineTo(ye,G)}t.closePath()}function xT(t,e,n,s,r){const{fullCircles:i,startAngle:o,circumference:a}=e;let l=e.endAngle;if(i){$c(t,e,n,s,l,r);for(let u=0;u<i;++u)t.fill();isNaN(a)||(l=o+(a%He||He))}return $c(t,e,n,s,l,r),t.fill(),l}function _T(t,e,n,s,r){const{fullCircles:i,startAngle:o,circumference:a,options:l}=e,{borderWidth:u,borderJoinStyle:d,borderDash:p,borderDashOffset:g}=l,v=l.borderAlign==="inner";if(!u)return;t.setLineDash(p||[]),t.lineDashOffset=g,v?(t.lineWidth=u*2,t.lineJoin=d||"round"):(t.lineWidth=u,t.lineJoin=d||"bevel");let _=e.endAngle;if(i){$c(t,e,n,s,_,r);for(let k=0;k<i;++k)t.stroke();isNaN(a)||(_=o+(a%He||He))}v&&gT(t,e,_),i||($c(t,e,n,s,_,r),t.stroke())}class Pr extends kn{constructor(n){super();re(this,"circumference");re(this,"endAngle");re(this,"fullCircles");re(this,"innerRadius");re(this,"outerRadius");re(this,"pixelMargin");re(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,s,r){const i=this.getProps(["x","y"],r),{angle:o,distance:a}=i_(i,{x:n,y:s}),{startAngle:l,endAngle:u,innerRadius:d,outerRadius:p,circumference:g}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),v=(this.options.spacing+this.options.borderWidth)/2,_=xe(g,u-l),k=ja(o,l,u)&&l!==u,S=_>=He||k,x=is(a,d+v,p+v);return S&&x}getCenterPoint(n){const{x:s,y:r,startAngle:i,endAngle:o,innerRadius:a,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:u,spacing:d}=this.options,p=(i+o)/2,g=(a+l+d+u)/2;return{x:s+Math.cos(p)*g,y:r+Math.sin(p)*g}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:s,circumference:r}=this,i=(s.offset||0)/4,o=(s.spacing||0)/2,a=s.circular;if(this.pixelMargin=s.borderAlign==="inner"?.33:0,this.fullCircles=r>He?Math.floor(r/He):0,r===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const l=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(l)*i,Math.sin(l)*i);const u=1-Math.sin(Math.min(Ke,r||0)),d=i*u;n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,xT(n,this,d,o,a),_T(n,this,d,o,a),n.restore()}}re(Pr,"id","arc"),re(Pr,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),re(Pr,"defaultRoutes",{backgroundColor:"backgroundColor"}),re(Pr,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function L_(t,e,n=e){t.lineCap=xe(n.borderCapStyle,e.borderCapStyle),t.setLineDash(xe(n.borderDash,e.borderDash)),t.lineDashOffset=xe(n.borderDashOffset,e.borderDashOffset),t.lineJoin=xe(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=xe(n.borderWidth,e.borderWidth),t.strokeStyle=xe(n.borderColor,e.borderColor)}function bT(t,e,n){t.lineTo(n.x,n.y)}function wT(t){return t.stepped?VD:t.tension||t.cubicInterpolationMode==="monotone"?GD:bT}function I_(t,e,n={}){const s=t.length,{start:r=0,end:i=s-1}=n,{start:o,end:a}=e,l=Math.max(r,o),u=Math.min(i,a),d=r<o&&i<o||r>a&&i>a;return{count:s,start:l,loop:e.loop,ilen:u<l&&!d?s+u-l:u-l}}function kT(t,e,n,s){const{points:r,options:i}=e,{count:o,start:a,loop:l,ilen:u}=I_(r,n,s),d=wT(i);let{move:p=!0,reverse:g}=s||{},v,_,k;for(v=0;v<=u;++v)_=r[(a+(g?u-v:v))%o],!_.skip&&(p?(t.moveTo(_.x,_.y),p=!1):d(t,k,_,g,i.stepped),k=_);return l&&(_=r[(a+(g?u:0))%o],d(t,k,_,g,i.stepped)),!!l}function ST(t,e,n,s){const r=e.points,{count:i,start:o,ilen:a}=I_(r,n,s),{move:l=!0,reverse:u}=s||{};let d=0,p=0,g,v,_,k,S,x;const w=E=>(o+(u?a-E:E))%i,j=()=>{k!==S&&(t.lineTo(d,S),t.lineTo(d,k),t.lineTo(d,x))};for(l&&(v=r[w(0)],t.moveTo(v.x,v.y)),g=0;g<=a;++g){if(v=r[w(g)],v.skip)continue;const E=v.x,M=v.y,O=E|0;O===_?(M<k?k=M:M>S&&(S=M),d=(p*d+E)/++p):(j(),t.lineTo(E,M),_=O,p=0,k=S=M),x=M}j()}function Yh(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?ST:kT}function jT(t){return t.stepped?jN:t.tension||t.cubicInterpolationMode==="monotone"?CN:Sr}function CT(t,e,n,s){let r=e._path;r||(r=e._path=new Path2D,e.path(r,n,s)&&r.closePath()),L_(t,e.options),t.stroke(r)}function ET(t,e,n,s){const{segments:r,options:i}=e,o=Yh(e);for(const a of r)L_(t,i,a.style),t.beginPath(),o(t,e,a,{start:n,end:n+s-1})&&t.closePath(),t.stroke()}const MT=typeof Path2D=="function";function DT(t,e,n,s){MT&&!e.options.segment?CT(t,e,n,s):ET(t,e,n,s)}class os extends kn{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const s=this.options;if((s.tension||s.cubicInterpolationMode==="monotone")&&!s.stepped&&!this._pointsUpdated){const r=s.spanGaps?this._loop:this._fullLoop;yN(this._points,s,e,r,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=TN(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,s=e.length;return s&&n[e[s-1].end]}interpolate(e,n){const s=this.options,r=e[n],i=this.points,o=w_(this,{property:n,start:r,end:r});if(!o.length)return;const a=[],l=jT(s);let u,d;for(u=0,d=o.length;u<d;++u){const{start:p,end:g}=o[u],v=i[p],_=i[g];if(v===_){a.push(v);continue}const k=Math.abs((r-v[n])/(_[n]-v[n])),S=l(v,_,k,s.stepped);S[n]=e[n],a.push(S)}return a.length===1?a[0]:a}pathSegment(e,n,s){return Yh(this)(e,this,n,s)}path(e,n,s){const r=this.segments,i=Yh(this);let o=this._loop;n=n||0,s=s||this.points.length-n;for(const a of r)o&=i(e,this,a,{start:n,end:n+s-1});return!!o}draw(e,n,s,r){const i=this.options||{};(this.points||[]).length&&i.borderWidth&&(e.save(),DT(e,this,s,r),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}re(os,"id","line"),re(os,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),re(os,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),re(os,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function M0(t,e,n,s){const r=t.options,{[n]:i}=t.getProps([n],s);return Math.abs(e-i)<r.radius+r.hitRadius}class Zo extends kn{constructor(n){super();re(this,"parsed");re(this,"skip");re(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,s,r){const i=this.options,{x:o,y:a}=this.getProps(["x","y"],r);return Math.pow(n-o,2)+Math.pow(s-a,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(n,s){return M0(this,n,"x",s)}inYRange(n,s){return M0(this,n,"y",s)}getCenterPoint(n){const{x:s,y:r}=this.getProps(["x","y"],n);return{x:s,y:r}}size(n){n=n||this.options||{};let s=n.radius||0;s=Math.max(s,s&&n.hoverRadius||0);const r=s&&n.borderWidth||0;return(s+r)*2}draw(n,s){const r=this.options;this.skip||r.radius<.1||!Ca(this,s,this.size(r)/2)||(n.strokeStyle=r.borderColor,n.lineWidth=r.borderWidth,n.fillStyle=r.backgroundColor,Bh(n,r,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}re(Zo,"id","point"),re(Zo,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),re(Zo,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function F_(t,e){const{x:n,y:s,base:r,width:i,height:o}=t.getProps(["x","y","base","width","height"],e);let a,l,u,d,p;return t.horizontal?(p=o/2,a=Math.min(n,r),l=Math.max(n,r),u=s-p,d=s+p):(p=i/2,a=n-p,l=n+p,u=Math.min(s,r),d=Math.max(s,r)),{left:a,top:u,right:l,bottom:d}}function Ws(t,e,n,s){return t?0:bt(e,n,s)}function NT(t,e,n){const s=t.options.borderWidth,r=t.borderSkipped,i=h_(s);return{t:Ws(r.top,i.top,0,n),r:Ws(r.right,i.right,0,e),b:Ws(r.bottom,i.bottom,0,n),l:Ws(r.left,i.left,0,e)}}function PT(t,e,n){const{enableBorderRadius:s}=t.getProps(["enableBorderRadius"]),r=t.options.borderRadius,i=Ti(r),o=Math.min(e,n),a=t.borderSkipped,l=s||we(r);return{topLeft:Ws(!l||a.top||a.left,i.topLeft,0,o),topRight:Ws(!l||a.top||a.right,i.topRight,0,o),bottomLeft:Ws(!l||a.bottom||a.left,i.bottomLeft,0,o),bottomRight:Ws(!l||a.bottom||a.right,i.bottomRight,0,o)}}function TT(t){const e=F_(t),n=e.right-e.left,s=e.bottom-e.top,r=NT(t,n/2,s/2),i=PT(t,n/2,s/2);return{outer:{x:e.left,y:e.top,w:n,h:s,radius:i},inner:{x:e.left+r.l,y:e.top+r.t,w:n-r.l-r.r,h:s-r.t-r.b,radius:{topLeft:Math.max(0,i.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,i.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,i.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,i.bottomRight-Math.max(r.b,r.r))}}}}function Ed(t,e,n,s){const r=e===null,i=n===null,a=t&&!(r&&i)&&F_(t,s);return a&&(r||is(e,a.left,a.right))&&(i||is(n,a.top,a.bottom))}function OT(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function AT(t,e){t.rect(e.x,e.y,e.w,e.h)}function Md(t,e,n={}){const s=t.x!==n.x?-e:0,r=t.y!==n.y?-e:0,i=(t.x+t.w!==n.x+n.w?e:0)-s,o=(t.y+t.h!==n.y+n.h?e:0)-r;return{x:t.x+s,y:t.y+r,w:t.w+i,h:t.h+o,radius:t.radius}}class ea extends kn{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:s,backgroundColor:r}}=this,{inner:i,outer:o}=TT(this),a=OT(o.radius)?Lc:AT;e.save(),(o.w!==i.w||o.h!==i.h)&&(e.beginPath(),a(e,Md(o,n,i)),e.clip(),a(e,Md(i,-n,o)),e.fillStyle=s,e.fill("evenodd")),e.beginPath(),a(e,Md(i,n)),e.fillStyle=r,e.fill(),e.restore()}inRange(e,n,s){return Ed(this,e,n,s)}inXRange(e,n){return Ed(this,e,null,n)}inYRange(e,n){return Ed(this,null,e,n)}getCenterPoint(e){const{x:n,y:s,base:r,horizontal:i}=this.getProps(["x","y","base","horizontal"],e);return{x:i?(n+r)/2:n,y:i?s:(s+r)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}re(ea,"id","bar"),re(ea,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),re(ea,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function RT(t,e,n){const s=t.segments,r=t.points,i=e.points,o=[];for(const a of s){let{start:l,end:u}=a;u=pp(l,u,r);const d=Vh(n,r[l],r[u],a.loop);if(!e.segments){o.push({source:a,target:d,start:r[l],end:r[u]});continue}const p=w_(e,d);for(const g of p){const v=Vh(n,i[g.start],i[g.end],g.loop),_=b_(a,r,v);for(const k of _)o.push({source:k,target:g,start:{[n]:D0(d,v,"start",Math.max)},end:{[n]:D0(d,v,"end",Math.min)}})}}return o}function Vh(t,e,n,s){if(s)return;let r=e[t],i=n[t];return t==="angle"&&(r=On(r),i=On(i)),{property:t,start:r,end:i}}function LT(t,e){const{x:n=null,y:s=null}=t||{},r=e.points,i=[];return e.segments.forEach(({start:o,end:a})=>{a=pp(o,a,r);const l=r[o],u=r[a];s!==null?(i.push({x:l.x,y:s}),i.push({x:u.x,y:s})):n!==null&&(i.push({x:n,y:l.y}),i.push({x:n,y:u.y}))}),i}function pp(t,e,n){for(;e>t;e--){const s=n[e];if(!isNaN(s.x)&&!isNaN(s.y))break}return e}function D0(t,e,n,s){return t&&e?s(t[n],e[n]):t?t[n]:e?e[n]:0}function $_(t,e){let n=[],s=!1;return et(t)?(s=!0,n=t):n=LT(t,e),n.length?new os({points:n,options:{tension:0},_loop:s,_fullLoop:s}):null}function N0(t){return t&&t.fill!==!1}function IT(t,e,n){let r=t[e].fill;const i=[e];let o;if(!n)return r;for(;r!==!1&&i.indexOf(r)===-1;){if(!St(r))return r;if(o=t[r],!o)return!1;if(o.visible)return r;i.push(r),r=o.fill}return!1}function FT(t,e,n){const s=UT(t);if(we(s))return isNaN(s.value)?!1:s;let r=parseFloat(s);return St(r)&&Math.floor(r)===r?$T(s[0],e,r,n):["origin","start","end","stack","shape"].indexOf(s)>=0&&s}function $T(t,e,n,s){return(t==="-"||t==="+")&&(n=e+n),n===e||n<0||n>=s?!1:n}function zT(t,e){let n=null;return t==="start"?n=e.bottom:t==="end"?n=e.top:we(t)?n=e.getPixelForValue(t.value):e.getBasePixel&&(n=e.getBasePixel()),n}function BT(t,e,n){let s;return t==="start"?s=n:t==="end"?s=e.options.reverse?e.min:e.max:we(t)?s=t.value:s=e.getBaseValue(),s}function UT(t){const e=t.options,n=e.fill;let s=xe(n&&n.target,n);return s===void 0&&(s=!!e.backgroundColor),s===!1||s===null?!1:s===!0?"origin":s}function WT(t){const{scale:e,index:n,line:s}=t,r=[],i=s.segments,o=s.points,a=HT(e,n);a.push($_({x:null,y:e.bottom},s));for(let l=0;l<i.length;l++){const u=i[l];for(let d=u.start;d<=u.end;d++)YT(r,o[d],a)}return new os({points:r,options:{}})}function HT(t,e){const n=[],s=t.getMatchingVisibleMetas("line");for(let r=0;r<s.length;r++){const i=s[r];if(i.index===e)break;i.hidden||n.unshift(i.dataset)}return n}function YT(t,e,n){const s=[];for(let r=0;r<n.length;r++){const i=n[r],{first:o,last:a,point:l}=VT(i,e,"x");if(!(!l||o&&a)){if(o)s.unshift(l);else if(t.push(l),!a)break}}t.push(...s)}function VT(t,e,n){const s=t.interpolate(e,n);if(!s)return{};const r=s[n],i=t.segments,o=t.points;let a=!1,l=!1;for(let u=0;u<i.length;u++){const d=i[u],p=o[d.start][n],g=o[d.end][n];if(is(r,p,g)){a=r===p,l=r===g;break}}return{first:a,last:l,point:s}}class z_{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,n,s){const{x:r,y:i,radius:o}=this;return n=n||{start:0,end:He},e.arc(r,i,o,n.end,n.start,!0),!s.bounds}interpolate(e){const{x:n,y:s,radius:r}=this,i=e.angle;return{x:n+Math.cos(i)*r,y:s+Math.sin(i)*r,angle:i}}}function GT(t){const{chart:e,fill:n,line:s}=t;if(St(n))return qT(e,n);if(n==="stack")return WT(t);if(n==="shape")return!0;const r=KT(t);return r instanceof z_?r:$_(r,s)}function qT(t,e){const n=t.getDatasetMeta(e);return n&&t.isDatasetVisible(e)?n.dataset:null}function KT(t){return(t.scale||{}).getPointPositionForValue?XT(t):JT(t)}function JT(t){const{scale:e={},fill:n}=t,s=zT(n,e);if(St(s)){const r=e.isHorizontal();return{x:r?s:null,y:r?null:s}}return null}function XT(t){const{scale:e,fill:n}=t,s=e.options,r=e.getLabels().length,i=s.reverse?e.max:e.min,o=BT(n,e,i),a=[];if(s.grid.circular){const l=e.getPointPositionForValue(0,i);return new z_({x:l.x,y:l.y,radius:e.getDistanceFromCenterForValue(o)})}for(let l=0;l<r;++l)a.push(e.getPointPositionForValue(l,o));return a}function Dd(t,e,n){const s=GT(e),{chart:r,index:i,line:o,scale:a,axis:l}=e,u=o.options,d=u.fill,p=u.backgroundColor,{above:g=p,below:v=p}=d||{},_=r.getDatasetMeta(i),k=k_(r,_);s&&o.points.length&&(hu(t,n),QT(t,{line:o,target:s,above:g,below:v,area:n,scale:a,axis:l,clip:k}),fu(t))}function QT(t,e){const{line:n,target:s,above:r,below:i,area:o,scale:a,clip:l}=e,u=n._loop?"angle":e.axis;t.save(),u==="x"&&i!==r&&(P0(t,s,o.top),T0(t,{line:n,target:s,color:r,scale:a,property:u,clip:l}),t.restore(),t.save(),P0(t,s,o.bottom)),T0(t,{line:n,target:s,color:i,scale:a,property:u,clip:l}),t.restore()}function P0(t,e,n){const{segments:s,points:r}=e;let i=!0,o=!1;t.beginPath();for(const a of s){const{start:l,end:u}=a,d=r[l],p=r[pp(l,u,r)];i?(t.moveTo(d.x,d.y),i=!1):(t.lineTo(d.x,n),t.lineTo(d.x,d.y)),o=!!e.pathSegment(t,a,{move:o}),o?t.closePath():t.lineTo(p.x,n)}t.lineTo(e.first().x,n),t.closePath(),t.clip()}function T0(t,e){const{line:n,target:s,property:r,color:i,scale:o,clip:a}=e,l=RT(n,s,r);for(const{source:u,target:d,start:p,end:g}of l){const{style:{backgroundColor:v=i}={}}=u,_=s!==!0;t.save(),t.fillStyle=v,ZT(t,o,a,_&&Vh(r,p,g)),t.beginPath();const k=!!n.pathSegment(t,u);let S;if(_){k?t.closePath():O0(t,s,g,r);const x=!!s.pathSegment(t,d,{move:k,reverse:!0});S=k&&x,S||O0(t,s,p,r)}t.closePath(),t.fill(S?"evenodd":"nonzero"),t.restore()}}function ZT(t,e,n,s){const r=e.chart.chartArea,{property:i,start:o,end:a}=s||{};if(i==="x"||i==="y"){let l,u,d,p;i==="x"?(l=o,u=r.top,d=a,p=r.bottom):(l=r.left,u=o,d=r.right,p=a),t.beginPath(),n&&(l=Math.max(l,n.left),d=Math.min(d,n.right),u=Math.max(u,n.top),p=Math.min(p,n.bottom)),t.rect(l,u,d-l,p-u),t.clip()}}function O0(t,e,n,s){const r=e.interpolate(n,s);r&&t.lineTo(r.x,r.y)}var B_={id:"filler",afterDatasetsUpdate(t,e,n){const s=(t.data.datasets||[]).length,r=[];let i,o,a,l;for(o=0;o<s;++o)i=t.getDatasetMeta(o),a=i.dataset,l=null,a&&a.options&&a instanceof os&&(l={visible:t.isDatasetVisible(o),index:o,fill:FT(a,o,s),chart:t,axis:i.controller.options.indexAxis,scale:i.vScale,line:a}),i.$filler=l,r.push(l);for(o=0;o<s;++o)l=r[o],!(!l||l.fill===!1)&&(l.fill=IT(r,o,n.propagate))},beforeDraw(t,e,n){const s=n.drawTime==="beforeDraw",r=t.getSortedVisibleDatasetMetas(),i=t.chartArea;for(let o=r.length-1;o>=0;--o){const a=r[o].$filler;a&&(a.line.updateControlPoints(i,a.axis),s&&a.fill&&Dd(t.ctx,a,i))}},beforeDatasetsDraw(t,e,n){if(n.drawTime!=="beforeDatasetsDraw")return;const s=t.getSortedVisibleDatasetMetas();for(let r=s.length-1;r>=0;--r){const i=s[r].$filler;N0(i)&&Dd(t.ctx,i,t.chartArea)}},beforeDatasetDraw(t,e,n){const s=e.meta.$filler;!N0(s)||n.drawTime!=="beforeDatasetDraw"||Dd(t.ctx,s,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const A0=(t,e)=>{let{boxHeight:n=e,boxWidth:s=e}=t;return t.usePointStyle&&(n=Math.min(n,e),s=t.pointStyleWidth||Math.min(s,e)),{boxWidth:s,boxHeight:n,itemHeight:Math.max(e,n)}},eO=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class R0 extends kn{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,s){this.maxWidth=e,this.maxHeight=n,this._margins=s,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=$e(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(s=>e.filter(s,this.chart.data))),e.sort&&(n=n.sort((s,r)=>e.sort(s,r,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const s=e.labels,r=wt(s.font),i=r.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=A0(s,i);let u,d;n.font=r.string,this.isHorizontal()?(u=this.maxWidth,d=this._fitRows(o,i,a,l)+10):(d=this.maxHeight,u=this._fitCols(o,r,a,l)+10),this.width=Math.min(u,e.maxWidth||this.maxWidth),this.height=Math.min(d,e.maxHeight||this.maxHeight)}_fitRows(e,n,s,r){const{ctx:i,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],u=this.lineWidths=[0],d=r+a;let p=e;i.textAlign="left",i.textBaseline="middle";let g=-1,v=-d;return this.legendItems.forEach((_,k)=>{const S=s+n/2+i.measureText(_.text).width;(k===0||u[u.length-1]+S+2*a>o)&&(p+=d,u[u.length-(k>0?0:1)]=0,v+=d,g++),l[k]={left:0,top:v,row:g,width:S,height:r},u[u.length-1]+=S+a}),p}_fitCols(e,n,s,r){const{ctx:i,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],u=this.columnSizes=[],d=o-e;let p=a,g=0,v=0,_=0,k=0;return this.legendItems.forEach((S,x)=>{const{itemWidth:w,itemHeight:j}=tO(s,n,i,S,r);x>0&&v+j+2*a>d&&(p+=g+a,u.push({width:g,height:v}),_+=g+a,k++,g=v=0),l[x]={left:_,top:v,col:k,width:w,height:j},g=Math.max(g,w),v+=j+a}),p+=g,u.push({width:g,height:v}),p}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:s,labels:{padding:r},rtl:i}}=this,o=Oi(i,this.left,this.width);if(this.isHorizontal()){let a=0,l=xt(s,this.left+r,this.right-this.lineWidths[a]);for(const u of n)a!==u.row&&(a=u.row,l=xt(s,this.left+r,this.right-this.lineWidths[a])),u.top+=this.top+e+r,u.left=o.leftForLtr(o.x(l),u.width),l+=u.width+r}else{let a=0,l=xt(s,this.top+e+r,this.bottom-this.columnSizes[a].height);for(const u of n)u.col!==a&&(a=u.col,l=xt(s,this.top+e+r,this.bottom-this.columnSizes[a].height)),u.top=l,u.left+=this.left+r,u.left=o.leftForLtr(o.x(u.left),u.width),l+=u.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;hu(e,this),this._draw(),fu(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:s,ctx:r}=this,{align:i,labels:o}=e,a=Qe.color,l=Oi(e.rtl,this.left,this.width),u=wt(o.font),{padding:d}=o,p=u.size,g=p/2;let v;this.drawTitle(),r.textAlign=l.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=u.string;const{boxWidth:_,boxHeight:k,itemHeight:S}=A0(o,p),x=function(O,A,T){if(isNaN(_)||_<=0||isNaN(k)||k<0)return;r.save();const q=xe(T.lineWidth,1);if(r.fillStyle=xe(T.fillStyle,a),r.lineCap=xe(T.lineCap,"butt"),r.lineDashOffset=xe(T.lineDashOffset,0),r.lineJoin=xe(T.lineJoin,"miter"),r.lineWidth=q,r.strokeStyle=xe(T.strokeStyle,a),r.setLineDash(xe(T.lineDash,[])),o.usePointStyle){const z={radius:k*Math.SQRT2/2,pointStyle:T.pointStyle,rotation:T.rotation,borderWidth:q},se=l.xPlus(O,_/2),ie=A+g;d_(r,z,se,ie,o.pointStyleWidth&&_)}else{const z=A+Math.max((p-k)/2,0),se=l.leftForLtr(O,_),ie=Ti(T.borderRadius);r.beginPath(),Object.values(ie).some(me=>me!==0)?Lc(r,{x:se,y:z,w:_,h:k,radius:ie}):r.rect(se,z,_,k),r.fill(),q!==0&&r.stroke()}r.restore()},w=function(O,A,T){Ea(r,T.text,O,A+S/2,u,{strikethrough:T.hidden,textAlign:l.textAlign(T.textAlign)})},j=this.isHorizontal(),E=this._computeTitleHeight();j?v={x:xt(i,this.left+d,this.right-s[0]),y:this.top+d+E,line:0}:v={x:this.left+d,y:xt(i,this.top+E+d,this.bottom-n[0].height),line:0},v_(this.ctx,e.textDirection);const M=S+d;this.legendItems.forEach((O,A)=>{r.strokeStyle=O.fontColor,r.fillStyle=O.fontColor;const T=r.measureText(O.text).width,q=l.textAlign(O.textAlign||(O.textAlign=o.textAlign)),z=_+g+T;let se=v.x,ie=v.y;l.setWidth(this.width),j?A>0&&se+z+d>this.right&&(ie=v.y+=M,v.line++,se=v.x=xt(i,this.left+d,this.right-s[v.line])):A>0&&ie+M>this.bottom&&(se=v.x=se+n[v.line].width+d,v.line++,ie=v.y=xt(i,this.top+E+d,this.bottom-n[v.line].height));const me=l.x(se);if(x(me,ie,O),se=OD(q,se+_+g,j?se+z:this.right,e.rtl),w(l.x(se),ie,O),j)v.x+=z+d;else if(typeof O.text!="string"){const ue=u.lineHeight;v.y+=U_(O,ue)+d}else v.y+=M}),x_(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,s=wt(n.font),r=cn(n.padding);if(!n.display)return;const i=Oi(e.rtl,this.left,this.width),o=this.ctx,a=n.position,l=s.size/2,u=r.top+l;let d,p=this.left,g=this.width;if(this.isHorizontal())g=Math.max(...this.lineWidths),d=this.top+u,p=xt(e.align,p,this.right-g);else{const _=this.columnSizes.reduce((k,S)=>Math.max(k,S.height),0);d=u+xt(e.align,this.top,this.bottom-_-e.labels.padding-this._computeTitleHeight())}const v=xt(a,p,p+g);o.textAlign=i.textAlign(rp(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=s.string,Ea(o,n.text,v,d,s)}_computeTitleHeight(){const e=this.options.title,n=wt(e.font),s=cn(e.padding);return e.display?n.lineHeight+s.height:0}_getLegendItemAt(e,n){let s,r,i;if(is(e,this.left,this.right)&&is(n,this.top,this.bottom)){for(i=this.legendHitBoxes,s=0;s<i.length;++s)if(r=i[s],is(e,r.left,r.left+r.width)&&is(n,r.top,r.top+r.height))return this.legendItems[s]}return null}handleEvent(e){const n=this.options;if(!rO(e.type,n))return;const s=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const r=this._hoveredItem,i=eO(r,s);r&&!i&&$e(n.onLeave,[e,r,this],this),this._hoveredItem=s,s&&!i&&$e(n.onHover,[e,s,this],this)}else s&&$e(n.onClick,[e,s,this],this)}}function tO(t,e,n,s,r){const i=nO(s,t,e,n),o=sO(r,s,e.lineHeight);return{itemWidth:i,itemHeight:o}}function nO(t,e,n,s){let r=t.text;return r&&typeof r!="string"&&(r=r.reduce((i,o)=>i.length>o.length?i:o)),e+n.size/2+s.measureText(r).width}function sO(t,e,n){let s=t;return typeof e.text!="string"&&(s=U_(e,n)),s}function U_(t,e){const n=t.text?t.text.length:0;return e*n}function rO(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var mp={id:"legend",_element:R0,start(t,e,n){const s=t.legend=new R0({ctx:t.ctx,options:n,chart:t});rn.configure(t,s,n),rn.addBox(t,s)},stop(t){rn.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const s=t.legend;rn.configure(t,s,n),s.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const s=e.datasetIndex,r=n.chart;r.isDatasetVisible(s)?(r.hide(s),e.hidden=!0):(r.show(s),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:s,textAlign:r,color:i,useBorderRadius:o,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map(l=>{const u=l.controller.getStyle(n?0:void 0),d=cn(u.borderWidth);return{text:e[l.index].label,fillStyle:u.backgroundColor,fontColor:i,hidden:!l.visible,lineCap:u.borderCapStyle,lineDash:u.borderDash,lineDashOffset:u.borderDashOffset,lineJoin:u.borderJoinStyle,lineWidth:(d.width+d.height)/4,strokeStyle:u.borderColor,pointStyle:s||u.pointStyle,rotation:u.rotation,textAlign:r||u.textAlign,borderRadius:o&&(a||u.borderRadius),datasetIndex:l.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class W_ extends kn{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const s=this.options;if(this.left=0,this.top=0,!s.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const r=et(s.text)?s.text.length:1;this._padding=cn(s.padding);const i=r*wt(s.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:s,bottom:r,right:i,options:o}=this,a=o.align;let l=0,u,d,p;return this.isHorizontal()?(d=xt(a,s,i),p=n+e,u=i-s):(o.position==="left"?(d=s+e,p=xt(a,r,n),l=Ke*-.5):(d=i-e,p=xt(a,n,r),l=Ke*.5),u=r-n),{titleX:d,titleY:p,maxWidth:u,rotation:l}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const s=wt(n.font),i=s.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:u}=this._drawArgs(i);Ea(e,n.text,0,0,s,{color:n.color,maxWidth:l,rotation:u,textAlign:rp(n.align),textBaseline:"middle",translation:[o,a]})}}function iO(t,e){const n=new W_({ctx:t.ctx,options:e,chart:t});rn.configure(t,n,e),rn.addBox(t,n),t.titleBlock=n}var gp={id:"title",_element:W_,start(t,e,n){iO(t,n)},stop(t){const e=t.titleBlock;rn.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const s=t.titleBlock;rn.configure(t,s,n),s.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Ro={average(t){if(!t.length)return!1;let e,n,s=new Set,r=0,i=0;for(e=0,n=t.length;e<n;++e){const a=t[e].element;if(a&&a.hasValue()){const l=a.tooltipPosition();s.add(l.x),r+=l.y,++i}}return i===0||s.size===0?!1:{x:[...s].reduce((a,l)=>a+l)/s.size,y:r/i}},nearest(t,e){if(!t.length)return!1;let n=e.x,s=e.y,r=Number.POSITIVE_INFINITY,i,o,a;for(i=0,o=t.length;i<o;++i){const l=t[i].element;if(l&&l.hasValue()){const u=l.getCenterPoint(),d=$h(e,u);d<r&&(r=d,a=l)}}if(a){const l=a.tooltipPosition();n=l.x,s=l.y}return{x:n,y:s}}};function Nn(t,e){return e&&(et(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Xn(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function oO(t,e){const{element:n,datasetIndex:s,index:r}=e,i=t.getDatasetMeta(s).controller,{label:o,value:a}=i.getLabelAndValue(r);return{chart:t,label:o,parsed:i.getParsed(r),raw:t.data.datasets[s].data[r],formattedValue:a,dataset:i.getDataset(),dataIndex:r,datasetIndex:s,element:n}}function L0(t,e){const n=t.chart.ctx,{body:s,footer:r,title:i}=t,{boxWidth:o,boxHeight:a}=e,l=wt(e.bodyFont),u=wt(e.titleFont),d=wt(e.footerFont),p=i.length,g=r.length,v=s.length,_=cn(e.padding);let k=_.height,S=0,x=s.reduce((E,M)=>E+M.before.length+M.lines.length+M.after.length,0);if(x+=t.beforeBody.length+t.afterBody.length,p&&(k+=p*u.lineHeight+(p-1)*e.titleSpacing+e.titleMarginBottom),x){const E=e.displayColors?Math.max(a,l.lineHeight):l.lineHeight;k+=v*E+(x-v)*l.lineHeight+(x-1)*e.bodySpacing}g&&(k+=e.footerMarginTop+g*d.lineHeight+(g-1)*e.footerSpacing);let w=0;const j=function(E){S=Math.max(S,n.measureText(E).width+w)};return n.save(),n.font=u.string,Ne(t.title,j),n.font=l.string,Ne(t.beforeBody.concat(t.afterBody),j),w=e.displayColors?o+2+e.boxPadding:0,Ne(s,E=>{Ne(E.before,j),Ne(E.lines,j),Ne(E.after,j)}),w=0,n.font=d.string,Ne(t.footer,j),n.restore(),S+=_.width,{width:S,height:k}}function aO(t,e){const{y:n,height:s}=e;return n<s/2?"top":n>t.height-s/2?"bottom":"center"}function lO(t,e,n,s){const{x:r,width:i}=s,o=n.caretSize+n.caretPadding;if(t==="left"&&r+i+o>e.width||t==="right"&&r-i-o<0)return!0}function cO(t,e,n,s){const{x:r,width:i}=n,{width:o,chartArea:{left:a,right:l}}=t;let u="center";return s==="center"?u=r<=(a+l)/2?"left":"right":r<=i/2?u="left":r>=o-i/2&&(u="right"),lO(u,t,e,n)&&(u="center"),u}function I0(t,e,n){const s=n.yAlign||e.yAlign||aO(t,n);return{xAlign:n.xAlign||e.xAlign||cO(t,e,n,s),yAlign:s}}function uO(t,e){let{x:n,width:s}=t;return e==="right"?n-=s:e==="center"&&(n-=s/2),n}function dO(t,e,n){let{y:s,height:r}=t;return e==="top"?s+=n:e==="bottom"?s-=r+n:s-=r/2,s}function F0(t,e,n,s){const{caretSize:r,caretPadding:i,cornerRadius:o}=t,{xAlign:a,yAlign:l}=n,u=r+i,{topLeft:d,topRight:p,bottomLeft:g,bottomRight:v}=Ti(o);let _=uO(e,a);const k=dO(e,l,u);return l==="center"?a==="left"?_+=u:a==="right"&&(_-=u):a==="left"?_-=Math.max(d,g)+r:a==="right"&&(_+=Math.max(p,v)+r),{x:bt(_,0,s.width-e.width),y:bt(k,0,s.height-e.height)}}function Ul(t,e,n){const s=cn(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-s.right:t.x+s.left}function $0(t){return Nn([],Xn(t))}function hO(t,e,n){return Jr(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function z0(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const H_={beforeTitle:Kn,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,s=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(s>0&&e.dataIndex<s)return n[e.dataIndex]}return""},afterTitle:Kn,beforeBody:Kn,beforeLabel:Kn,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return De(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Kn,afterBody:Kn,beforeFooter:Kn,footer:Kn,afterFooter:Kn};function Rt(t,e,n,s){const r=t[e].call(n,s);return typeof r>"u"?H_[e].call(n,s):r}class Gh extends kn{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,s=this.options.setContext(this.getContext()),r=s.enabled&&n.options.animation&&s.animations,i=new S_(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=hO(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:s}=n,r=Rt(s,"beforeTitle",this,e),i=Rt(s,"title",this,e),o=Rt(s,"afterTitle",this,e);let a=[];return a=Nn(a,Xn(r)),a=Nn(a,Xn(i)),a=Nn(a,Xn(o)),a}getBeforeBody(e,n){return $0(Rt(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:s}=n,r=[];return Ne(e,i=>{const o={before:[],lines:[],after:[]},a=z0(s,i);Nn(o.before,Xn(Rt(a,"beforeLabel",this,i))),Nn(o.lines,Rt(a,"label",this,i)),Nn(o.after,Xn(Rt(a,"afterLabel",this,i))),r.push(o)}),r}getAfterBody(e,n){return $0(Rt(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:s}=n,r=Rt(s,"beforeFooter",this,e),i=Rt(s,"footer",this,e),o=Rt(s,"afterFooter",this,e);let a=[];return a=Nn(a,Xn(r)),a=Nn(a,Xn(i)),a=Nn(a,Xn(o)),a}_createItems(e){const n=this._active,s=this.chart.data,r=[],i=[],o=[];let a=[],l,u;for(l=0,u=n.length;l<u;++l)a.push(oO(this.chart,n[l]));return e.filter&&(a=a.filter((d,p,g)=>e.filter(d,p,g,s))),e.itemSort&&(a=a.sort((d,p)=>e.itemSort(d,p,s))),Ne(a,d=>{const p=z0(e.callbacks,d);r.push(Rt(p,"labelColor",this,d)),i.push(Rt(p,"labelPointStyle",this,d)),o.push(Rt(p,"labelTextColor",this,d))}),this.labelColors=r,this.labelPointStyles=i,this.labelTextColors=o,this.dataPoints=a,a}update(e,n){const s=this.options.setContext(this.getContext()),r=this._active;let i,o=[];if(!r.length)this.opacity!==0&&(i={opacity:0});else{const a=Ro[s.position].call(this,r,this._eventPosition);o=this._createItems(s),this.title=this.getTitle(o,s),this.beforeBody=this.getBeforeBody(o,s),this.body=this.getBody(o,s),this.afterBody=this.getAfterBody(o,s),this.footer=this.getFooter(o,s);const l=this._size=L0(this,s),u=Object.assign({},a,l),d=I0(this.chart,s,u),p=F0(s,u,d,this.chart);this.xAlign=d.xAlign,this.yAlign=d.yAlign,i={opacity:1,x:p.x,y:p.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,i&&this._resolveAnimations().update(this,i),e&&s.external&&s.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,s,r){const i=this.getCaretPosition(e,s,r);n.lineTo(i.x1,i.y1),n.lineTo(i.x2,i.y2),n.lineTo(i.x3,i.y3)}getCaretPosition(e,n,s){const{xAlign:r,yAlign:i}=this,{caretSize:o,cornerRadius:a}=s,{topLeft:l,topRight:u,bottomLeft:d,bottomRight:p}=Ti(a),{x:g,y:v}=e,{width:_,height:k}=n;let S,x,w,j,E,M;return i==="center"?(E=v+k/2,r==="left"?(S=g,x=S-o,j=E+o,M=E-o):(S=g+_,x=S+o,j=E-o,M=E+o),w=S):(r==="left"?x=g+Math.max(l,d)+o:r==="right"?x=g+_-Math.max(u,p)-o:x=this.caretX,i==="top"?(j=v,E=j-o,S=x-o,w=x+o):(j=v+k,E=j+o,S=x+o,w=x-o),M=j),{x1:S,x2:x,x3:w,y1:j,y2:E,y3:M}}drawTitle(e,n,s){const r=this.title,i=r.length;let o,a,l;if(i){const u=Oi(s.rtl,this.x,this.width);for(e.x=Ul(this,s.titleAlign,s),n.textAlign=u.textAlign(s.titleAlign),n.textBaseline="middle",o=wt(s.titleFont),a=s.titleSpacing,n.fillStyle=s.titleColor,n.font=o.string,l=0;l<i;++l)n.fillText(r[l],u.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+a,l+1===i&&(e.y+=s.titleMarginBottom-a)}}_drawColorBox(e,n,s,r,i){const o=this.labelColors[s],a=this.labelPointStyles[s],{boxHeight:l,boxWidth:u}=i,d=wt(i.bodyFont),p=Ul(this,"left",i),g=r.x(p),v=l<d.lineHeight?(d.lineHeight-l)/2:0,_=n.y+v;if(i.usePointStyle){const k={radius:Math.min(u,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},S=r.leftForLtr(g,u)+u/2,x=_+l/2;e.strokeStyle=i.multiKeyBackground,e.fillStyle=i.multiKeyBackground,Bh(e,k,S,x),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,Bh(e,k,S,x)}else{e.lineWidth=we(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const k=r.leftForLtr(g,u),S=r.leftForLtr(r.xPlus(g,1),u-2),x=Ti(o.borderRadius);Object.values(x).some(w=>w!==0)?(e.beginPath(),e.fillStyle=i.multiKeyBackground,Lc(e,{x:k,y:_,w:u,h:l,radius:x}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),Lc(e,{x:S,y:_+1,w:u-2,h:l-2,radius:x}),e.fill()):(e.fillStyle=i.multiKeyBackground,e.fillRect(k,_,u,l),e.strokeRect(k,_,u,l),e.fillStyle=o.backgroundColor,e.fillRect(S,_+1,u-2,l-2))}e.fillStyle=this.labelTextColors[s]}drawBody(e,n,s){const{body:r}=this,{bodySpacing:i,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:u,boxPadding:d}=s,p=wt(s.bodyFont);let g=p.lineHeight,v=0;const _=Oi(s.rtl,this.x,this.width),k=function(T){n.fillText(T,_.x(e.x+v),e.y+g/2),e.y+=g+i},S=_.textAlign(o);let x,w,j,E,M,O,A;for(n.textAlign=o,n.textBaseline="middle",n.font=p.string,e.x=Ul(this,S,s),n.fillStyle=s.bodyColor,Ne(this.beforeBody,k),v=a&&S!=="right"?o==="center"?u/2+d:u+2+d:0,E=0,O=r.length;E<O;++E){for(x=r[E],w=this.labelTextColors[E],n.fillStyle=w,Ne(x.before,k),j=x.lines,a&&j.length&&(this._drawColorBox(n,e,E,_,s),g=Math.max(p.lineHeight,l)),M=0,A=j.length;M<A;++M)k(j[M]),g=p.lineHeight;Ne(x.after,k)}v=0,g=p.lineHeight,Ne(this.afterBody,k),e.y-=i}drawFooter(e,n,s){const r=this.footer,i=r.length;let o,a;if(i){const l=Oi(s.rtl,this.x,this.width);for(e.x=Ul(this,s.footerAlign,s),e.y+=s.footerMarginTop,n.textAlign=l.textAlign(s.footerAlign),n.textBaseline="middle",o=wt(s.footerFont),n.fillStyle=s.footerColor,n.font=o.string,a=0;a<i;++a)n.fillText(r[a],l.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+s.footerSpacing}}drawBackground(e,n,s,r){const{xAlign:i,yAlign:o}=this,{x:a,y:l}=e,{width:u,height:d}=s,{topLeft:p,topRight:g,bottomLeft:v,bottomRight:_}=Ti(r.cornerRadius);n.fillStyle=r.backgroundColor,n.strokeStyle=r.borderColor,n.lineWidth=r.borderWidth,n.beginPath(),n.moveTo(a+p,l),o==="top"&&this.drawCaret(e,n,s,r),n.lineTo(a+u-g,l),n.quadraticCurveTo(a+u,l,a+u,l+g),o==="center"&&i==="right"&&this.drawCaret(e,n,s,r),n.lineTo(a+u,l+d-_),n.quadraticCurveTo(a+u,l+d,a+u-_,l+d),o==="bottom"&&this.drawCaret(e,n,s,r),n.lineTo(a+v,l+d),n.quadraticCurveTo(a,l+d,a,l+d-v),o==="center"&&i==="left"&&this.drawCaret(e,n,s,r),n.lineTo(a,l+p),n.quadraticCurveTo(a,l,a+p,l),n.closePath(),n.fill(),r.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,s=this.$animations,r=s&&s.x,i=s&&s.y;if(r||i){const o=Ro[e.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=L0(this,e),l=Object.assign({},o,this._size),u=I0(n,e,l),d=F0(e,l,u,n);(r._to!==d.x||i._to!==d.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,d))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let s=this.opacity;if(!s)return;this._updateAnimationTarget(n);const r={width:this.width,height:this.height},i={x:this.x,y:this.y};s=Math.abs(s)<.001?0:s;const o=cn(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(e.save(),e.globalAlpha=s,this.drawBackground(i,e,r,n),v_(e,n.textDirection),i.y+=o.top,this.drawTitle(i,e,n),this.drawBody(i,e,n),this.drawFooter(i,e,n),x_(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const s=this._active,r=e.map(({datasetIndex:a,index:l})=>{const u=this.chart.getDatasetMeta(a);if(!u)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:u.data[l],index:l}}),i=!Oc(s,r),o=this._positionChanged(r,n);(i||o)&&(this._active=r,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,s=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,i=this._active||[],o=this._getActiveElements(e,i,n,s),a=this._positionChanged(o,e),l=n||!Oc(o,i)||a;return l&&(this._active=o,(r.enabled||r.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),l}_getActiveElements(e,n,s,r){const i=this.options;if(e.type==="mouseout")return[];if(!r)return n.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,i.mode,i,s);return i.reverse&&o.reverse(),o}_positionChanged(e,n){const{caretX:s,caretY:r,options:i}=this,o=Ro[i.position].call(this,e,n);return o!==!1&&(s!==o.x||r!==o.y)}}re(Gh,"positioners",Ro);var yp={id:"tooltip",_element:Gh,positioners:Ro,afterInit(t,e,n){n&&(t.tooltip=new Gh({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:H_},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const fO=(t,e,n,s)=>(typeof e=="string"?(n=t.push(e)-1,s.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function pO(t,e,n,s){const r=t.indexOf(e);if(r===-1)return fO(t,e,n,s);const i=t.lastIndexOf(e);return r!==i?n:r}const mO=(t,e)=>t===null?null:bt(Math.round(t),0,e);function B0(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class Da extends Ji{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const s=this.getLabels();for(const{index:r,label:i}of n)s[r]===i&&s.splice(r,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(De(e))return null;const s=this.getLabels();return n=isFinite(n)&&s[n]===e?n:pO(s,e,xe(n,e),this._addedLabels),mO(n,s.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:s,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(s=0),n||(r=this.getLabels().length-1)),this.min=s,this.max=r}buildTicks(){const e=this.min,n=this.max,s=this.options.offset,r=[];let i=this.getLabels();i=e===0&&n===i.length-1?i:i.slice(e,n+1),this._valueRange=Math.max(i.length-(s?0:1),1),this._startValue=this.min-(s?.5:0);for(let o=e;o<=n;o++)r.push({value:o});return r}getLabelForValue(e){return B0.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}re(Da,"id","category"),re(Da,"defaults",{ticks:{callback:B0}});function gO(t,e){const n=[],{bounds:r,step:i,min:o,max:a,precision:l,count:u,maxTicks:d,maxDigits:p,includeBounds:g}=t,v=i||1,_=d-1,{min:k,max:S}=e,x=!De(o),w=!De(a),j=!De(u),E=(S-k)/(p+1);let M=Fg((S-k)/_/v)*v,O,A,T,q;if(M<1e-14&&!x&&!w)return[{value:k},{value:S}];q=Math.ceil(S/M)-Math.floor(k/M),q>_&&(M=Fg(q*M/_/v)*v),De(l)||(O=Math.pow(10,l),M=Math.ceil(M*O)/O),r==="ticks"?(A=Math.floor(k/M)*M,T=Math.ceil(S/M)*M):(A=k,T=S),x&&w&&i&&SD((a-o)/i,M/1e3)?(q=Math.round(Math.min((a-o)/M,d)),M=(a-o)/q,A=o,T=a):j?(A=x?o:A,T=w?a:T,q=u-1,M=(T-A)/q):(q=(T-A)/M,Jo(q,Math.round(q),M/1e3)?q=Math.round(q):q=Math.ceil(q));const z=Math.max($g(M),$g(A));O=Math.pow(10,De(l)?z:l),A=Math.round(A*O)/O,T=Math.round(T*O)/O;let se=0;for(x&&(g&&A!==o?(n.push({value:o}),A<o&&se++,Jo(Math.round((A+se*M)*O)/O,o,U0(o,E,t))&&se++):A<o&&se++);se<q;++se){const ie=Math.round((A+se*M)*O)/O;if(w&&ie>a)break;n.push({value:ie})}return w&&g&&T!==a?n.length&&Jo(n[n.length-1].value,a,U0(a,E,t))?n[n.length-1].value=a:n.push({value:a}):(!w||T===a)&&n.push({value:T}),n}function U0(t,e,{horizontal:n,minRotation:s}){const r=rs(s),i=(n?Math.sin(r):Math.cos(r))||.001,o=.75*e*(""+t).length;return Math.min(e/i,o)}class yO extends Ji{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return De(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:s}=this.getUserBounds();let{min:r,max:i}=this;const o=l=>r=n?r:l,a=l=>i=s?i:l;if(e){const l=In(r),u=In(i);l<0&&u<0?a(0):l>0&&u>0&&o(0)}if(r===i){let l=i===0?1:Math.abs(i*.05);a(i+l),e||o(r-l)}this.min=r,this.max=i}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:s}=e,r;return s?(r=Math.ceil(this.max/s)-Math.floor(this.min/s)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${s} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),n=n||11),n&&(r=Math.min(n,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let s=this.getTickLimit();s=Math.max(2,s);const r={maxTicks:s,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},i=this._range||this,o=gO(r,i);return e.bounds==="ticks"&&jD(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let n=this.min,s=this.max;if(super.configure(),this.options.offset&&e.length){const r=(s-n)/Math.max(e.length-1,1)/2;n-=r,s+=r}this._startValue=n,this._endValue=s,this._valueRange=s-n}getLabelForValue(e){return op(e,this.chart.options.locale,this.options.ticks.format)}}class Na extends yO{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=St(e)?e:0,this.max=St(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,s=rs(this.options.ticks.minRotation),r=(e?Math.sin(s):Math.cos(s))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,i.lineHeight/r))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}re(Na,"id","linear"),re(Na,"defaults",{ticks:{callback:u_.formatters.numeric}});const gu={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Ft=Object.keys(gu);function W0(t,e){return t-e}function H0(t,e){if(De(e))return null;const n=t._adapter,{parser:s,round:r,isoWeekday:i}=t._parseOpts;let o=e;return typeof s=="function"&&(o=s(o)),St(o)||(o=typeof s=="string"?n.parse(o,s):n.parse(o)),o===null?null:(r&&(o=r==="week"&&(Sa(i)||i===!0)?n.startOf(o,"isoWeek",i):n.startOf(o,r)),+o)}function Y0(t,e,n,s){const r=Ft.length;for(let i=Ft.indexOf(t);i<r-1;++i){const o=gu[Ft[i]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-e)/(a*o.size))<=s)return Ft[i]}return Ft[r-1]}function vO(t,e,n,s,r){for(let i=Ft.length-1;i>=Ft.indexOf(n);i--){const o=Ft[i];if(gu[o].common&&t._adapter.diff(r,s,o)>=e-1)return o}return Ft[n?Ft.indexOf(n):0]}function xO(t){for(let e=Ft.indexOf(t)+1,n=Ft.length;e<n;++e)if(gu[Ft[e]].common)return Ft[e]}function V0(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:s,hi:r}=sp(n,e),i=n[s]>=e?n[s]:n[r];t[i]=!0}}function _O(t,e,n,s){const r=t._adapter,i=+r.startOf(e[0].value,s),o=e[e.length-1].value;let a,l;for(a=i;a<=o;a=+r.add(a,1,s))l=n[a],l>=0&&(e[l].major=!0);return e}function G0(t,e,n){const s=[],r={},i=e.length;let o,a;for(o=0;o<i;++o)a=e[o],r[a]=o,s.push({value:a,major:!1});return i===0||!n?s:_O(t,s,r,n)}class zc extends Ji{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const s=e.time||(e.time={}),r=this._adapter=new aP._date(e.adapters.date);r.init(n),Ko(s.displayFormats,r.formats()),this._parseOpts={parser:s.parser,round:s.round,isoWeekday:s.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:H0(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,s=e.time.unit||"day";let{min:r,max:i,minDefined:o,maxDefined:a}=this.getUserBounds();function l(u){!o&&!isNaN(u.min)&&(r=Math.min(r,u.min)),!a&&!isNaN(u.max)&&(i=Math.max(i,u.max))}(!o||!a)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),r=St(r)&&!isNaN(r)?r:+n.startOf(Date.now(),s),i=St(i)&&!isNaN(i)?i:+n.endOf(Date.now(),s)+1,this.min=Math.min(r,i-1),this.max=Math.max(r+1,i)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],s=e[e.length-1]),{min:n,max:s}}buildTicks(){const e=this.options,n=e.time,s=e.ticks,r=s.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const i=this.min,o=this.max,a=ND(r,i,o);return this._unit=n.unit||(s.autoSkip?Y0(n.minUnit,this.min,this.max,this._getLabelCapacity(i)):vO(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!s.major.enabled||this._unit==="year"?void 0:xO(this._unit),this.initOffsets(r),e.reverse&&a.reverse(),G0(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,s=0,r,i;this.options.offset&&e.length&&(r=this.getDecimalForValue(e[0]),e.length===1?n=1-r:n=(this.getDecimalForValue(e[1])-r)/2,i=this.getDecimalForValue(e[e.length-1]),e.length===1?s=i:s=(i-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;n=bt(n,0,o),s=bt(s,0,o),this._offsets={start:n,end:s,factor:1/(n+1+s)}}_generate(){const e=this._adapter,n=this.min,s=this.max,r=this.options,i=r.time,o=i.unit||Y0(i.minUnit,n,s,this._getLabelCapacity(n)),a=xe(r.ticks.stepSize,1),l=o==="week"?i.isoWeekday:!1,u=Sa(l)||l===!0,d={};let p=n,g,v;if(u&&(p=+e.startOf(p,"isoWeek",l)),p=+e.startOf(p,u?"day":o),e.diff(s,n,o)>1e5*a)throw new Error(n+" and "+s+" are too far apart with stepSize of "+a+" "+o);const _=r.ticks.source==="data"&&this.getDataTimestamps();for(g=p,v=0;g<s;g=+e.add(g,a,o),v++)V0(d,g,_);return(g===s||r.bounds==="ticks"||v===1)&&V0(d,g,_),Object.keys(d).sort(W0).map(k=>+k)}getLabelForValue(e){const n=this._adapter,s=this.options.time;return s.tooltipFormat?n.format(e,s.tooltipFormat):n.format(e,s.displayFormats.datetime)}format(e,n){const r=this.options.time.displayFormats,i=this._unit,o=n||r[i];return this._adapter.format(e,o)}_tickFormatFunction(e,n,s,r){const i=this.options,o=i.ticks.callback;if(o)return $e(o,[e,n,s],this);const a=i.time.displayFormats,l=this._unit,u=this._majorUnit,d=l&&a[l],p=u&&a[u],g=s[n],v=u&&p&&g&&g.major;return this._adapter.format(e,r||(v?p:d))}generateTickLabels(e){let n,s,r;for(n=0,s=e.length;n<s;++n)r=e[n],r.label=this._tickFormatFunction(r.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,s=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+s)*n.factor)}getValueForPixel(e){const n=this._offsets,s=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+s*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,s=this.ctx.measureText(e).width,r=rs(this.isHorizontal()?n.maxRotation:n.minRotation),i=Math.cos(r),o=Math.sin(r),a=this._resolveTickFontOptions(0).size;return{w:s*i+a*o,h:s*o+a*i}}_getLabelCapacity(e){const n=this.options.time,s=n.displayFormats,r=s[n.unit]||s.millisecond,i=this._tickFormatFunction(e,0,G0(this,[e],this._majorUnit),r),o=this._getLabelSize(i),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],n,s;if(e.length)return e;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(n=0,s=r.length;n<s;++n)e=e.concat(r[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,s;if(e.length)return e;const r=this.getLabels();for(n=0,s=r.length;n<s;++n)e.push(H0(this,r[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return a_(e.sort(W0))}}re(zc,"id","time"),re(zc,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Wl(t,e,n){let s=0,r=t.length-1,i,o,a,l;n?(e>=t[s].pos&&e<=t[r].pos&&({lo:s,hi:r}=Nr(t,"pos",e)),{pos:i,time:a}=t[s],{pos:o,time:l}=t[r]):(e>=t[s].time&&e<=t[r].time&&({lo:s,hi:r}=Nr(t,"time",e)),{time:i,pos:a}=t[s],{time:o,pos:l}=t[r]);const u=o-i;return u?a+(l-a)*(e-i)/u:a}class q0 extends zc{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=Wl(n,this.min),this._tableRange=Wl(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:s}=this,r=[],i=[];let o,a,l,u,d;for(o=0,a=e.length;o<a;++o)u=e[o],u>=n&&u<=s&&r.push(u);if(r.length<2)return[{time:n,pos:0},{time:s,pos:1}];for(o=0,a=r.length;o<a;++o)d=r[o+1],l=r[o-1],u=r[o],Math.round((d+l)/2)!==u&&i.push({time:u,pos:o/(a-1)});return i}_generate(){const e=this.min,n=this.max;let s=super.getDataTimestamps();return(!s.includes(e)||!s.length)&&s.splice(0,0,e),(!s.includes(n)||s.length===1)&&s.push(n),s.sort((r,i)=>r-i)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),s=this.getLabelTimestamps();return n.length&&s.length?e=this.normalize(n.concat(s)):e=n.length?n:s,e=this._cache.all=e,e}getDecimalForValue(e){return(Wl(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,s=this.getDecimalForPixel(e)/n.factor-n.end;return Wl(this._table,s*this._tableRange+this._minPos,!0)}}re(q0,"id","timeseries"),re(q0,"defaults",zc.defaults);const bO="#FFFFFF",Y_=({className:t="w-8 h-8",stroke:e=bO,strokeWidth:n=2})=>f.jsxs("svg",{className:t,viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:e,strokeWidth:n,strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M20 6C14 6 8 12 8 22C8 38 12 58 20 58C24 58 24 46 32 46C40 46 40 58 44 58C52 58 56 38 56 22C56 12 50 6 44 6C38 6 36 18 32 18C28 18 26 6 20 6Z"}),f.jsx("path",{d:"M46 14C48 16 50 18 50 20",strokeWidth:"1.5"})]});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var wO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kO=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),vp=(t,e)=>{const n=D.forwardRef(({color:s="currentColor",size:r=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:a="",children:l,...u},d)=>D.createElement("svg",{ref:d,...wO,width:r,height:r,stroke:s,strokeWidth:o?Number(i)*24/Number(r):i,className:["lucide",`lucide-${kO(t)}`,a].join(" "),...u},[...e.map(([p,g])=>D.createElement(p,g)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SO=vp("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jO=vp("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CO=vp("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);function EO(){const[t,e]=D.useState(""),[n,s]=D.useState(""),[r,i]=D.useState(!1),[o,a]=D.useState(!1),l=Gf(),u=async d=>{d.preventDefault(),a(!0);try{const{error:p}=await Te.auth.signInWithPassword({email:t,password:n});if(p)throw p;l("/caja")}catch(p){console.error("Error signing in:",p);const g=p instanceof Error&&p.message.includes("Invalid login credentials")?"Credenciales invlidas. Verifique su correo y contrasea.":"Error al iniciar sesin. Intente nuevamente.";le.error(g)}finally{a(!1)}};return f.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gradient-to-br from-[#F0E6ED] via-white to-[#F8F5F7] p-4",children:[f.jsxs("div",{className:"max-w-md w-full bg-white p-8 sm:p-10 rounded-2xl shadow-2xl border border-[#E0CDD9] transform transition-all duration-500 hover:scale-[1.01]",children:[f.jsxs("div",{className:"flex flex-col items-center mb-8",children:[f.jsx("div",{className:"p-3 bg-gradient-to-br from-[#9D1C7A] to-[#6a1152] rounded-full shadow-lg mb-4 transform transition-transform duration-300 hover:rotate-6",children:f.jsx(Y_,{className:"h-16 w-16 text-white"})}),f.jsx("h1",{className:"text-3xl font-bold text-center text-[#5A0D45]",children:"Andrew's Dental Group"}),f.jsx("p",{className:"mt-2 text-center text-sm text-gray-500",children:"Sistema de gestin de la clnica dental"})]}),f.jsxs("form",{className:"space-y-6",onSubmit:u,children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"email-address",className:"block text-sm font-medium text-[#801461] mb-1",children:"Correo Electrnico"}),f.jsx("input",{id:"email-address",name:"email",type:"email",autoComplete:"email",required:!0,value:t,onChange:d=>e(d.target.value),className:"appearance-none relative block w-full px-4 py-3 border border-[#E0CDD9] placeholder-gray-400 text-gray-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#B58AAD] focus:border-[#801461] sm:text-sm transition-all duration-200 shadow-sm hover:shadow-md",placeholder:"su.correo@ejemplo.com"})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-[#801461] mb-1",children:"Contrasea"}),f.jsxs("div",{className:"relative",children:[f.jsx("input",{id:"password",name:"password",type:r?"text":"password",autoComplete:"current-password",required:!0,value:n,onChange:d=>s(d.target.value),className:"appearance-none relative block w-full px-4 py-3 border border-[#E0CDD9] placeholder-gray-400 text-gray-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#B58AAD] focus:border-[#801461] sm:text-sm transition-all duration-200 shadow-sm hover:shadow-md pr-12",placeholder:""}),f.jsx("button",{type:"button",onClick:()=>i(!r),className:"absolute inset-y-0 right-3 flex items-center text-gray-500 hover:text-gray-700 focus:outline-none",children:r?f.jsx(SO,{size:20}):f.jsx(jO,{size:20})})]})]}),f.jsx("div",{className:"pt-2",children:f.jsx("button",{type:"submit",disabled:o,className:`w-full flex justify-center py-3 px-4 border border-transparent text-base font-medium rounded-lg text-white bg-gradient-to-r from-[#9D1C7A] to-[#801461] hover:from-[#801461] hover:to-[#6a1152] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#801461] transition-all duration-300 transform hover:scale-[1.03] shadow-lg hover:shadow-xl ${o?"opacity-70 cursor-not-allowed":""}`,children:o?f.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):"Iniciar Sesin"})})]})]}),f.jsxs("div",{className:"mt-6 text-sm text-gray-400",children:["Desarrollado por"," ",f.jsx("a",{href:"https://grupoarkham.com/",target:"_blank",rel:"noopener noreferrer",className:"text-[#801461] hover:underline font-semibold",children:"Arkham Tech"})]})]})}const V_="label";function K0(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function MO(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function G_(t,e){t.labels=e}function q_(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:V_;const s=[];t.datasets=e.map(r=>{const i=t.datasets.find(o=>o[n]===r[n]);return!i||!r.data||s.includes(i)?{...r}:(s.push(i),Object.assign(i,r),i)})}function DO(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:V_;const n={labels:[],datasets:[]};return G_(n,t.labels),q_(n,t.datasets,e),n}function NO(t,e){const{height:n=150,width:s=300,redraw:r=!1,datasetIdKey:i,type:o,data:a,options:l,plugins:u=[],fallbackContent:d,updateMode:p,...g}=t,v=D.useRef(null),_=D.useRef(null),k=()=>{v.current&&(_.current=new Xi(v.current,{type:o,data:DO(a,i),options:l&&{...l},plugins:u}),K0(e,_.current))},S=()=>{K0(e,null),_.current&&(_.current.destroy(),_.current=null)};return D.useEffect(()=>{!r&&_.current&&l&&MO(_.current,l)},[r,l]),D.useEffect(()=>{!r&&_.current&&G_(_.current.config.data,a.labels)},[r,a.labels]),D.useEffect(()=>{!r&&_.current&&a.datasets&&q_(_.current.config.data,a.datasets,i)},[r,a.datasets]),D.useEffect(()=>{_.current&&(r?(S(),setTimeout(k)):_.current.update(p))},[r,l,a.labels,a.datasets,p]),D.useEffect(()=>{_.current&&(S(),setTimeout(k))},[o]),D.useEffect(()=>(k(),()=>S()),[]),Qh.createElement("canvas",{ref:v,role:"img",height:n,width:s,...g},d)}const PO=D.forwardRef(NO);function yu(t,e){return Xi.register(e),D.forwardRef((n,s)=>Qh.createElement(PO,{...n,ref:s,type:t}))}const TO=yu("line",rc),J0=yu("bar",sc),X0=yu("doughnut",Si),Nd=yu("pie",Uh);Xi.register(Da,Na,Zo,os,Pr,gp,yp,mp,B_);function K_({userId:t,userRole:e}){var Va,hr,rt,Qt,Ht,Ge,Ot,Zt,Cn,Ga,qa,_s,oo,Ka,Bn,bs;const[n,s]=D.useState(null),[r,i]=D.useState(!0),[o,a]=D.useState([]),[l,u]=D.useState(new Date().toISOString().split("T")[0]),[d,p]=D.useState(""),[g,v]=D.useState(""),[_,k]=D.useState(""),[S,x]=D.useState(!1),[w,j]=D.useState(!1),[E,M]=D.useState(0),[O,A]=D.useState("Ingreso"),[T,q]=D.useState(null),[z,se]=D.useState([]),[ie,me]=D.useState(!1),[ue,he]=D.useState({anos:[],balanceTotalPeriodo:0}),[fe,ye]=D.useState(null),[G,J]=D.useState("EFECTIVO"),[te,W]=D.useState([]),[ae,P]=D.useState(""),[Y,L]=D.useState(null),[pe,nt]=D.useState([]),[ft,ps]=D.useState("SOLES"),[ms,Sn]=D.useState(0),[ar,Ua]=D.useState(""),[vu,Xr]=D.useState(!1),[un,Qi]=D.useState(""),[jn,Zi]=D.useState(""),[gs,jt]=D.useState(""),[Fn,Wa]=D.useState(""),[lr,eo]=D.useState(""),[st,to]=D.useState(""),[$n,cr]=D.useState(""),[Ee,no]=D.useState(""),[Qr,ys]=D.useState(""),[so,zn]=D.useState(!1),[Oe,vs]=D.useState({ingresosPorCategoria:{labels:[],datasets:[]},egresosPorCategoria:{labels:[],datasets:[]},distribucionGeneral:{labels:[],datasets:[]},balanceEvolucion:{labels:[],datasets:[]}});D.useMemo(()=>e==="admin",[e]);const Ha=3.7,Ct=(N,I="PEN")=>{const $={style:"currency",currency:I,minimumFractionDigits:2,maximumFractionDigits:2},K=new Intl.NumberFormat(I==="PEN"?"es-PE":"en-US",$).format(N);return I==="PEN"?K.replace("PEN","S/"):K},Ya=(N,I)=>I==="Ingreso"||I==="Ajuste"&&N>0?"text-green-600":I==="Egreso"||I==="Ajuste"&&N<0?"text-red-600":"text-gray-700",ur=(N,I)=>{const $=Math.abs(N);return I==="Ingreso"?`+${Ct($)}`:I==="Egreso"?`-${Ct($)}`:I==="Ajuste"&&N>0?`+${Ct(N)}`:Ct(N)},dn=N=>{if(!N)return{fecha:"-",hora:"-"};try{const I=new Date(N);if(isNaN(I.getTime()))throw new Error("Invalid Date");return{fecha:I.toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric"}),hora:I.toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"})}}catch(I){return console.error("Error formatting date:",N,I),{fecha:"Invlida",hora:"Invlida"}}},ro=N=>new Date(2e3,N,1).toLocaleString("es-ES",{month:"long"});D.useEffect(()=>{(async()=>{i(!0);try{const{data:{session:I},error:$}=await Te.auth.getSession();if($)throw $;I!=null&&I.user?s(I.user.id):(console.error("No active session found."),le.error("No se encontr sesin activa. Por favor, inicie sesin."))}catch(I){console.error("Error fetching user session:",I),le.error(`Error al obtener la sesin: ${I.message}`)}finally{i(!1)}})()},[]),D.useEffect(()=>{(async()=>{var I;try{const[$,K,B]=await Promise.all([Te.from("tipos_movimiento").select("*").eq("activo",!0),Te.from("pacientes").select("id, nombres, apellido_paterno, apellido_materno").eq("activo",!0),Te.from("medicos").select("id, nombre").eq("activo",!0).order("nombre",{ascending:!0})]);if($.error)throw $.error;if(se($.data||[]),((I=$.data)==null?void 0:I.length)>0&&!T){const F=$.data.find(ne=>ne.tipo===O)||$.data[0];q(F.id)}if(K.error)throw K.error;const V=(K.data||[]).map(F=>({...F,nombre:`${F.nombres||""} ${F.apellido_paterno||""} ${F.apellido_materno||""}`.trim()}));if(nt(V),B.error)throw B.error;W(B.data||[])}catch($){console.error("Error al cargar datos esenciales:",$),le.error("Error al cargar datos iniciales (categoras, pacientes, mdicos).")}})()},[]),D.useEffect(()=>{(async()=>{var I;if(O)try{x(!0);const{data:$,error:K}=await Te.from("tipos_movimiento").select("*").eq("activo",!0).eq("tipo",O);if(K)throw K;se($||[]),q(((I=$==null?void 0:$[0])==null?void 0:I.id)||null)}catch($){console.error(`Error al cargar categoras para ${O}:`,$),le.error(`Error al cargar categoras de ${O}.`)}finally{x(!1)}})()},[O]);const xs=async N=>{if(N){x(!0);try{const I=`${N}T00:00:00`,$=`${N}T23:59:59`,{data:K,error:B}=await Te.from("registros_caja").select(`
                    *,
                    tipo_movimiento:tipos_movimiento(id, nombre, tipo),
                    usuario:users(id, nombre),
                    medico:medicos(id, nombre),
                    paciente:pacientes(id, nombres, apellido_paterno, apellido_materno)
                `).gte("fecha",I).lte("fecha",$).order("created_at",{ascending:!1});if(B)throw B;const V=(K||[]).map(F=>({...F,tipo_movimiento:F.tipo_movimiento||void 0,usuario:F.usuario||void 0,medico:F.medico||void 0,paciente:F.paciente?{...F.paciente,nombreCompleto:`${F.paciente.nombres||""} ${F.paciente.apellido_paterno||""}`.trim()}:void 0}));a(V),X(V)}catch(I){console.error("Error cargando registros del da:",I),le.error(`Error al cargar registros del da: ${I.message}`),a([]),M(0)}finally{x(!1)}}},X=N=>{const I=N.reduce(($,K)=>$+(K.valor||0),0);M(I)};D.useEffect(()=>{xs(l)},[l,t]),D.useEffect(()=>{const N=new Date,I=new Date(N.getFullYear(),N.getMonth(),1).toISOString().split("T")[0],$=new Date(N.getFullYear(),N.getMonth()+1,0).toISOString().split("T")[0];un||Qi(I),jn||Zi($)},[]);const Zr=async N=>{if(!N.fechaInicio||!N.fechaFin){le.error("Se requieren fechas de inicio y fin para el historial.");return}j(!0);try{const I=`${N.fechaInicio}T00:00:00`,$=`${N.fechaFin}T23:59:59`;let K=Te.from("registros_caja").select(`
                  id, fecha, descripcion, valor, numero_factura, forma_pago, moneda, created_at,
                  tipo_movimiento:tipos_movimiento(id, nombre, tipo),
                  usuario:users(id, nombre),
                  medico:medicos(id, nombre),
                  paciente:pacientes(id, nombres, apellido_paterno, apellido_materno)
              `).gte("fecha",I).lte("fecha",$).order("fecha",{ascending:!0});N.usuario&&(K=K.eq("user_id",t)),N.tipo&&(K=K.eq("tipo_movimiento.tipo",N.tipo)),N.categoria&&(K=K.eq("tipo_movimiento_id",N.categoria)),N.paciente&&(K=K.eq("paciente_id",N.paciente)),N.medico&&(K=K.eq("medico_id",N.medico)),N.formaPago&&(K=K.eq("forma_pago",N.formaPago));const{data:B,error:V}=await K;if(V)throw V;const F=(B||[]).map(ce=>({...ce,tipo_movimiento:ce.tipo_movimiento||void 0,usuario:ce.usuario||void 0,medico:ce.medico||void 0,paciente:ce.paciente?{...ce.paciente,nombreCompleto:`${ce.paciente.nombres||""} ${ce.paciente.apellido_paterno||""} ${ce.paciente.apellido_materno||""}`.trim()}:void 0})),ne=xu(F);he(ne);const Q=hn(F);vs(Q)}catch(I){console.error("Error cargando historial:",I),le.error(`Error al cargar historial: ${I.message}`),he({anos:[],balanceTotalPeriodo:0}),vs({ingresosPorCategoria:{labels:[],datasets:[]},egresosPorCategoria:{labels:[],datasets:[]},distribucionGeneral:{labels:[],datasets:[]},balanceEvolucion:{labels:[],datasets:[]}})}finally{j(!1)}},xu=N=>{const I={};let $=0;return N.forEach(V=>{try{const F=new Date(V.fecha);if(isNaN(F.getTime()))throw new Error("Invalid date in record");const ne=F.getFullYear(),Q=F.getMonth();I[ne]||(I[ne]={}),I[ne][Q]||(I[ne][Q]={registros:[],balanceMes:0}),I[ne][Q].registros.push(V),I[ne][Q].balanceMes+=V.valor||0,$+=V.valor||0}catch(F){console.error("Error processing record date:",V,F)}}),{anos:Object.keys(I).map(Number).sort((V,F)=>V-F).map(V=>{const F=Object.keys(I[V]).map(Number).sort((ce,oe)=>ce-oe);let ne=0;const Q=F.map(ce=>{const oe=I[V][ce];return ne+=oe.balanceMes,oe.registros.sort((Je,it)=>new Date(it.fecha).getTime()-new Date(Je.fecha).getTime()),{mes:ce+1,nombreMes:ro(ce),registros:oe.registros,balanceMes:oe.balanceMes}});return{ano:V,meses:Q,balanceAnual:ne}}),balanceTotalPeriodo:$}},hn=N=>{const I=N.filter(Ae=>{var ct,fn;return((ct=Ae.tipo_movimiento)==null?void 0:ct.tipo)==="Ingreso"||((fn=Ae.tipo_movimiento)==null?void 0:fn.tipo)==="Ajuste"&&Ae.valor>=0}),$=N.filter(Ae=>{var ct,fn;return((ct=Ae.tipo_movimiento)==null?void 0:ct.tipo)==="Egreso"||((fn=Ae.tipo_movimiento)==null?void 0:fn.tipo)==="Ajuste"&&Ae.valor<0}),K=Ae=>Ae.reduce((ct,fn)=>{var ao;const Ja=((ao=fn.tipo_movimiento)==null?void 0:ao.nombre)||(fn.valor>=0?"Otros Ingresos/Ajustes":"Otros Egresos/Ajustes");return ct[Ja]=(ct[Ja]||0)+Math.abs(fn.valor||0),ct},{}),B=K(I),V=K($),F=Object.values(B).reduce((Ae,ct)=>Ae+ct,0),ne=Object.values(V).reduce((Ae,ct)=>Ae+ct,0);let Q=0;const oe=N.map(Ae=>(Q+=Ae.valor||0,{fecha:dn(Ae.fecha).fecha,balance:Q})).reduce((Ae,ct)=>(Ae[ct.fecha]=ct.balance,Ae),{}),Je=Object.keys(oe),it=Object.values(oe),ws=["#b0005a","#ffc4e0","#8b0046","#ffe7f3","#4c0026"],ks=["#10B981","#34D399","#6EE7B7","#A7F3D0"],fr=["#EF4444","#F87171","#FCA5A5","#FECACA"];return{ingresosPorCategoria:{labels:Object.keys(B),datasets:[{data:Object.values(B),backgroundColor:ks.slice(0,Object.keys(B).length),borderColor:"#ffffff",borderWidth:1}]},egresosPorCategoria:{labels:Object.keys(V),datasets:[{data:Object.values(V),backgroundColor:fr.slice(0,Object.keys(V).length),borderColor:"#ffffff",borderWidth:1}]},distribucionGeneral:{labels:["Ingresos","Egresos"],datasets:[{data:[F,ne],backgroundColor:[ks[1],fr[1]],borderColor:"#ffffff",borderWidth:1}]},balanceEvolucion:{labels:Je,datasets:[{label:"Balance Acumulado",data:it,borderColor:ws[0],backgroundColor:"rgba(176, 0, 90, 0.1)",fill:!0,tension:.3,pointBackgroundColor:ws[0],pointRadius:3,pointHoverRadius:5}]}}};D.useEffect(()=>{ie&&un&&jn&&Zr({fechaInicio:un,fechaFin:jn,usuario:gs,tipo:Fn,categoria:lr,paciente:st,medico:$n,formaPago:Ee}),ie||(he({anos:[],balanceTotalPeriodo:0}),vs({ingresosPorCategoria:{labels:[],datasets:[]},egresosPorCategoria:{labels:[],datasets:[]},distribucionGeneral:{labels:[],datasets:[]},balanceEvolucion:{labels:[],datasets:[]}}))},[ie,un,jn,gs,Fn,lr,st,$n,Ee]);const Tt=N=>{const I=N.target.value;v(I);try{const $=parseFloat(I);isNaN($)?Sn(0):Sn(ft==="USD"?$*Ha:$)}catch{Sn(0)}},ve=N=>{const I=N.target.value;ps(I);try{const $=parseFloat(g);isNaN($)||Sn(I==="USD"?$*Ha:$)}catch{}},io=async()=>{var K,B,V;if(!n){le.error("Error: No se pudo identificar al usuario. Intente recargar la pgina.");return}if(!g||isNaN(parseFloat(g))){le.error("El valor debe ser un nmero vlido.");return}if(!T){le.error("Debe seleccionar una categora.");return}if(!l){le.error("Debe seleccionar una fecha.");return}let N=ms;const I=(K=z.find(F=>F.id===T))==null?void 0:K.tipo;if(I==="Ingreso"&&N<0){le.error("Los ingresos deben ser valores positivos.");return}if(I==="Egreso"&&N>0&&(N=-Math.abs(N)),I==="Egreso"&&N===0){le.error("Los egresos deben tener un valor.");return}const $=new Date(l+"T12:00:00");if(isNaN($.getTime())){le.error("Fecha no vlida.");return}x(!0);try{const F={fecha:$.toISOString(),tipo_movimiento_id:T,descripcion:d.trim()||" ",valor:N,numero_factura:_.trim()||null,user_id:n,medico_id:fe||null,forma_pago:G,paciente_id:Y||null,moneda:ft},{data:ne,error:Q}=await Te.from("registros_caja").insert([F]).select("id").single();if(Q)throw Q;let ce=!1;if(I==="Ingreso"&&G==="TARJETA"&&N>0){const oe=parseFloat((N*.05).toFixed(2)),Je=116;if(oe>0&&Je){const{error:it}=await Te.from("registros_caja").insert([{fecha:$.toISOString(),tipo_movimiento_id:Je,descripcion:`Comisin tarjeta (${d?d.substring(0,30)+"...":"Ingreso"})`,valor:-oe,user_id:n,medico_id:fe||null,forma_pago:"TARJETA",paciente_id:Y||null,moneda:"SOLES"}]);it?(console.error("Error al insertar comisin:",it),le.error(`Ingreso registrado, pero fall la comisin: ${it.message}`)):ce=!0}}ce?le.success("Ingreso y comisin registrados."):le.success("Registro agregado correctamente."),p(""),v(""),Sn(0),k(""),ye(null),ys(""),L(null),P(""),ps("SOLES"),J("EFECTIVO"),xs(l,n)}catch(F){console.error("Error agregando registro:",F),(B=F.message)!=null&&B.includes("violates not-null constraint")&&((V=F.message)!=null&&V.includes('"user_id"'))?le.error("Error: Falta el ID de usuario al guardar. Intente recargar."):le.error(`Error al agregar registro: ${F.message}`)}finally{x(!1)}},Me=async N=>{if(!N){le.error("ID invlido.");return}if(window.confirm("Ests seguro de eliminar este registro? Esta accin no se puede deshacer.")){x(!0);try{const{error:I}=await Te.from("registros_caja").delete().eq("id",N);if(I)throw I;le.success("Registro eliminado."),xs(l),ie&&Zr({fechaInicio:un,fechaFin:jn,usuario:gs,tipo:Fn,categoria:lr,paciente:st,medico:$n,formaPago:Ee})}catch(I){console.error("Error eliminando registro:",I),le.error(`Error al eliminar: ${I.message}`)}finally{x(!1)}}},dr=()=>{const[N,I]=D.useState([]),[$,K]=D.useState([]),[B,V]=D.useState([]),[F,ne]=D.useState([]);D.useEffect(()=>{(async()=>{try{const[Je,it,ws,ks]=await Promise.all([Te.from("users").select("id, nombre"),Te.from("tipos_movimiento").select("id, nombre, tipo").eq("activo",!0),Te.from("medicos").select("id, nombre").eq("activo",!0),Te.from("pacientes").select("id, nombres, apellido_paterno").eq("activo",!0)]);if(Je.error)throw Je.error;if(I(Je.data||[]),it.error)throw it.error;if(K(it.data||[]),ws.error)throw ws.error;if(V(ws.data||[]),ks.error)throw ks.error;const fr=(ks.data||[]).map(Ae=>({...Ae,nombreCompleto:`${Ae.nombres} ${Ae.apellido_paterno}`.trim()}));ne(fr)}catch(Je){console.error("Error fetching filter options:",Je),le.error(`Error al cargar opciones de filtro: ${Je.message}`)}})()},[]);const Q=()=>{if(!un||!jn){le.error("Se requieren fechas de inicio y fin.");return}Zr({fechaInicio:un,fechaFin:jn,usuario:gs,tipo:Fn,categoria:lr,paciente:st,medico:$n,formaPago:Ee})},ce=()=>{const oe=new Date,Je=new Date(oe.getFullYear(),oe.getMonth(),1).toISOString().split("T")[0],it=new Date(oe.getFullYear(),oe.getMonth()+1,0).toISOString().split("T")[0];Qi(Je),Zi(it),jt(""),Wa(""),eo(""),to(""),cr(""),no(""),Zr({fechaInicio:Je,fechaFin:it})};return f.jsx("div",{className:"p-4 bg-gray-50 rounded-lg shadow-sm border border-gray-200 mb-6",children:f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"fechaInicioHist",className:"block text-xs font-medium text-gray-600 mb-1",children:"Inicio"}),f.jsx("input",{id:"fechaInicioHist",type:"date",value:un,onChange:oe=>Qi(oe.target.value),className:"w-full text-sm rounded-md border-gray-300 shadow-sm p-2 border focus:ring-raspberry-500 focus:border-raspberry-500"})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"fechaFinHist",className:"block text-xs font-medium text-gray-600 mb-1",children:"Fin"}),f.jsx("input",{id:"fechaFinHist",type:"date",value:jn,onChange:oe=>Zi(oe.target.value),min:un,className:"w-full text-sm rounded-md border-gray-300 shadow-sm p-2 border focus:ring-raspberry-500 focus:border-raspberry-500"})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"usuarioFiltro",className:"block text-xs font-medium text-gray-600 mb-1",children:"Usuario"}),f.jsxs("select",{id:"usuarioFiltro",value:gs,onChange:oe=>jt(oe.target.value),className:"w-full text-sm rounded-md border-gray-300 shadow-sm p-2 border focus:ring-raspberry-500 focus:border-raspberry-500 bg-white",children:[f.jsx("option",{value:"",children:"Todos"}),N.map(oe=>f.jsx("option",{value:oe.id,children:oe.nombre},oe.id))]})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"tipoFiltro",className:"block text-xs font-medium text-gray-600 mb-1",children:"Tipo"}),f.jsxs("select",{id:"tipoFiltro",value:Fn,onChange:oe=>Wa(oe.target.value),className:"w-full text-sm rounded-md border-gray-300 shadow-sm p-2 border focus:ring-raspberry-500 focus:border-raspberry-500 bg-white",children:[f.jsx("option",{value:"",children:"Todos"}),f.jsx("option",{value:"Ingreso",children:"Ingreso"}),f.jsx("option",{value:"Egreso",children:"Egreso"}),f.jsx("option",{value:"Ajuste",children:"Ajuste"})]})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"categoriaFiltro",className:"block text-xs font-medium text-gray-600 mb-1",children:"Categora"}),f.jsxs("select",{id:"categoriaFiltro",value:lr,onChange:oe=>eo(oe.target.value),className:"w-full text-sm rounded-md border-gray-300 shadow-sm p-2 border focus:ring-raspberry-500 focus:border-raspberry-500 bg-white",children:[f.jsx("option",{value:"",children:"Todas"}),$.map(oe=>f.jsx("option",{value:oe.id,children:oe.nombre},oe.id))]})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"pacienteFiltro",className:"block text-xs font-medium text-gray-600 mb-1",children:"Paciente"}),f.jsxs("select",{id:"pacienteFiltro",value:st,onChange:oe=>to(oe.target.value),className:"w-full text-sm rounded-md border-gray-300 shadow-sm p-2 border focus:ring-raspberry-500 focus:border-raspberry-500 bg-white",children:[f.jsx("option",{value:"",children:"Todos"}),F.map(oe=>f.jsx("option",{value:oe.id,children:oe.nombreCompleto},oe.id))]})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"medicoFiltro",className:"block text-xs font-medium text-gray-600 mb-1",children:"Mdico"}),f.jsxs("select",{id:"medicoFiltro",value:$n,onChange:oe=>cr(oe.target.value),className:"w-full text-sm rounded-md border-gray-300 shadow-sm p-2 border focus:ring-raspberry-500 focus:border-raspberry-500 bg-white",children:[f.jsx("option",{value:"",children:"Todos"}),B.map(oe=>f.jsx("option",{value:oe.id,children:oe.nombre},oe.id))]})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"formaPagoFiltro",className:"block text-xs font-medium text-gray-600 mb-1",children:"Forma Pago"}),f.jsxs("select",{id:"formaPagoFiltro",value:Ee,onChange:oe=>no(oe.target.value),className:"w-full text-sm rounded-md border-gray-300 shadow-sm p-2 border focus:ring-raspberry-500 focus:border-raspberry-500 bg-white",children:[f.jsx("option",{value:"",children:"Todas"}),f.jsx("option",{value:"EFECTIVO",children:"Efectivo"}),f.jsx("option",{value:"TARJETA",children:"Tarjeta"}),f.jsx("option",{value:"TRANSFERENCIA",children:"Transferencia"}),f.jsx("option",{value:"YAPE",children:"Yape"}),f.jsx("option",{value:"PLIN",children:"Plin"}),f.jsx("option",{value:"OTROS",children:"Otros"})]})]}),f.jsxs("div",{className:"flex items-end gap-2 col-span-full sm:col-span-1 md:col-span-1 lg:col-span-1 xl:col-span-2",children:[f.jsx("button",{onClick:Q,disabled:w,className:"flex-1 px-4 py-2 bg-raspberry-700 text-white rounded-md hover:bg-raspberry-900 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-raspberry-500 disabled:opacity-50 text-sm font-medium transition-colors",children:w?"Buscando...":"Aplicar"}),f.jsx("button",{onClick:ce,disabled:w,className:"flex-1 px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-400 disabled:opacity-50 text-sm font-medium transition-colors",children:"Limpiar"})]})]})})};return f.jsxs("div",{className:"bg-gray-50 rounded-lg shadow-md overflow-hidden transition-all duration-300",children:[f.jsxs("div",{className:"bg-gray-50 rounded-lg shadow-md overflow-hidden transition-all duration-300",children:[f.jsxs("div",{className:"bg-gradient-to-r from-[#801461] to-[#5A0D45] p-6 text-white",children:[f.jsx("h1",{className:"text-xl md:text-2xl font-bold",children:"Gestin Financiera"}),f.jsx("div",{className:"w-full flex justify-end mb-4",children:f.jsx("button",{onClick:()=>me(!ie),className:`px-4 py-2 text-sm font-medium rounded-md flex items-center transition-colors duration-200 ${ie?"bg-white text-[#801461] hover:bg-gray-100":"bg-[#F0E6ED] text-[#801461] hover:bg-[#E0CDD9]"}`,children:ie?f.jsxs(f.Fragment,{children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),"Ocultar Historial"]}):f.jsxs(f.Fragment,{children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"Ver Historial y Grficos"]})})})]}),f.jsxs("div",{className:"p-4 md:p-6 space-y-6",children:[f.jsxs("div",{className:"max-w-xs",children:[f.jsx("label",{htmlFor:"fechaDiaria",className:"block text-sm font-medium text-gray-700 mb-1",children:"Fecha de Registro:"}),f.jsx("input",{id:"fechaDiaria",type:"date",value:l,onChange:N=>u(N.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-raspberry-500 focus:ring-raspberry-500 p-2 border text-sm"})]}),f.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg shadow-sm border border-gray-200",children:[f.jsx("h2",{className:"text-lg font-semibold text-raspberry-900 mb-4",children:"Registro Diario"}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"tipoMov",className:"block text-xs font-medium text-gray-600 mb-1",children:"Tipo*"}),f.jsxs("select",{id:"tipoMov",value:O,onChange:N=>A(N.target.value),className:"w-full text-sm rounded-md border-gray-300 shadow-sm p-2 border focus:ring-raspberry-500 focus:border-raspberry-500 bg-white",children:[f.jsx("option",{value:"Ingreso",children:"Ingreso"}),f.jsx("option",{value:"Egreso",children:"Egreso"}),f.jsx("option",{value:"Ajuste",children:"Ajuste"})]})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"categoriaMov",className:"block text-xs font-medium text-gray-600 mb-1",children:"Categora*"}),f.jsx("select",{id:"categoriaMov",value:T||"",onChange:N=>q(Number(N.target.value)||null),className:"w-full text-sm rounded-md border-gray-300 shadow-sm p-2 border focus:ring-raspberry-500 focus:border-raspberry-500 bg-white",disabled:S||z.length===0,children:S?f.jsx("option",{children:"Cargando..."}):z.length===0?f.jsx("option",{children:"No hay"}):f.jsxs(f.Fragment,{children:[f.jsx("option",{value:"",children:"Seleccione..."}),z.map(N=>f.jsx("option",{value:N.id,children:N.nombre},N.id))]})})]}),f.jsxs("div",{className:"relative",children:[f.jsx("label",{htmlFor:"medicoReg",className:"block text-xs font-medium text-gray-600 mb-1",children:"Mdico"}),f.jsx("input",{id:"medicoReg",type:"text",placeholder:"Buscar...",value:Qr,onChange:N=>{ys(N.target.value),zn(!0),N.target.value||ye(null)},onFocus:()=>zn(!0),onBlur:()=>setTimeout(()=>zn(!1),150),className:"w-full text-sm rounded-md border-gray-300 shadow-sm p-2 border focus:ring-raspberry-500 focus:border-raspberry-500"}),so&&te.filter(N=>N.nombre.toLowerCase().includes(Qr.toLowerCase())).length>0&&f.jsx("ul",{className:"absolute z-20 w-full bg-white border border-gray-300 rounded-md shadow-lg mt-1 max-h-40 overflow-y-auto",children:te.filter(N=>N.nombre.toLowerCase().includes(Qr.toLowerCase())).slice(0,10).map(N=>f.jsx("li",{className:"px-3 py-1.5 text-sm hover:bg-raspberry-50 cursor-pointer",onMouseDown:()=>{ye(N.id),ys(N.nombre),zn(!1)},children:N.nombre},N.id))}),fe&&f.jsx("span",{className:"text-xs text-green-600 block mt-0.5",children:" Seleccionado"})]}),f.jsxs("div",{className:"relative",children:[f.jsx("label",{htmlFor:"pacienteReg",className:"block text-xs font-medium text-gray-600 mb-1",children:"Paciente"}),f.jsx("input",{id:"pacienteReg",type:"text",placeholder:"Buscar...",value:ae,onChange:N=>{P(N.target.value),Ua(N.target.value),Xr(!0),N.target.value||L(null)},onFocus:()=>Xr(!0),onBlur:()=>setTimeout(()=>Xr(!1),150),className:"w-full text-sm rounded-md border-gray-300 shadow-sm p-2 border focus:ring-raspberry-500 focus:border-raspberry-500"}),vu&&pe.filter(N=>N.nombre.toLowerCase().includes(ar.toLowerCase())).length>0&&f.jsx("ul",{className:"absolute z-20 w-full bg-white border border-gray-300 rounded-md shadow-lg mt-1 max-h-40 overflow-y-auto",children:pe.filter(N=>N.nombre.toLowerCase().includes(ar.toLowerCase())).slice(0,10).map(N=>f.jsx("li",{className:"px-3 py-1.5 text-sm hover:bg-raspberry-50 cursor-pointer",onMouseDown:()=>{L(N.id),P(N.nombre),Ua(N.nombre),Xr(!1)},children:N.nombre},N.id))}),Y&&f.jsx("span",{className:"text-xs text-green-600 block mt-0.5",children:" Seleccionado"})]})]}),f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"formaPagoMov",className:"block text-xs font-medium text-gray-600 mb-1",children:"Forma Pago*"}),f.jsxs("select",{id:"formaPagoMov",value:G,onChange:N=>J(N.target.value),className:"w-full text-sm rounded-md border-gray-300 shadow-sm p-2 border focus:ring-raspberry-500 focus:border-raspberry-500 bg-white",children:[f.jsx("option",{value:"EFECTIVO",children:"Efectivo"}),f.jsx("option",{value:"TARJETA",children:"Tarjeta"}),f.jsx("option",{value:"TRANSFERENCIA",children:"Transferencia"}),f.jsx("option",{value:"YAPE",children:"Yape"}),f.jsx("option",{value:"PLIN",children:"Plin"}),f.jsx("option",{value:"OTROS",children:"Otros"})]})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"descripcionMov",className:"block text-xs font-medium text-gray-600 mb-1",children:"Descripcin"}),f.jsx("input",{id:"descripcionMov",type:"text",value:d,onChange:N=>p(N.target.value||"Sin descripcin"),placeholder:"Detalles del movimiento",className:"w-full text-sm rounded-md border-gray-300 shadow-sm p-2 border focus:ring-raspberry-500 focus:border-raspberry-500"})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"valorMov",className:"block text-xs font-medium text-gray-600 mb-1",children:"Valor*"}),f.jsxs("div",{className:"flex gap-2",children:[f.jsxs("select",{value:ft,onChange:ve,"aria-label":"Tipo de Moneda",className:"text-sm rounded-md border-gray-300 shadow-sm p-2 border focus:ring-raspberry-500 focus:border-raspberry-500 bg-white",children:[f.jsx("option",{value:"SOLES",children:"S/"}),f.jsx("option",{value:"USD",children:"$"})]}),f.jsx("input",{id:"valorMov",type:"number",step:"0.01",value:g,onChange:Tt,placeholder:"0.00",required:!0,className:"flex-grow text-sm rounded-md border-gray-300 shadow-sm p-2 border focus:ring-raspberry-500 focus:border-raspberry-500"})]}),ft==="USD"&&ms>0&&f.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[" ",Ct(ms,"PEN")]})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"numFactura",className:"block text-xs font-medium text-gray-600 mb-1",children:"N Factura"}),f.jsx("input",{id:"numFactura",type:"text",value:_,onChange:N=>k(N.target.value),placeholder:"Ej: F001-123",className:"w-full text-sm rounded-md border-gray-300 shadow-sm p-2 border focus:ring-raspberry-500 focus:border-raspberry-500"})]})]}),f.jsx("div",{className:"pt-2 flex justify-center",children:f.jsx("button",{onClick:io,disabled:S||!g||!T,className:"px-6 py-2 bg-raspberry-700 text-white rounded-md hover:bg-raspberry-900 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-raspberry-500 disabled:opacity-60 disabled:cursor-not-allowed transition-colors text-sm font-medium shadow-sm",children:S?f.jsxs("span",{className:"flex items-center justify-center",children:[f.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Agregando..."]}):"Agregar Registro"})})]})]}),f.jsxs("div",{className:"mt-6",children:[f.jsxs("h2",{className:"text-lg font-semibold text-raspberry-900 mb-3",children:["Registros del Da (",dn(l).fecha,")"]}),f.jsx("div",{className:"overflow-x-auto shadow rounded-lg border border-gray-200 bg-white",children:f.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[f.jsx("thead",{className:"bg-gray-50",children:f.jsxs("tr",{children:[f.jsx("th",{className:"px-3 py-2.5 text-right text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"User"}),f.jsx("th",{className:"px-3 py-2.5 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Hora"}),f.jsx("th",{className:"px-3 py-2.5 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Tipo"}),f.jsx("th",{className:"px-3 py-2.5 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Categora"}),f.jsx("th",{className:"px-3 py-2.5 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Descripcin"}),f.jsx("th",{className:"px-3 py-2.5 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Paciente"}),f.jsx("th",{className:"px-3 py-2.5 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Mdico"}),f.jsx("th",{className:"px-3 py-2.5 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Forma Pago"}),f.jsx("th",{className:"px-3 py-2.5 text-right text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Valor"}),f.jsx("th",{className:"px-3 py-2.5 text-center text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Accin"})]})}),f.jsxs("tbody",{className:"divide-y divide-gray-200",children:[S&&f.jsx("tr",{children:f.jsx("td",{colSpan:9,className:"py-4 text-center text-sm text-gray-500 italic",children:"Cargando registros..."})}),!S&&o.length===0&&f.jsx("tr",{children:f.jsx("td",{colSpan:9,className:"py-4 text-center text-sm text-gray-500 italic",children:"No hay registros para esta fecha."})}),!S&&o.map(N=>{var Q,ce,oe,Je,it;const{hora:I}=dn(N.created_at),$=(Q=N.tipo_movimiento)==null?void 0:Q.tipo,K=Ya(N.valor,$),B=ur(N.valor,$),V=((ce=N.paciente)==null?void 0:ce.nombres)||"N/A",F=((oe=N.medico)==null?void 0:oe.nombre)||"N/A";let ne="bg-gray-100 text-gray-800";return $==="Ingreso"?ne="bg-green-100 text-green-800":$==="Egreso"?ne="bg-red-100 text-red-800":$==="Ajuste"&&(ne="bg-yellow-100 text-yellow-800"),f.jsxs("tr",{className:"hover:bg-gray-50 transition-colors duration-100",children:[f.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-gray-600",children:((Je=N.usuario)==null?void 0:Je.nombre)||"N/A"}),f.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-gray-500",children:I}),f.jsx("td",{className:"px-3 py-2 whitespace-nowrap",children:f.jsx("span",{className:`px-2 py-0.5 inline-flex text-xs leading-5 font-semibold rounded-full ${ne}`,children:$||"N/A"})}),f.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-gray-800",children:((it=N.tipo_movimiento)==null?void 0:it.nombre)||"N/A"}),f.jsx("td",{className:"px-3 py-2 text-sm text-gray-600 max-w-xs truncate",title:N.descripcion,children:N.descripcion||"-"}),f.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-gray-600",children:V}),f.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-gray-600",children:F}),f.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-gray-600",children:N.forma_pago||"N/A"}),f.jsx("td",{className:`px-3 py-2 whitespace-nowrap text-sm text-right font-medium ${K}`,children:B}),f.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-center text-sm font-medium",children:f.jsx("button",{onClick:()=>Me(N.id),disabled:S,title:"Eliminar Registro",className:"text-red-500 hover:text-red-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})})]},N.id)})]}),f.jsx("tfoot",{className:"bg-gray-150",children:f.jsxs("tr",{children:[f.jsx("td",{colSpan:8,className:"px-3 py-2 text-right text-sm font-semibold text-gray-700",children:"Total del Da:"}),f.jsx("td",{className:`px-3 py-2 text-right text-sm font-bold ${E>=0?"text-green-700":"text-red-700"}`,children:Ct(E)}),f.jsx("td",{className:"px-3 py-3"})]})})]})})]})]})]}),ie&&f.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-200 space-y-6",children:[f.jsx("h2",{className:"overflow-x-auto text-lg font-semibold text-raspberry-900 mb-3",children:"   Historial y Anlisis"}),f.jsx(dr,{}),w&&f.jsx("div",{className:"text-center py-10",children:f.jsx("p",{className:"text-sm text-gray-500 italic",children:"Cargando historial..."})}),!w&&ue.anos.length===0&&f.jsxs("div",{className:"text-center py-10 bg-white rounded-lg shadow border border-gray-200",children:[f.jsx("p",{className:"text-md text-gray-600",children:"No se encontraron registros para el perodo y filtros seleccionados."}),f.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Intente ajustar las fechas o los filtros."})]}),!w&&ue.anos.length>0&&f.jsxs("div",{className:"space-y-8",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6 items-stretch",children:[f.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-md border border-gray-200 flex flex-col h-full",children:[f.jsx("h3",{className:"text-lg font-bold text-gray-800 text-center mb-4",children:" Ingresos por Categora"}),((Qt=(rt=(hr=(Va=Oe.ingresosPorCategoria)==null?void 0:Va.datasets)==null?void 0:hr[0])==null?void 0:rt.data)==null?void 0:Qt.length)>0?f.jsxs("div",{className:"space-y-6 flex flex-col flex-grow",children:[f.jsx("div",{className:"h-48 flex-shrink-0",children:f.jsx(Nd,{data:Oe.ingresosPorCategoria,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{callbacks:{label:function(N){const I=N.dataset.data.reduce((B,V)=>B+V,0),$=N.raw,K=I>0?Math.round($/I*100):0;return`${N.label}: $${$.toLocaleString()} (${K}%)`}}}}}})}),f.jsx("div",{className:"overflow-x-auto rounded-lg border border-gray-100 flex-shrink-0",children:f.jsxs("table",{className:"min-w-full text-sm divide-y divide-gray-200",children:[f.jsx("thead",{className:"bg-gray-50",children:f.jsxs("tr",{children:[f.jsx("th",{className:"px-4 py-2 text-left font-semibold text-gray-600",children:"Categora"}),f.jsx("th",{className:"px-4 py-2 text-right font-semibold text-gray-600",children:"Monto"}),f.jsx("th",{className:"px-4 py-2 text-right font-semibold text-gray-600",children:"% del Total"})]})}),f.jsx("tbody",{className:"divide-y divide-gray-100",children:(()=>{const N=Oe.ingresosPorCategoria,I=N.labels||[],$=N.datasets[0].data||[],K=$.reduce((V,F)=>V+F,0),B=I.map((V,F)=>({label:V,value:$[F],percentage:K>0?$[F]/K*100:0})).sort((V,F)=>F.value-V.value);return f.jsxs(f.Fragment,{children:[B.map((V,F)=>f.jsxs("tr",{className:F%2===0?"bg-white":"bg-gray-50",children:[f.jsx("td",{className:"px-4 py-2 font-medium text-gray-700",children:V.label}),f.jsxs("td",{className:"px-4 py-2 text-right",children:["$",V.value.toLocaleString()]}),f.jsxs("td",{className:"px-4 py-2 text-right",children:[V.percentage.toFixed(1),"%"]})]},F)),K>0&&f.jsxs("tr",{className:"bg-green-50 font-semibold text-green-800",children:[f.jsx("td",{className:"px-4 py-2",children:"Total Ingresos"}),f.jsxs("td",{className:"px-4 py-2 text-right",children:["$",K.toLocaleString()]}),f.jsx("td",{className:"px-4 py-2 text-right",children:"100%"})]})]})})()})]})}),f.jsxs("div",{className:"p-4 bg-green-50 border border-green-200 rounded-xl mt-auto flex-shrink-0",children:[f.jsx("h4",{className:"text-green-900 font-bold mb-2",children:" Insights de Ingresos:"}),f.jsx("ul",{className:"space-y-2 text-green-800 text-sm",children:(()=>{const N=Oe.ingresosPorCategoria,I=N.labels||[],$=N.datasets[0].data||[],K=$.reduce((F,ne)=>F+ne,0);if(K===0)return f.jsx("li",{children:"No hay datos para generar insights."});const B=I.map((F,ne)=>({label:F,value:$[ne],percentage:K>0?$[ne]/K*100:0})).sort((F,ne)=>ne.value-F.value),V=[];if(B.length>0&&V.push(` La categora principal es **${B[0].label}**, aportando el ${B[0].percentage.toFixed(1)}% del total ($${B[0].value.toLocaleString()}).`),B.length>=3){const F=B.slice(0,3).reduce((ne,Q)=>ne+Q.percentage,0);F>80?V.push(` Ms del 80% de los ingresos (${F.toFixed(1)}%) proviene de solo **${B.slice(0,3).map(ne=>ne.label).join(", ")}**. Considera diversificar.`):V.push(` Buena diversificacin: Las 3 categoras principales suman el ${F.toFixed(1)}% del total.`)}else B.length>0&&V.push(` Los ingresos se concentran en ${B.length} categor${B.length>1?"as":"a"}.`);if(B.length>=2){const F=B[1].value>0?B[0].value/B[1].value:1/0;F>=2&&F!==1/0&&V.push(` **${B[0].label}** genera ${F.toFixed(1)} veces ms ingresos que **${B[1].label}**.`)}return V.push(` **Total de ingresos:** $${K.toLocaleString()}`),V.map((F,ne)=>f.jsxs("li",{className:"flex items-start gap-1.5",children:[f.jsx("span",{className:"mt-0.5 text-base",children:""}),f.jsx("span",{dangerouslySetInnerHTML:{__html:F}})]},ne))})()})]})]}):f.jsx("p",{className:"text-sm text-gray-500 text-center italic mt-8 flex-grow flex items-center justify-center",children:"No hay datos de ingresos por categora disponibles"})]}),f.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-md border border-gray-200 flex flex-col h-full",children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-800 text-center mb-4",children:"Egresos por Categora"}),((Zt=(Ot=(Ge=(Ht=Oe.egresosPorCategoria)==null?void 0:Ht.datasets)==null?void 0:Ge[0])==null?void 0:Ot.data)==null?void 0:Zt.length)>0?f.jsxs("div",{className:"space-y-6 flex flex-col flex-grow",children:[f.jsx("div",{className:"h-48 flex-shrink-0",children:f.jsx(Nd,{data:Oe.egresosPorCategoria,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{callbacks:{label:function(N){const I=N.dataset.data.reduce((B,V)=>B+V,0),$=N.raw,K=I>0?Math.round($/I*100):0;return`${N.label}: $${$.toLocaleString()} (${K}%)`}}}}}})}),f.jsx("div",{className:"overflow-x-auto rounded-lg border border-gray-100 flex-shrink-0",children:f.jsxs("table",{className:"min-w-full text-sm divide-y divide-gray-200",children:[f.jsx("thead",{className:"bg-gray-50",children:f.jsxs("tr",{children:[f.jsx("th",{className:"px-4 py-2 text-left font-semibold text-gray-600",children:"Categora"}),f.jsx("th",{className:"px-4 py-2 text-right font-semibold text-gray-600",children:"Monto"}),f.jsx("th",{className:"px-4 py-2 text-right font-semibold text-gray-600",children:"% del Total"})]})}),f.jsx("tbody",{className:"divide-y divide-gray-100",children:(()=>{const N=Oe.egresosPorCategoria,I=N.labels||[],$=N.datasets[0].data||[],K=$.reduce((V,F)=>V+F,0),B=I.map((V,F)=>({label:V,value:$[F],percentage:K>0?$[F]/K*100:0})).sort((V,F)=>F.value-V.value);return f.jsxs(f.Fragment,{children:[B.map((V,F)=>f.jsxs("tr",{className:F%2===0?"bg-white":"bg-gray-50",children:[f.jsx("td",{className:"px-4 py-2 font-medium text-gray-700",children:V.label}),f.jsxs("td",{className:"px-4 py-2 text-right",children:["$",V.value.toLocaleString()]}),f.jsxs("td",{className:"px-4 py-2 text-right",children:[V.percentage.toFixed(1),"%"]})]},F)),K>0&&f.jsxs("tr",{className:"bg-red-50 font-semibold text-red-800",children:[f.jsx("td",{className:"px-4 py-2",children:"Total Egresos"}),f.jsxs("td",{className:"px-4 py-2 text-right",children:["$",K.toLocaleString()]}),f.jsx("td",{className:"px-4 py-2 text-right",children:"100%"})]})]})})()})]})}),f.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4 mt-auto flex-shrink-0",children:[f.jsx("h4",{className:"font-semibold text-red-900 mb-2",children:" Anlisis de Gastos"}),f.jsx("ul",{className:"space-y-2 text-sm text-red-800",children:(()=>{const N=Oe.egresosPorCategoria,I=N.labels||[],$=N.datasets[0].data||[],K=$.reduce((F,ne)=>F+ne,0);if(K===0)return f.jsx("li",{children:"No hay datos para generar insights."});const B=I.map((F,ne)=>({label:F,value:$[ne],percentage:K>0?$[ne]/K*100:0})).sort((F,ne)=>ne.value-F.value),V=[];if(B.length>0&&V.push(` El mayor gasto es **${B[0].label}**, representando el ${B[0].percentage.toFixed(1)}% del total ($${B[0].value.toLocaleString()}).`),B.length>=3){const F=B.slice(0,3).reduce((ne,Q)=>ne+Q.percentage,0);F>75?V.push(` El ${F.toFixed(1)}% de los gastos se concentra en **${B.slice(0,3).map(ne=>ne.label).join(", ")}**. Evala si es posible optimizar.`):V.push(` Gastos diversificados: Las 3 categoras principales suman el ${F.toFixed(1)}%.`)}else B.length>0&&V.push(` Los gastos se distribuyen en ${B.length} categor${B.length>1?"as":"a"}.`);if(B.length>1){const F=B[B.length-1];F&&F.percentage<5&&V.push(` **${F.label}** tiene un impacto bajo en los gastos (${F.percentage.toFixed(1)}%).`)}return V.push(` **Total de egresos:** $${K.toLocaleString()}`),V.map((F,ne)=>f.jsxs("li",{className:"flex items-start gap-1.5",children:[f.jsx("span",{className:"mt-0.5 text-base",children:""}),f.jsx("span",{dangerouslySetInnerHTML:{__html:F}})]},ne))})()})]})]}):f.jsx("p",{className:"text-sm text-gray-500 text-center italic mt-8 flex-grow flex items-center justify-center",children:"No hay datos de egresos por categora disponibles"})]}),f.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-md border border-gray-200 flex flex-col h-full md:col-span-2 xl:col-span-1",children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-800 text-center mb-4",children:"Ingresos vs Egresos"}),(_s=(qa=(Ga=(Cn=Oe.distribucionGeneral)==null?void 0:Cn.datasets)==null?void 0:Ga[0])==null?void 0:qa.data)!=null&&_s.some(N=>N>0)?f.jsxs("div",{className:"space-y-6 flex flex-col flex-grow",children:[f.jsx("div",{className:"h-48 flex-shrink-0",children:f.jsx(Nd,{data:Oe.distribucionGeneral,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom",labels:{padding:15,boxWidth:12}},tooltip:{callbacks:{label:function(N){const I=N.dataset.data.reduce((B,V)=>B+V,0),$=N.raw,K=I>0?Math.round($/I*100):0;return`${N.label}: $${$.toLocaleString()} (${K}%)`}}}}}})}),f.jsx("div",{className:"overflow-x-auto rounded-lg border border-gray-100 flex-shrink-0",children:f.jsxs("table",{className:"min-w-full text-sm divide-y divide-gray-200",children:[f.jsx("thead",{className:"bg-gray-50",children:f.jsxs("tr",{children:[f.jsx("th",{className:"px-4 py-2 text-left font-semibold text-gray-600",children:"Concepto"}),f.jsx("th",{className:"px-4 py-2 text-right font-semibold text-gray-600",children:"Monto"}),f.jsx("th",{className:"px-4 py-2 text-right font-semibold text-gray-600",children:"% del Total"})]})}),f.jsx("tbody",{className:"divide-y divide-gray-100",children:(()=>{var F,ne;const N=Oe.distribucionGeneral,I=N.labels||[],$=N.datasets[0].data||[],K=$.reduce((Q,ce)=>Q+ce,0),B=I.map((Q,ce)=>({label:Q,value:$[ce],percentage:K>0?$[ce]/K*100:0,bgColor:/ingreso/i.test(Q)?"bg-green-50":/egreso/i.test(Q)?"bg-red-50":"bg-white",textColor:/ingreso/i.test(Q)?"text-green-800":/egreso/i.test(Q)?"text-red-800":"text-gray-700"})).sort((Q,ce)=>ce.value-Q.value),V=(((F=B.find(Q=>/ingreso/i.test(Q.label)))==null?void 0:F.value)||0)-(((ne=B.find(Q=>/egreso/i.test(Q.label)))==null?void 0:ne.value)||0);return f.jsxs(f.Fragment,{children:[B.map((Q,ce)=>f.jsxs("tr",{className:`${Q.bgColor} hover:bg-gray-100`,children:[f.jsx("td",{className:`px-4 py-2 font-medium ${Q.textColor}`,children:Q.label}),f.jsxs("td",{className:`px-4 py-2 text-right ${Q.textColor}`,children:["$",Q.value.toLocaleString()]}),f.jsxs("td",{className:`px-4 py-2 text-right ${Q.textColor}`,children:[Q.percentage.toFixed(1),"%"]})]},ce)),f.jsxs("tr",{className:`font-semibold ${V>=0?"bg-green-100 text-green-900":"bg-red-100 text-red-900"}`,children:[f.jsx("td",{className:"px-4 py-2",children:"Balance (Ingresos - Egresos)"}),f.jsxs("td",{className:"px-4 py-2 text-right",colSpan:2,children:["$",V.toLocaleString()]})]})]})})()})]})}),f.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-xl p-4 mt-auto flex-shrink-0",children:[f.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:" Anlisis de Balance"}),f.jsx("ul",{className:"space-y-2 text-sm text-gray-700",children:(()=>{const N=Oe.distribucionGeneral,I=N.labels||[],$=N.datasets[0].data||[],K=$.reduce((Q,ce)=>Q+ce,0);if(K===0)return f.jsx("li",{children:"No hay datos para generar insights."});const B=I.map((Q,ce)=>({label:Q,value:$[ce],percentage:K>0?$[ce]/K*100:0})).sort((Q,ce)=>ce.value-Q.value),V=[],F=B.find(Q=>/ingreso/i.test(Q.label)),ne=B.find(Q=>/egreso/i.test(Q.label));if(F&&ne){const Q=F.value-ne.value,ce=Q>=0?"+":"-",oe=Q>=0?"text-green-700 font-semibold":"text-red-700 font-semibold";V.push(` Comparativa: Ingresos (${F.percentage.toFixed(1)}%) vs Egresos (${ne.percentage.toFixed(1)}%).`),V.push(Q>=0?` Supervit! El balance es <span class="${oe}">${ce}$${Math.abs(Q).toLocaleString()}</span>.`:` Dficit! El balance es <span class="${oe}">${ce}$${Math.abs(Q).toLocaleString()}</span>. Revisa tus gastos.`)}else F?V.push(` Solo se registraron ingresos por $${F.value.toLocaleString()}.`):ne&&V.push(` Solo se registraron egresos por $${ne.value.toLocaleString()}.`);return V.push(` **Flujo total (Ingresos + Egresos):** $${K.toLocaleString()}`),V.map((Q,ce)=>f.jsxs("li",{className:"flex items-start gap-1.5",children:[f.jsx("span",{className:"mt-0.5 text-base",children:""}),f.jsx("span",{dangerouslySetInnerHTML:{__html:Q}})]},ce))})()})]})]}):f.jsx("p",{className:"text-sm text-gray-500 text-center italic mt-8 flex-grow flex items-center justify-center",children:"Sin datos para comparar Ingresos vs Egresos"})]}),f.jsxs("div",{className:"md:col-span-2 xl:col-span-3 bg-white p-6 rounded-lg shadow border border-gray-200 space-y-6",children:[f.jsx("h3",{className:"text-md font-semibold text-gray-700 mb-3",children:"Evolucin del Balance"}),((bs=(Bn=(Ka=(oo=Oe.balanceEvolucion)==null?void 0:oo.datasets)==null?void 0:Ka[0])==null?void 0:Bn.data)==null?void 0:bs.length)>0?f.jsx(f.Fragment,{children:f.jsx("div",{className:"h-60",children:f.jsx(TO,{data:{...Oe.balanceEvolucion,datasets:[...Oe.balanceEvolucion.datasets||[],Oe.ingresosAcumulado&&{label:"Ingresos Acumulados",data:Oe.ingresosAcumulado.datasets[0].data,borderColor:"rgb(34, 197, 94)",backgroundColor:"rgba(34, 197, 94, 0.1)",fill:!1,tension:.3,yAxisID:"y"},Oe.egresosAcumulado&&{label:"Egresos Acumulados",data:Oe.egresosAcumulado.datasets[0].data,borderColor:"rgb(239, 68, 68)",backgroundColor:"rgba(239, 68, 68, 0.1)",fill:!1,tension:.3,yAxisID:"y"}].filter(Boolean)},options:{responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},scales:{y:{beginAtZero:!0,position:"left",title:{display:!0,text:"Monto Acumulado"}},x:{title:{display:!0,text:"Fecha"}}},plugins:{legend:{display:!0,position:"bottom"},tooltip:{callbacks:{label:N=>`${N.dataset.label}: $${N.parsed.y.toLocaleString()}`}}}}})})}):f.jsx("p",{className:"text-sm text-gray-500 text-center italic mt-8",children:"Datos insuficientes para mostrar la evolucin"})]})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-lg font-semibold text-raspberry-900 mb-4",children:"Detalle del Historial"}),f.jsx("div",{className:"space-y-6",children:ue.anos.map(N=>f.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border border-gray-200",children:[f.jsxs("h4",{className:"text-lg font-semibold text-gray-800 mb-3 flex justify-between items-center",children:[f.jsxs("span",{children:["Ao ",N.ano]}),f.jsxs("span",{className:`text-sm font-bold ${N.balanceAnual>=0?"text-green-600":"text-red-600"}`,children:["Balance Anual: ",Ct(N.balanceAnual)]})]}),f.jsx("div",{className:"space-y-4",children:N.meses.map(I=>f.jsxs("details",{className:"border-b border-gray-100 last:border-b-0 pb-2 mb-2",children:[f.jsxs("summary",{className:"cursor-pointer text-md font-medium text-gray-700 hover:text-raspberry-800 flex justify-between items-center py-1",children:[f.jsx("span",{className:"capitalize",children:I.nombreMes}),f.jsxs("span",{className:`text-sm font-semibold ${I.balanceMes>=0?"text-green-600":"text-red-600"}`,children:["Balance Mes: ",Ct(I.balanceMes)]})]}),I.registros.length>0?f.jsx("div",{className:"overflow-x-auto mt-2 pl-4 pr-1",children:f.jsxs("table",{className:"min-w-full divide-y divide-gray-200 text-sm",children:[f.jsx("thead",{className:"bg-gray-50",children:f.jsxs("tr",{children:[f.jsx("th",{className:"px-2 py-1.5 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fecha"}),f.jsx("th",{className:"px-2 py-1.5 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tipo"}),f.jsx("th",{className:"px-2 py-1.5 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cat."}),f.jsx("th",{className:"px-2 py-1.5 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Desc."}),f.jsx("th",{className:"px-2 py-1.5 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Paciente"}),f.jsx("th",{className:"px-2 py-1.5 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Mdico"}),f.jsx("th",{className:"px-2 py-1.5 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Valor"})]})}),f.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:I.registros.map($=>{var F,ne,Q,ce;const{fecha:K}=dn($.fecha),B=(F=$.tipo_movimiento)==null?void 0:F.tipo,V=Ya($.valor,B);return f.jsxs("tr",{className:"hover:bg-gray-50",children:[f.jsx("td",{className:"px-2 py-1.5 whitespace-nowrap",children:K}),f.jsx("td",{className:"px-2 py-1.5",children:f.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${B==="Ingreso"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:B})}),f.jsx("td",{className:"px-2 py-1.5",children:((ne=$.categoria)==null?void 0:ne.nombre)||"-"}),f.jsx("td",{className:"px-2 py-1.5 truncate max-w-xs",title:$.descripcion,children:$.descripcion||"-"}),f.jsx("td",{className:"px-2 py-1.5",children:((Q=$.paciente)==null?void 0:Q.nombre)||"-"}),f.jsx("td",{className:"px-2 py-1.5",children:((ce=$.medico)==null?void 0:ce.nombre)||"-"}),f.jsx("td",{className:`px-2 py-1.5 text-right whitespace-nowrap font-medium ${V}`,children:Ct($.valor)})]},$.id)})})]})}):f.jsx("p",{className:"text-xs text-gray-400 italic pl-4 mt-1",children:"No hay registros para este mes."})]},I.mes))})]},N.ano))})]})]})]})]})}Xi.register(Pr,yp,mp,Da,Na,ea,gp);const J_=({activeTab:t})=>{const[e,n]=D.useState([]),[s,r]=D.useState(!0),[i,o]=D.useState(!1),[a,l]=D.useState(null),[u,d]=D.useState(""),[p,g]=D.useState(!1),[v,_]=D.useState(!1),[k,S]=D.useState([]),[x,w]=D.useState([]),[j,E]=D.useState({dni:"",nombres:"",apellido_paterno:"",apellido_materno:"",fecha_nacimiento:"",sexo:"M",celular:"",telefono_fijo:"",correo:"",direccion:"",distrito:"",grupo_sanguineo:"",alergias:"",enfermedades_cronicas:"",medicamentos_actuales:"",seguro_medico:"",estado_civil:"",ocupacion:"",referencia:"",historial_dental:""}),M=P=>{if(!P)return"N/A";const Y=new Date(P),L=new Date;let pe=L.getFullYear()-Y.getFullYear();const nt=L.getMonth()-Y.getMonth();return(nt<0||nt===0&&L.getDate()<Y.getDate())&&pe--,`${pe} aos`},O=()=>{const P=[{range:"0-18 aos",min:0,max:18,count:0},{range:"19-30 aos",min:19,max:30,count:0},{range:"31-45 aos",min:31,max:45,count:0},{range:"46-60 aos",min:46,max:60,count:0},{range:"60+ aos",min:61,max:200,count:0}];return e.forEach(Y=>{if(!Y.fecha_nacimiento)return;const L=new Date(Y.fecha_nacimiento),pe=new Date().getFullYear()-L.getFullYear(),nt=P.find(ft=>pe>=ft.min&&pe<=ft.max);nt&&nt.count++}),P},A=()=>{const P={};return e.forEach(Y=>{const L=Y.distrito||"No especificado";P[L]=(P[L]||0)+1}),Object.entries(P).map(([Y,L])=>({name:Y,count:L})).sort((Y,L)=>L.count-Y.count)},T=()=>{const P={M:0,F:0,O:0};return e.forEach(Y=>{P[Y.sexo]++}),Object.entries(P).map(([Y,L])=>({type:Y,count:L}))},q=()=>{const P={};return e.forEach(Y=>{const L=Y.ciudad||"No especificado";P[L]=(P[L]||0)+1}),Object.entries(P).map(([Y,L])=>({name:Y,count:L})).sort((Y,L)=>L.count-Y.count)};D.useEffect(()=>{t==="pacientes"&&z()},[t]);const z=async()=>{try{r(!0);const{data:P,error:Y}=await Te.from("pacientes").select("*").order("nombres",{ascending:!0});if(Y)throw Y;n(P||[])}catch(P){console.error("Error al cargar pacientes:",P),le.error("Error al cargar lista de pacientes")}finally{r(!1)}},se=async()=>["Ancn","Ate","Barranco","Brea","Carabayllo","Chaclacayo","Chorrillos","Cieneguilla","Comas","El Agustino","Independencia","Jess Mara","La Molina","La Victoria","Lima (Cercado)","Lince","Los Olivos","Lurigancho-Chosica","Lurn","Magdalena del Mar","Miraflores","Pachacmac","Pucusana","Pueblo Libre","Puente Piedra","Punta Hermosa","Punta Negra","Rmac","San Bartolo","San Borja","San Isidro","San Juan de Lurigancho","San Juan de Miraflores","San Luis","San Martn de Porres","San Miguel","Santa Anita","Santa Mara del Mar","Santa Rosa","Santiago de Surco","Surquillo","Villa El Salvador","Villa Mara del Triunfo","Surco","Otros"].sort((P,Y)=>P.localeCompare(Y)),ie=async()=>["Abancay","Arequipa","Ayacucho","Cajamarca","Callao","Cerro de Pasco","Chachapoyas","Chiclayo","Cusco","Huacho","Huancavelica","Huancayo","Huaraz","Hunuco","Ica","Iquitos","Lima","Moquegua","Moyobamba","Piura","Puerto Maldonado","Pucallpa","Puno","Tacna","Trujillo","Tumbes"].sort((P,Y)=>P.localeCompare(Y));D.useEffect(()=>{(async()=>{const[Y,L]=await Promise.all([se(),ie()]);S(Y),w(L)})()},[]),D.useEffect(()=>{z()},[]);const me=P=>{l(P),_(!0)},ue=P=>{const{name:Y,value:L}=P.target;E(pe=>({...pe,[Y]:L}))},he=P=>{P.preventDefault(),fe()},fe=async()=>{try{r(!0);const P={...j,activo:!0};let Y;if(a){const{data:L,error:pe}=await Te.from("pacientes").update(P).eq("id",a.id).select();if(pe)throw pe;Y=L,le.success("Paciente actualizado correctamente")}else{const{data:L,error:pe}=await Te.from("pacientes").insert([P]).select();if(pe)throw pe.code==="23505"?new Error("Ya existe un paciente con este DNI"):pe;Y=L,le.success("Paciente guardado correctamente")}z(),J(),o(!1)}catch(P){console.error("Error al guardar paciente:",P),le.error(P.message||"Error al guardar paciente")}finally{r(!1)}},ye=P=>{E({dni:P.dni||"",nombres:P.nombres,apellido_paterno:P.apellido_paterno,apellido_materno:P.apellido_materno||"",fecha_nacimiento:P.fecha_nacimiento||"",sexo:P.sexo||"M",celular:P.celular||"",telefono_fijo:P.telefono_fijo||"",correo:P.correo||"",direccion:P.direccion||"",ciudad:P.ciudad||"",distrito:P.distrito||"",grupo_sanguineo:P.grupo_sanguineo||"",alergias:P.alergias||"",enfermedades_cronicas:P.enfermedades_cronicas||"",medicamentos_actuales:P.medicamentos_actuales||"",seguro_medico:P.seguro_medico||"",estado_civil:P.estado_civil||"",ocupacion:P.ocupacion||"",referencia:P.referencia||"",historial_dental:P.historial_dental||""}),l(P),o(!0)},G=async P=>{if(window.confirm("Est seguro de eliminar este paciente?"))try{const{error:Y}=await Te.from("pacientes").delete().eq("id",P);if(Y)throw Y;le.success("Paciente eliminado correctamente"),z(),(a==null?void 0:a.id)===P&&l(null)}catch(Y){console.error("Error al eliminar paciente:",Y),le.error(Y.message||"Error al eliminar paciente")}},J=()=>{E({dni:"",nombres:"",apellido_paterno:"",apellido_materno:"",fecha_nacimiento:"",sexo:"M",celular:"",telefono_fijo:"",correo:"",direccion:"",ciudad:"",distrito:"",grupo_sanguineo:"",alergias:"",enfermedades_cronicas:"",medicamentos_actuales:"",seguro_medico:"",estado_civil:"",ocupacion:"",referencia:"",historial_dental:""}),l(null)},te=D.useMemo(()=>e.filter(P=>{var L,pe,nt,ft,ps,ms,Sn,ar;const Y=u.toLowerCase();return P.nombres.toLowerCase().includes(Y)||P.apellido_paterno.toLowerCase().includes(Y)||((pe=(L=P.apellido_materno)==null?void 0:L.toLowerCase())==null?void 0:pe.includes(Y))||!1||((ft=(nt=P.dni)==null?void 0:nt.toLowerCase())==null?void 0:ft.includes(Y))||!1||((ms=(ps=P.celular)==null?void 0:ps.toLowerCase())==null?void 0:ms.includes(Y))||!1||((ar=(Sn=P.correo)==null?void 0:Sn.toLowerCase())==null?void 0:ar.includes(Y))||!1}),[e,u]),W=p?te:te.slice(0,15),ae=()=>{g(!p)};return f.jsxs("div",{className:"bg-gray-50 rounded-lg shadow-md overflow-hidden transition-all duration-300",children:[f.jsx("div",{className:"bg-gradient-to-r from-[#801461] to-[#5A0D45] p-6 text-white",children:f.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center space-y-4 sm:space-y-0",children:[f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx("h2",{className:"text-xl font-bold",children:"Gestin de Pacientes"}),f.jsxs("span",{className:"bg-white text-[#5A0D45] px-2 py-1 rounded-full text-xs font-semibold",children:[e.filter(P=>P.activo).length," activos"]})]}),f.jsxs("button",{onClick:()=>{J(),o(!0)},className:"px-4 py-2 text-sm font-medium text-white rounded-md bg-[#9D1C7A] hover:bg-[#801461] transition-all duration-300 shadow-md flex items-center justify-center",children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Nuevo Paciente"]})]})}),f.jsx("div",{className:"px-4 py-6 mx-auto max-w-7xl sm:px-6 lg:px-8",children:f.jsxs("div",{className:"mb-6 flex flex-col sm:flex-row gap-4",children:[f.jsx("div",{className:"flex-1",children:f.jsx("input",{type:"text",placeholder:"Buscar pacientes...",value:u,onChange:P=>d(P.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})}),f.jsx("button",{onClick:ae,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 flex items-center justify-center",children:p?"Mostrar Menos":"Mostrar Todos"})]})}),f.jsx("div",{className:"overflow-x-auto bg-white rounded-b-lg",children:f.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[f.jsx("thead",{className:"bg-[#F8F5F7]",children:f.jsxs("tr",{children:[f.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-[#801461] uppercase tracking-wider",children:"Paciente"}),f.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-[#801461] uppercase tracking-wider hidden sm:table-cell",children:"DNI"}),f.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-[#801461] uppercase tracking-wider hidden md:table-cell",children:"Edad"}),f.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-[#801461] uppercase tracking-wider hidden lg:table-cell",children:"Telfono"}),f.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-[#801461] uppercase tracking-wider hidden xl:table-cell",children:"Acciones"})]})}),f.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.length===0?f.jsx("tr",{children:f.jsx("td",{colSpan:6,className:"px-6 py-4 text-center text-sm text-gray-500",children:f.jsxs("div",{className:"flex flex-col items-center justify-center py-6",children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 text-[#B58AAD] mb-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),f.jsx("p",{className:"text-[#5A0D45]",children:"No se encontraron pacientes"}),f.jsx("button",{onClick:()=>{J(),o(!0)},className:"mt-2 text-sm text-[#801461] hover:text-[#5A0D45] font-medium underline",children:"Agregar nuevo paciente"})]})})}):W.map(P=>f.jsxs("tr",{className:"hover:bg-[#F8F5F7] transition-colors duration-150 cursor-pointer",onClick:()=>me(P),children:[f.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:`${P.nombres} ${P.apellido_paterno} ${P.apellido_materno||""}`}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 hidden sm:table-cell",children:P.dni||"-"}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 hidden md:table-cell",children:P.fecha_nacimiento?M(P.fecha_nacimiento):"N/A"}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 hidden lg:table-cell",children:P.celular||"-"}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium hidden xl:table-cell",children:f.jsxs("div",{className:"flex justify-center space-x-2",children:[f.jsx("button",{onClick:Y=>{Y.stopPropagation(),ye(P)},className:"text-primary-600 hover:text-primary-900",style:{color:"#801461"},children:f.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),f.jsx("button",{onClick:Y=>{Y.stopPropagation(),G(P.id)},className:"text-red-600 hover:text-red-900",children:f.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})})]},P.id))})]})}),i&&f.jsx("div",{className:"fixed inset-0 bg-[#595959] bg-opacity-60 flex items-center justify-center p-4 z-50 backdrop-blur-sm",children:f.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl max-h-[90vh] overflow-y-auto flex flex-col border border-[#E0CDD9]",children:[f.jsxs("div",{className:"sticky top-0 px-6 py-4 border-b border-[#E0CDD9] bg-gradient-to-r from-[#801461] to-[#5A0D45] z-10 flex justify-between items-center",children:[f.jsxs("h2",{className:"text-lg font-medium text-white flex items-center",children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"})}),a?"Editar Paciente":"Nuevo Paciente"]}),f.jsx("button",{onClick:()=>{o(!1),J()},className:"text-white hover:text-[#E0CDD9] transition-colors duration-200",children:f.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),f.jsxs("form",{onSubmit:he,className:"p-6",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsxs("div",{className:"space-y-4",children:[f.jsx("h3",{className:"text-lg font-medium text-[#5A0D45]",children:"Informacin Personal"}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-[#5A0D45]",children:"DNI *"}),f.jsx("input",{type:"text",name:"dni",value:j.dni,onChange:ue,className:"mt-1 block w-full rounded-md border-[#E0CDD9] shadow-sm focus:border-[#801461] focus:ring-[#801461]",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-[#5A0D45]",children:"Nombres *"}),f.jsx("input",{type:"text",name:"nombres",value:j.nombres,onChange:ue,className:"mt-1 block w-full rounded-md border-[#E0CDD9] shadow-sm focus:border-[#801461] focus:ring-[#801461]",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-[#5A0D45]",children:"Apellido Paterno *"}),f.jsx("input",{type:"text",name:"apellido_paterno",value:j.apellido_paterno,onChange:ue,className:"mt-1 block w-full rounded-md border-[#E0CDD9] shadow-sm focus:border-[#801461] focus:ring-[#801461]",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-[#5A0D45]",children:"Apellido Materno"}),f.jsx("input",{type:"text",name:"apellido_materno",value:j.apellido_materno||"",onChange:ue,className:"mt-1 block w-full rounded-md border-[#E0CDD9] shadow-sm focus:border-[#801461] focus:ring-[#801461]"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-[#5A0D45]",children:"Fecha de Nacimiento "}),f.jsx("input",{type:"date",name:"fecha_nacimiento",value:j.fecha_nacimiento||"",onChange:ue,className:"mt-1 block w-full rounded-md border-[#E0CDD9] shadow-sm focus:border-[#801461] focus:ring-[#801461]"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-[#5A0D45]",children:"Sexo *"}),f.jsxs("select",{name:"sexo",value:j.sexo,onChange:ue,className:"mt-1 block w-full rounded-md border-[#E0CDD9] shadow-sm focus:border-[#801461] focus:ring-[#801461]",required:!0,children:[f.jsx("option",{value:"M",children:"Masculino"}),f.jsx("option",{value:"F",children:"Femenino"}),f.jsx("option",{value:"O",children:"Otro"})]})]})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsx("h3",{className:"text-lg font-medium text-[#5A0D45]",children:"Informacin de Contacto"}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-[#5A0D45]",children:"Celular"}),f.jsx("input",{type:"tel",name:"celular",value:j.celular||"",onChange:ue,className:"mt-1 block w-full rounded-md border-[#E0CDD9] shadow-sm focus:border-[#801461] focus:ring-[#801461]"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-[#5A0D45]",children:"Telfono Fijo"}),f.jsx("input",{type:"tel",name:"telefono_fijo",value:j.telefono_fijo||"",onChange:ue,className:"mt-1 block w-full rounded-md border-[#E0CDD9] shadow-sm focus:border-[#801461] focus:ring-[#801461]"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-[#5A0D45]",children:"Correo Electrnico"}),f.jsx("input",{type:"email",name:"correo",value:j.correo||"",onChange:ue,className:"mt-1 block w-full rounded-md border-[#E0CDD9] shadow-sm focus:border-[#801461] focus:ring-[#801461]"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-[#5A0D45]",children:"Ciudad *"}),f.jsxs("select",{name:"ciudad",value:j.ciudad||"",onChange:ue,className:"mt-1 block w-full rounded-md border-[#E0CDD9] shadow-sm focus:border-[#801461] focus:ring-[#801461]",required:!0,children:[f.jsx("option",{value:"",children:"Seleccione una ciudad"}),x.map(P=>f.jsx("option",{value:P,children:P},P))]})]}),j.ciudad==="Lima"?f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-[#5A0D45]",children:"Distrito"}),f.jsxs("select",{name:"distrito",value:j.distrito||"",onChange:ue,className:"mt-1 block w-full rounded-md border-[#E0CDD9] shadow-sm focus:border-[#801461] focus:ring-[#801461]",children:[f.jsx("option",{value:"",children:"Seleccione un distrito"}),k.map(P=>f.jsx("option",{value:P,children:P},P))]})]}):f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-[#5A0D45]",children:j.ciudad?`Distrito de ${j.ciudad}`:"Distrito"}),f.jsx("input",{type:"text",name:"distrito",value:j.distrito||"",onChange:ue,className:"mt-1 block w-full rounded-md border-[#E0CDD9] shadow-sm focus:border-[#801461] focus:ring-[#801461]",disabled:!j.ciudad})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-[#5A0D45]",children:"Direccin"}),f.jsx("input",{type:"text",name:"direccion",value:j.direccion||"",onChange:ue,className:"mt-1 block w-full rounded-md border-[#E0CDD9] shadow-sm focus:border-[#801461] focus:ring-[#801461]"})]})]})]}),f.jsxs("div",{className:"mt-6 space-y-4",children:[f.jsx("h3",{className:"text-lg font-medium text-[#5A0D45]",children:"Informacin Mdica"}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-[#5A0D45]",children:"Grupo Sanguneo"}),f.jsx("input",{type:"text",name:"grupo_sanguineo",value:j.grupo_sanguineo||"",onChange:ue,className:"mt-1 block w-full rounded-md border-[#E0CDD9] shadow-sm focus:border-[#801461] focus:ring-[#801461]"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-[#5A0D45]",children:"Alergias"}),f.jsx("textarea",{name:"alergias",value:j.alergias||"",onChange:ue,rows:2,className:"mt-1 block w-full rounded-md border-[#E0CDD9] shadow-sm focus:border-[#801461] focus:ring-[#801461]"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-[#5A0D45]",children:"Enfermedades Crnicas"}),f.jsx("textarea",{name:"enfermedades_cronicas",value:j.enfermedades_cronicas||"",onChange:ue,rows:2,className:"mt-1 block w-full rounded-md border-[#E0CDD9] shadow-sm focus:border-[#801461] focus:ring-[#801461]"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-[#5A0D45]",children:"Medicamentos Actuales"}),f.jsx("textarea",{name:"medicamentos_actuales",value:j.medicamentos_actuales||"",onChange:ue,rows:2,className:"mt-1 block w-full rounded-md border-[#E0CDD9] shadow-sm focus:border-[#801461] focus:ring-[#801461]"})]})]})]}),f.jsxs("div",{className:"mt-6 space-y-4",children:[f.jsx("h3",{className:"text-lg font-medium text-[#5A0D45]",children:"Informacin Adicional"}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-[#5A0D45]",children:"Seguro Mdico"}),f.jsx("input",{type:"text",name:"seguro_medico",value:j.seguro_medico||"",onChange:ue,className:"mt-1 block w-full rounded-md border-[#E0CDD9] shadow-sm focus:border-[#801461] focus:ring-[#801461]"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-[#5A0D45]",children:"Estado Civil"}),f.jsxs("select",{name:"estado_civil",value:j.estado_civil||"",onChange:ue,className:"mt-1 block w-full rounded-md border-[#E0CDD9] shadow-sm focus:border-[#801461] focus:ring-[#801461]",children:[f.jsx("option",{value:"",children:"Seleccionar..."}),f.jsx("option",{value:"Soltero",children:"Soltero(a)"}),f.jsx("option",{value:"Casado",children:"Casado(a)"}),f.jsx("option",{value:"Divorciado",children:"Divorciado(a)"}),f.jsx("option",{value:"Viudo",children:"Viudo(a)"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-[#5A0D45]",children:"Ocupacin"}),f.jsx("input",{type:"text",name:"ocupacion",value:j.ocupacion||"",onChange:ue,className:"mt-1 block w-full rounded-md border-[#E0CDD9] shadow-sm focus:border-[#801461] focus:ring-[#801461]"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-[#5A0D45]",children:"Referencia"}),f.jsx("input",{type:"text",name:"referencia",value:j.referencia||"",onChange:ue,className:"mt-1 block w-full rounded-md border-[#E0CDD9] shadow-sm focus:border-[#801461] focus:ring-[#801461]"})]}),f.jsxs("div",{className:"md:col-span-2",children:[f.jsx("label",{className:"block text-sm font-medium text-[#5A0D45]",children:"Historial Dental"}),f.jsx("textarea",{name:"historial_dental",value:j.historial_dental||"",onChange:ue,rows:3,className:"mt-1 block w-full rounded-md border-[#E0CDD9] shadow-sm focus:border-[#801461] focus:ring-[#801461]"})]})]})]}),f.jsxs("div",{className:"mt-6 flex justify-end space-x-3 border-t border-[#E0CDD9] pt-4",children:[f.jsx("button",{type:"button",onClick:()=>{o(!1),J()},className:"px-4 py-2 text-sm font-medium text-[#5A0D45] bg-[#F8F5F7] rounded-md hover:bg-[#E0CDD9] transition-colors duration-200",children:"Cancelar"}),f.jsx("button",{type:"submit",disabled:s,className:"px-4 py-2 text-sm font-medium text-white rounded-md bg-[#801461] hover:bg-[#5A0D45] transition-all duration-300 shadow-md disabled:opacity-50 disabled:cursor-not-allowed",children:s?"Guardando...":a?"Actualizar":"Guardar"})]})]})]})}),v&&a&&f.jsx("div",{className:"fixed inset-0 bg-[#801461] bg-opacity-80 flex items-center justify-center p-4 z-50 backdrop-blur-sm",children:f.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl max-h-[90vh] overflow-y-auto border border-[#E0CDD9]",children:[f.jsx("div",{className:"sticky top-0 px-6 py-4 border-b border-[#E0CDD9] bg-gradient-to-r from-[#801461] to-[#5A0D45] z-10",children:f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("h2",{className:"text-lg font-medium text-white",children:"Detalles del Paciente"}),f.jsx("button",{onClick:()=>_(!1),className:"text-white hover:text-[#E0CDD9] transition-colors duration-200",children:f.jsx("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),f.jsxs("div",{className:"p-6",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsxs("div",{className:"space-y-4",children:[f.jsx("h3",{className:"text-lg font-medium text-[#5A0D45]",children:"Informacin Personal"}),f.jsxs("div",{className:"bg-[#F8F5F7] rounded-lg p-4 space-y-3",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-[#5A0D45]",children:"DNI"}),f.jsx("p",{className:"mt-1 text-sm text-gray-900",children:a.dni||"-"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-[#5A0D45]",children:"Nombres Completos"}),f.jsx("p",{className:"mt-1 text-sm text-gray-900",children:`${a.nombres} ${a.apellido_paterno} ${a.apellido_materno||""}`})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-[#5A0D45]",children:"Fecha de Nacimiento"}),f.jsx("p",{className:"mt-1 text-sm text-gray-900",children:a.fecha_nacimiento?new Date(a.fecha_nacimiento).toLocaleDateString():"-"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-[#5A0D45]",children:"Edad"}),f.jsx("p",{className:"mt-1 text-sm text-gray-900",children:a.fecha_nacimiento?M(a.fecha_nacimiento):"N/A"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-[#5A0D45]",children:"Sexo"}),f.jsx("p",{className:"mt-1 text-sm text-gray-900",children:a.sexo==="M"?"Masculino":a.sexo==="F"?"Femenino":"Otro"})]})]})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsx("h3",{className:"text-lg font-medium text-[#5A0D45]",children:"Informacin de Contacto"}),f.jsxs("div",{className:"bg-[#F8F5F7] rounded-lg p-4 space-y-3",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-[#5A0D45]",children:"Celular"}),f.jsx("p",{className:"mt-1 text-sm text-gray-900",children:a.celular||"-"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-[#5A0D45]",children:"Telfono Fijo"}),f.jsx("p",{className:"mt-1 text-sm text-gray-900",children:a.telefono_fijo||"-"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-[#5A0D45]",children:"Correo Electrnico"}),f.jsx("p",{className:"mt-1 text-sm text-gray-900",children:a.correo||"-"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-[#5A0D45]",children:"Direccin"}),f.jsx("p",{className:"mt-1 text-sm text-gray-900",children:a.direccion||"-"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-[#5A0D45]",children:"Ciudad"}),f.jsx("p",{className:"mt-1 text-sm text-gray-900",children:a.ciudad||"-"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-[#5A0D45]",children:"Distrito"}),f.jsx("p",{className:"mt-1 text-sm text-gray-900",children:a.distrito||"-"})]})]})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsx("h3",{className:"text-lg font-medium text-[#5A0D45]",children:"Informacin Mdica"}),f.jsxs("div",{className:"bg-[#F8F5F7] rounded-lg p-4 space-y-3",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-[#5A0D45]",children:"Grupo Sanguneo"}),f.jsx("p",{className:"mt-1 text-sm text-gray-900",children:a.grupo_sanguineo||"-"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-[#5A0D45]",children:"Alergias"}),f.jsx("p",{className:"mt-1 text-sm text-gray-900",children:a.alergias||"-"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-[#5A0D45]",children:"Enfermedades Crnicas"}),f.jsx("p",{className:"mt-1 text-sm text-gray-900",children:a.enfermedades_cronicas||"-"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-[#5A0D45]",children:"Medicamentos Actuales"}),f.jsx("p",{className:"mt-1 text-sm text-gray-900",children:a.medicamentos_actuales||"-"})]})]})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsx("h3",{className:"text-lg font-medium text-[#5A0D45]",children:"Informacin Adicional"}),f.jsxs("div",{className:"bg-[#F8F5F7] rounded-lg p-4 space-y-3",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-[#5A0D45]",children:"Seguro Mdico"}),f.jsx("p",{className:"mt-1 text-sm text-gray-900",children:a.seguro_medico||"-"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-[#5A0D45]",children:"Estado Civil"}),f.jsx("p",{className:"mt-1 text-sm text-gray-900",children:a.estado_civil||"-"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-[#5A0D45]",children:"Ocupacin"}),f.jsx("p",{className:"mt-1 text-sm text-gray-900",children:a.ocupacion||"-"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-[#5A0D45]",children:"Referencia"}),f.jsx("p",{className:"mt-1 text-sm text-gray-900",children:a.referencia||"-"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-[#5A0D45]",children:"Historial Dental"}),f.jsx("p",{className:"mt-1 text-sm text-gray-900",children:a.historial_dental||"-"})]})]})]})]}),f.jsxs("div",{className:"mt-6 flex justify-end space-x-3 border-t border-[#E0CDD9] pt-4",children:[f.jsx("button",{type:"button",onClick:()=>_(!1),className:"px-4 py-2 text-sm font-medium text-[#5A0D45] bg-[#F8F5F7] rounded-md hover:bg-[#E0CDD9] transition-colors duration-200",children:"Cerrar"}),f.jsx("button",{type:"button",onClick:()=>{ye(a),_(!1),o(!0)},className:"px-4 py-2 text-sm font-medium text-white rounded-md bg-[#801461] hover:bg-[#5A0D45] transition-all duration-300 shadow-md",children:"Editar Paciente"})]})]})]})}),f.jsxs("div",{className:"px-4 py-6 mx-auto max-w-7xl sm:px-6 lg:px-8",children:[f.jsx("h3",{className:"text-lg font-medium text-[#5A0D45] mb-6",children:"Anlisis de Pacientes"}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[f.jsxs("div",{className:"bg-white p-4 rounded-lg shadow",children:[f.jsx("h4",{className:"text-md font-medium text-[#801461] mb-3",children:"Distribucin por Edad"}),f.jsx("div",{className:"h-48",children:f.jsx(J0,{data:{labels:O().map(P=>P.range),datasets:[{label:"Pacientes",data:O().map(P=>P.count),backgroundColor:["rgba(128, 20, 97, 0.7)","rgba(90, 13, 69, 0.7)","rgba(181, 138, 173, 0.7)","rgba(224, 205, 217, 0.7)","rgba(248, 245, 247, 0.7)"],borderColor:["rgba(128, 20, 97, 1)","rgba(90, 13, 69, 1)","rgba(181, 138, 173, 1)","rgba(224, 205, 217, 1)","rgba(248, 245, 247, 1)"],borderWidth:1}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{callbacks:{label:function(P){return`${P.parsed.y} pacientes (${Math.round(P.parsed.y/e.length*100)}%)`}}}},scales:{y:{beginAtZero:!0,ticks:{stepSize:1}}}}})}),f.jsx("div",{className:"mt-4 grid grid-cols-3 gap-2 text-xs",children:O().map(P=>f.jsxs("div",{className:"flex items-center",children:[f.jsx("span",{className:"inline-block w-3 h-3 mr-1",style:{backgroundColor:"rgba(128, 20, 97, ${0.3 + 0.7 * (group.count / Math.max(...getAgeGroups().map(g => g.count))})"}}),f.jsxs("span",{children:[P.range,":"]}),f.jsx("span",{className:"font-medium",children:P.count})]},P.range))})]}),f.jsxs("div",{className:"bg-white p-4 rounded-lg shadow",children:[f.jsx("h4",{className:"text-md font-medium text-[#801461] mb-3",children:"Distribucin por Ciudad"}),f.jsx("div",{className:"h-48",children:f.jsx(X0,{data:{labels:q().map(P=>P.name),datasets:[{data:q().map(P=>P.count),backgroundColor:["rgba(128, 20, 97, 0.7)","rgba(90, 13, 69, 0.7)","rgba(181, 138, 173, 0.7)","rgba(224, 205, 217, 0.7)","rgba(248, 245, 247, 0.7)","rgba(157, 28, 122, 0.7)","rgba(104, 16, 79, 0.7)"],borderColor:"#fff",borderWidth:1}]},options:{responsive:!0,maintainAspectRatio:!1,cutout:"60%",plugins:{legend:{position:"right",labels:{boxWidth:12,padding:16}},tooltip:{callbacks:{label:function(P){const Y=P.label||"",L=P.raw||0,pe=Math.round(L/e.length*100);return`${Y}: ${L} (${pe}%)`}}}}}})})]}),f.jsxs("div",{className:"bg-white p-4 rounded-lg shadow",children:[f.jsx("h4",{className:"text-md font-medium text-[#801461] mb-3",children:"Distribucin por Distrito"}),f.jsx("div",{className:"h-48",children:f.jsx(J0,{data:{labels:A().map(P=>P.name),datasets:[{label:"Pacientes",data:A().map(P=>P.count),backgroundColor:["rgba(128, 20, 97, 0.7)","rgba(90, 13, 69, 0.7)","rgba(181, 138, 173, 0.7)","rgba(224, 205, 217, 0.7)","rgba(248, 245, 247, 0.7)","rgba(157, 28, 122, 0.7)","rgba(104, 16, 79, 0.7)"],borderColor:["rgba(128, 20, 97, 1)","rgba(90, 13, 69, 1)","rgba(181, 138, 173, 1)","rgba(224, 205, 217, 1)","rgba(248, 245, 247, 1)","rgba(157, 28, 122, 1)","rgba(104, 16, 79, 1)"],borderWidth:1,borderRadius:4,borderSkipped:!1}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{callbacks:{label:function(P){const Y=P.label||"",L=P.parsed.y||0,pe=Math.round(L/e.length*100);return`${Y}: ${L} paciente${L!==1?"s":""} (${pe}%)`}},displayColors:!0,backgroundColor:"rgba(0, 0, 0, 0.7)",titleFont:{size:12},bodyFont:{size:12}}},scales:{y:{beginAtZero:!0,ticks:{stepSize:1,precision:0},grid:{display:!0,color:"rgba(0, 0, 0, 0.05)"}},x:{ticks:{autoSkip:!0,maxRotation:45,minRotation:45,font:{size:10}},grid:{display:!1}}}}})})]}),f.jsxs("div",{className:"bg-white p-4 rounded-lg shadow",children:[f.jsx("h4",{className:"text-md font-medium text-[#801461] mb-2",children:"Distribucin por Sexo"}),f.jsx("div",{className:"h-48",children:f.jsx(X0,{data:{labels:T().map(P=>P.type==="M"?"Masculino":P.type==="F"?"Femenino":"Otro"),datasets:[{label:"Pacientes",data:T().map(P=>P.count),backgroundColor:["rgba(128, 20, 97, 0.7)","rgba(90, 13, 69, 0.7)","rgba(181, 138, 173, 0.7)"],borderColor:["rgba(255, 255, 255, 1)"],borderWidth:2}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom",labels:{font:{size:12}}},tooltip:{callbacks:{label:function(P){const Y=T().reduce((nt,ft)=>nt+ft.count,0),L=P.raw,pe=(L/Y*100).toFixed(1);return`${L} pacientes (${pe}%)`}}}}}})}),f.jsx("div",{className:"mt-4 flex justify-center space-x-2 text-xs",children:T().map(P=>f.jsxs("div",{className:"flex items-center",children:[f.jsx("span",{className:"inline-block w-3 h-3 mr-1 rounded-full",style:{backgroundColor:P.type==="M"?"rgba(128, 20, 97, 0.7)":P.type==="F"?"rgba(90, 13, 69, 0.7)":"rgba(181, 138, 173, 0.7)"}}),f.jsxs("span",{children:[P.type==="M"?"Masculino":P.type==="F"?"Femenino":"Otro",":"]}),f.jsx("span",{className:"ml-1 font-medium",children:P.count})]},P.type))})]})]})]})]})},X_=({activeTab:t})=>{const[e,n]=D.useState([]),[s,r]=D.useState([]),[i,o]=D.useState(!1),[a,l]=D.useState(!1),[u,d]=D.useState(null),[p,g]=D.useState(!0),[v,_]=D.useState(""),[k,S]=D.useState(!1),[x,w]=D.useState(""),[j,E]=D.useState(""),[M,O]=D.useState(""),[A,T]=D.useState(""),[q,z]=D.useState(""),[se,ie]=D.useState(""),[me,ue]=D.useState(!0),he=async()=>{try{const{data:W,error:ae}=await Te.from("medicos").select("*").order("nombre",{ascending:!0});if(ae)throw ae;n(W||[])}catch(W){console.error("Error fetching doctors:",W),le.error("Error al cargar los mdicos"),n([])}finally{g(!1)}};D.useEffect(()=>{g(!0),he()},[]),D.useEffect(()=>{let W=e;k||(W=W.filter(ae=>ae.activo)),v&&(W=W.filter(ae=>{var P;return ae.nombre.toLowerCase().includes(v.toLowerCase())||((P=ae.especialidad)==null?void 0:P.toLowerCase().includes(v.toLowerCase()))})),r(W)},[v,e,k]);const fe=()=>{d(null),w(""),E(""),O(""),T(""),z(""),ie(""),ue(!0)},ye=W=>{var ae;d(W),w(W.nombre),E(W.especialidad||""),O(W.telefono||""),T(W.correo||""),z(W.fecha_ingreso||""),ie(((ae=W.porcentaje_comision)==null?void 0:ae.toString())||""),ue(W.activo),o(!0)},G=async()=>{const W=!!u,ae=le.loading(W?"Actualizando mdico...":"Agregando mdico...");try{const P={nombre:x,especialidad:j||null,telefono:M||null,correo:A||null,fecha_ingreso:q||null,porcentaje_comision:se?parseFloat(se):null,activo:me};let Y;if(u){const{error:L}=await Te.from("medicos").update(P).eq("id",u.id);Y=L}else{const{error:L}=await Te.from("medicos").insert([P]);Y=L}if(Y)throw Y;le.success(u?"Mdico actualizado exitosamente":"Mdico agregado exitosamente",{id:ae}),o(!1),fe(),g(!0),he()}catch(P){console.error("Error saving doctor:",P),le.error("Error al guardar el mdico",{id:ae})}},J=async W=>{if(window.confirm("Est seguro de que desea eliminar este mdico?")){const ae=le.loading("Eliminando mdico...");try{const{error:P}=await Te.from("medicos").delete().eq("id",W);if(P)throw P;le.success("Mdico eliminado exitosamente",{id:ae}),g(!0),he()}catch(P){console.error("Error deleting doctor:",P),le.error("Error al eliminar el mdico",{id:ae})}}},te=W=>{d(W),l(!0)};return f.jsxs("div",{className:"bg-gray-50 rounded-lg shadow-md overflow-hidden transition-all duration-300",children:[f.jsx("div",{className:"bg-gradient-to-r from-[#801461] to-[#5A0D45] p-6 text-white",children:f.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center space-y-4 sm:space-y-0",children:[f.jsxs("div",{className:"flex items-center",children:[f.jsx("h2",{className:"text-xl font-bold",children:"Gestin de Doctores"}),f.jsxs("div",{className:"ml-4 relative",children:[f.jsx("input",{type:"text",placeholder:"Buscar mdicos...",value:v,onChange:W=>_(W.target.value),className:"px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-[#B58AAD] focus:border-[#801461] text-sm transition-colors duration-200 text-gray-900"}),v&&f.jsx("button",{onClick:()=>_(""),className:"absolute right-2 top-2.5 text-gray-400 hover:text-gray-600","aria-label":"Clear search",children:f.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),f.jsxs("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-2 w-full sm:w-auto",children:[f.jsxs("button",{onClick:()=>S(!k),className:`px-4 py-2 text-sm font-medium rounded-md flex items-center transition-colors duration-200 ${k?"bg-white text-[#801461] hover:bg-gray-100":"bg-[#F0E6ED] text-[#801461] hover:bg-[#E0CDD9]"}`,children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4h13M3 8h9m-9 4h6m4 0l4-4m0 0l4 4m-4-4v12"})}),k?"Mostrar Solo Activos":"Mostrar Todos"]}),f.jsxs("button",{onClick:()=>{fe(),o(!0)},className:"px-4 py-2 text-sm font-medium text-white rounded-md bg-[#9D1C7A] hover:bg-[#801461] transition-all duration-300 shadow-md flex items-center justify-center",children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Nuevo Mdico"]})]})]})}),f.jsx("div",{className:"overflow-x-auto bg-white rounded-b-lg",children:f.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[f.jsx("thead",{className:"bg-[#F8F5F7]",children:f.jsxs("tr",{children:[f.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-[#801461] uppercase tracking-wider",children:"Nombre"}),f.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-[#801461] uppercase tracking-wider hidden sm:table-cell",children:"Especialidad"}),f.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-[#801461] uppercase tracking-wider hidden md:table-cell",children:"Telfono"}),f.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-[#801461] uppercase tracking-wider hidden lg:table-cell",children:"Correo"}),f.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-[#801461] uppercase tracking-wider hidden md:table-cell",children:"Comisin"}),f.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-[#801461] uppercase tracking-wider",children:"Estado"}),f.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-[#801461] uppercase tracking-wider",children:"Acciones"})]})}),f.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:p?f.jsx("tr",{children:f.jsx("td",{colSpan:7,className:"px-6 py-4 text-center text-sm text-gray-500",children:f.jsxs("div",{className:"flex justify-center items-center",children:[f.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-t-2 border-b-2 border-[#801461] mr-2"}),"Cargando mdicos..."]})})}):s.length===0?f.jsx("tr",{children:f.jsx("td",{colSpan:7,className:"px-6 py-4 text-center text-sm text-gray-500",children:f.jsxs("div",{className:"flex flex-col items-center justify-center py-6",children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 text-[#B58AAD] mb-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),f.jsx("p",{className:"text-[#5A0D45]",children:v?"No se encontraron mdicos con ese criterio.":"No hay mdicos registrados."}),!v&&f.jsx("button",{onClick:()=>{fe(),o(!0)},className:"mt-2 text-sm text-[#801461] hover:text-[#5A0D45] font-medium underline",children:"Agregar nuevo mdico"})]})})}):s.map(W=>f.jsxs("tr",{onClick:()=>te(W),className:"hover:bg-[#F8F5F7] cursor-pointer transition-colors duration-150",children:[f.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:f.jsx("div",{className:"text-sm font-medium text-gray-900",children:W.nombre})}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap hidden sm:table-cell",children:f.jsx("div",{className:"text-sm text-gray-900",children:W.especialidad||"-"})}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap hidden md:table-cell",children:f.jsx("div",{className:"text-sm text-gray-900",children:W.telefono||"-"})}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap hidden lg:table-cell",children:f.jsx("div",{className:"text-sm text-gray-900",children:W.correo||"-"})}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap hidden md:table-cell",children:f.jsx("div",{className:"text-sm text-gray-900",children:W.porcentaje_comision?`${W.porcentaje_comision}%`:"-"})}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:f.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${W.activo?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:W.activo?"Activo":"Inactivo"})}),f.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[f.jsxs("button",{onClick:ae=>{ae.stopPropagation(),ye(W)},className:"text-[#801461] hover:text-[#5A0D45] mr-4 transition-colors duration-200 inline-flex items-center","aria-label":`Editar ${W.nombre}`,children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),f.jsx("span",{className:"hidden sm:inline ml-1",children:"Editar"})]}),f.jsxs("button",{onClick:ae=>{ae.stopPropagation(),J(W.id)},className:"text-[#D94A64] hover:text-[#B53A50] transition-colors duration-200 inline-flex items-center","aria-label":`Eliminar ${W.nombre}`,children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),f.jsx("span",{className:"hidden sm:inline ml-1",children:"Eliminar"})]})]})]},W.id))})]})}),i&&f.jsx("div",{className:"fixed inset-0 bg-[#595959] bg-opacity-60 flex items-center justify-center p-4 z-50 backdrop-blur-sm",children:f.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto transform transition-all duration-300 scale-100 border border-[#E0CDD9]",children:[f.jsx("div",{className:"px-6 py-4 border-b border-[#E0CDD9] bg-gradient-to-r from-[#801461] to-[#5A0D45]",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("h3",{className:"text-lg font-medium text-white",children:u?"Editar Mdico":"Nuevo Mdico"}),f.jsx("button",{onClick:()=>{o(!1),fe()},className:"text-white hover:text-[#E0CDD9] transition-colors duration-200","aria-label":"Cerrar modal",children:f.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),f.jsx("div",{className:"px-6 py-4",children:f.jsxs("form",{onSubmit:W=>{W.preventDefault(),G()},className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("h4",{className:"text-sm font-medium text-[#801461] mb-2 border-b pb-1",children:"Informacin Bsica"}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsxs("label",{htmlFor:"nombre",className:"block text-sm font-medium text-gray-700 mb-1",children:["Nombre Completo ",f.jsx("span",{className:"text-red-500",children:"*"})]}),f.jsx("input",{type:"text",id:"nombre",value:x,onChange:W=>w(W.target.value),required:!0,className:"w-full text-sm rounded-md border-gray-300 shadow-sm p-2 border focus:ring-[#B58AAD] focus:border-[#801461]"})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"especialidad",className:"block text-sm font-medium text-gray-700 mb-1",children:"Especialidad"}),f.jsx("input",{type:"text",id:"especialidad",value:j,onChange:W=>E(W.target.value),className:"w-full text-sm rounded-md border-gray-300 shadow-sm p-2 border focus:ring-[#B58AAD] focus:border-[#801461]"})]})]})]}),f.jsxs("div",{children:[f.jsx("h4",{className:"text-sm font-medium text-[#801461] mb-2 border-b pb-1",children:"Contacto"}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"telefono",className:"block text-sm font-medium text-gray-700 mb-1",children:"Telfono"}),f.jsx("input",{type:"tel",id:"telefono",value:M,onChange:W=>O(W.target.value),className:"w-full text-sm rounded-md border-gray-300 shadow-sm p-2 border focus:ring-[#B58AAD] focus:border-[#801461]"})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"correo",className:"block text-sm font-medium text-gray-700 mb-1",children:"Correo Electrnico"}),f.jsx("input",{type:"email",id:"correo",value:A,onChange:W=>T(W.target.value),className:"w-full text-sm rounded-md border-gray-300 shadow-sm p-2 border focus:ring-[#B58AAD] focus:border-[#801461]"})]})]})]}),f.jsxs("div",{children:[f.jsx("h4",{className:"text-sm font-medium text-[#801461] mb-2 border-b pb-1",children:"Informacin Clnica"}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"fechaIngreso",className:"block text-sm font-medium text-gray-700 mb-1",children:"Fecha de Ingreso"}),f.jsx("input",{type:"date",id:"fechaIngreso",value:q,onChange:W=>z(W.target.value),className:"w-full text-sm rounded-md border-gray-300 shadow-sm p-2 border focus:ring-[#B58AAD] focus:border-[#801461]"})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"porcentajeComision",className:"block text-sm font-medium text-gray-700 mb-1",children:"% Comisin"}),f.jsx("input",{type:"number",step:"0.01",id:"porcentajeComision",value:se,onChange:W=>ie(W.target.value),className:"w-full text-sm rounded-md border-gray-300 shadow-sm p-2 border focus:ring-[#B58AAD] focus:border-[#801461]"})]})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Estado"}),f.jsxs("div",{className:"mt-1 flex items-center",children:[f.jsx("input",{id:"activo",name:"activo",type:"checkbox",checked:me,onChange:W=>ue(W.target.checked),className:"h-4 w-4 text-[#801461] focus:ring-[#B58AAD] border-gray-300 rounded"}),f.jsx("label",{htmlFor:"activo",className:"ml-2 block text-sm text-gray-900",children:"Activo"})]})]}),f.jsxs("div",{className:"pt-4 border-t border-[#E0CDD9] flex justify-end space-x-3",children:[f.jsx("button",{type:"button",onClick:()=>{o(!1),fe()},className:"px-4 py-2 text-sm font-medium rounded-md border border-gray-300 text-gray-700 hover:bg-gray-100 transition-colors duration-200",children:"Cancelar"}),f.jsx("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white rounded-md bg-[#9D1C7A] hover:bg-[#801461] transition-all duration-300 shadow-md",children:u?"Guardar Cambios":"Agregar Mdico"})]})]})})]})}),a&&u&&f.jsx("div",{className:"fixed inset-0 bg-[#595959] bg-opacity-60 flex items-center justify-center p-4 z-50 backdrop-blur-sm",children:f.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-lg w-full max-h-[90vh] overflow-y-auto transform transition-all duration-300 scale-100 border border-[#E0CDD9]",children:[f.jsx("div",{className:"px-6 py-4 border-b border-[#E0CDD9] bg-gradient-to-r from-[#801461] to-[#5A0D45]",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("h3",{className:"text-lg font-medium text-white",children:"Detalles del Mdico"}),f.jsx("button",{onClick:()=>l(!1),className:"text-white hover:text-[#E0CDD9] transition-colors duration-200","aria-label":"Cerrar detalles",children:f.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),f.jsxs("div",{className:"px-6 py-4 space-y-4",children:[f.jsxs("p",{children:[f.jsx("strong",{children:"Nombre:"})," ",u.nombre]}),f.jsxs("p",{children:[f.jsx("strong",{children:"Especialidad:"})," ",u.especialidad||"No especificada"]}),f.jsxs("p",{children:[f.jsx("strong",{children:"Telfono:"})," ",u.telefono||"No especificado"]}),f.jsxs("p",{children:[f.jsx("strong",{children:"Correo:"})," ",u.correo||"No especificado"]}),f.jsxs("p",{children:[f.jsx("strong",{children:"Fecha de Ingreso:"})," ",u.fecha_ingreso?new Date(u.fecha_ingreso).toLocaleDateString():"No especificada"]}),f.jsxs("p",{children:[f.jsx("strong",{children:"Comisin:"})," ",u.porcentaje_comision?`${u.porcentaje_comision}%`:"No especificada"]}),f.jsxs("p",{children:[f.jsx("strong",{children:"Estado:"})," ",f.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${u.activo?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:u.activo?"Activo":"Inactivo"})]}),f.jsxs("p",{children:[f.jsx("strong",{children:"Registrado el:"})," ",new Date(u.created_at).toLocaleString()]})]}),f.jsxs("div",{className:"px-6 py-3 bg-gray-50 border-t border-[#E0CDD9] flex justify-end space-x-3",children:[f.jsx("button",{type:"button",onClick:()=>{l(!1),ye(u)},className:"px-4 py-2 text-sm font-medium text-white rounded-md bg-[#9D1C7A] hover:bg-[#801461] transition-all duration-300 shadow-md",children:"Editar Mdico"}),f.jsx("button",{type:"button",onClick:()=>l(!1),className:"px-4 py-2 text-sm font-medium rounded-md border border-gray-300 text-gray-700 hover:bg-gray-100 transition-colors duration-200",children:"Cerrar"})]})]})})]})},Pd="#801461",OO="#5A0D45";function AO({user:t}){const[e,n]=D.useState("caja"),[s,r]=D.useState(new Date),[i,o]=D.useState(!1);Gf(),D.useEffect(()=>{const d=setInterval(()=>{r(new Date)},6e4);return()=>clearInterval(d)},[]);const a=async()=>{try{const{error:d}=await Te.auth.signOut();if(d)throw d}catch(d){console.error("Error signing out:",d)}};if(!t)return f.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-[#F0E6ED] via-white to-[#F8F5F7]",children:f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-4 border-b-4 border-[#801461]"})});const l=({tabId:d,label:p,icon:g})=>f.jsxs("button",{onClick:()=>n(d),className:`flex items-center whitespace-nowrap py-4 px-4 sm:px-6 border-b-2 font-medium text-sm transition-all duration-300 transform hover:-translate-y-0.5 ${e===d?`border-[${Pd}] text-[${Pd}] shadow-inner bg-white`:`border-transparent text-gray-500 hover:text-[${OO}] hover:border-gray-300`}`,children:[g,f.jsx("span",{className:"ml-2",children:p})]}),u=()=>{switch(e){case"caja":return f.jsx(K_,{user:t});case"pacientes":return f.jsx(J_,{user:t});case"doctores":return f.jsx(X_,{user:t});default:return null}};return f.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-[#F8F5F7] to-white",children:[f.jsxs("nav",{className:"bg-gradient-to-r from-[#801461] to-[#5A0D45] shadow-lg sticky top-0 z-40",children:[f.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:f.jsxs("div",{className:"flex justify-between h-16",children:[f.jsxs("div",{className:"flex items-center",children:[f.jsx("div",{className:"p-1 bg-white rounded-full",children:f.jsx(Y_,{className:"h-8 w-8",stroke:Pd})}),f.jsx("span",{className:"ml-3 text-xl font-bold text-white hidden md:block",children:"Andrew's Dental Group"}),f.jsx("span",{className:"ml-3 text-xl font-bold text-white md:hidden",children:"ADG"})]}),f.jsx("div",{className:"flex md:hidden items-center",children:f.jsxs("button",{onClick:()=>o(!i),className:"inline-flex items-center justify-center p-2 rounded-md text-white hover:text-white hover:bg-[#9D1C7A] focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white",children:[f.jsx("span",{className:"sr-only",children:"Abrir menu"}),i?f.jsx("svg",{className:"block h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})}):f.jsx("svg",{className:"block h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"})})]})}),f.jsxs("div",{className:"hidden md:flex items-center justify-end w-full px-6 py-2 space-x-6 text-white",children:[f.jsxs("div",{className:"text-right",children:[f.jsxs("p",{className:"text-sm font-semibold",children:["Bienvenido!! ",f.jsx("span",{className:"font-normal",children:t==null?void 0:t.nombre})]}),f.jsxs("p",{className:"text-xs opacity-80",children:[new Date().toLocaleDateString("es-ES",{day:"2-digit",month:"short",year:"numeric"}),"  ",s.toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"})]})]}),f.jsxs("button",{onClick:a,className:"flex items-center gap-1 px-3 py-1.5 text-sm font-medium text-[#801461] bg-white rounded-md hover:bg-[#F0E6ED] transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-offset-1 focus:ring-[#801461] transform hover:scale-105 shadow-sm",children:[f.jsx(CO,{className:"w-4 h-4"}),"Cerrar Sesin"]})]})]})}),i&&f.jsx("div",{className:"md:hidden bg-[#6a1152] shadow-lg rounded-b-lg absolute w-full z-30",children:f.jsxs("div",{className:"pt-2 pb-3 space-y-2 px-4",children:[f.jsxs("div",{className:"text-white text-sm py-2 border-b border-[#9D1C7A]",children:[f.jsxs("p",{className:"font-medium",children:[t==null?void 0:t.nombre," ",t==null?void 0:t.apellido]}),f.jsx("p",{className:"text-xs opacity-80",children:s.toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"})})]}),f.jsxs("nav",{className:"flex flex-col space-y-1",children:[f.jsx("button",{onClick:()=>{n("caja"),o(!1)},className:"w-full text-left text-white text-sm px-3 py-2 rounded-md hover:bg-[#801461]",children:" Caja"}),f.jsx("button",{onClick:()=>{n("pacientes"),o(!1)},className:"w-full text-left text-white text-sm px-3 py-2 rounded-md hover:bg-[#801461]",children:"Pacientes"}),f.jsx("button",{onClick:()=>{n("doctores"),o(!1)},className:"w-full text-left text-white text-sm px-3 py-2 rounded-md hover:bg-[#801461]",children:" Doctores"})]}),f.jsx("button",{onClick:a,className:"w-full mt-3 px-4 py-2 text-sm font-medium text-[#801461] rounded-md bg-white hover:bg-[#F0E6ED] transition-colors duration-300",children:"Cerrar Sesin"})]})})]}),f.jsx("div",{className:"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8",children:f.jsxs("div",{className:"bg-white shadow-xl rounded-lg overflow-hidden border border-[#E0CDD9]",children:[f.jsx("div",{className:"border-b border-gray-200 bg-[#F8F5F7]",children:f.jsx("div",{className:"overflow-x-auto scrollbar-hide",children:f.jsxs("nav",{className:"-mb-px flex justify-center sm:justify-start px-4",children:[f.jsx(l,{tabId:"caja",label:"Caja",icon:f.jsx("span",{children:""})}),f.jsx(l,{tabId:"pacientes",label:"Pacientes",icon:f.jsx("span",{children:""})}),f.jsx(l,{tabId:"doctores",label:"Doctores",icon:f.jsx("span",{children:""})})]})})}),f.jsx("div",{className:"p-6",children:u()})]})})]})}Xi.register(Pr,yp,mp,Da,Na,ea,Zo,os,gp,B_);const Td={primary:{50:"#F5E8F2",500:"#4E023B",700:"#2F0125"}};function RO(){const[t,e]=D.useState(null),[n,s]=D.useState(!0),[r,i]=D.useState(null);return D.useEffect(()=>{(async()=>{const{data:{session:l}}=await Te.auth.getSession();e(l),s(!1)})();const{data:a}=Te.auth.onAuthStateChange((l,u)=>{e(u),s(!1)});return()=>{a==null||a.subscription.unsubscribe()}},[]),D.useEffect(()=>{(async()=>{var a;if((a=t==null?void 0:t.user)!=null&&a.id)try{const{data:l,error:u}=await Te.from("users").select("id, nombre, apellido, activo, role").eq("id",t.user.id).single();if(u)throw u;i(l)}catch(l){console.error("Error fetching user data:",l),WM.error("Error al cargar datos del usuario")}})()},[t]),n?f.jsxs("div",{className:"min-h-screen flex items-center justify-center",style:{backgroundColor:Td.primary[50]},children:[f.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4",style:{borderColor:Td.primary[500]}}),f.jsx("p",{className:"ml-4 text-lg font-semibold",style:{color:Td.primary[700]},children:"Cargando..."})]}):f.jsxs(Rj,{children:[f.jsx(UM,{position:"top-center",reverseOrder:!1}),f.jsxs(kx,{children:[f.jsx(Ls,{path:"/login",element:t?f.jsx(Ch,{to:"/",replace:!0}):f.jsx(EO,{})}),f.jsx(Ls,{path:"/*",element:t?f.jsx(LO,{user:r}):f.jsx(Ch,{to:"/login",replace:!0})})]})]})}const LO=({user:t})=>f.jsxs(kx,{children:[f.jsx(Ls,{path:"/",element:f.jsx(AO,{user:t})}),f.jsx(Ls,{path:"/gestion-doctores",element:f.jsx(X_,{})}),f.jsx(Ls,{path:"/gestion-pacientes",element:f.jsx(J_,{})}),f.jsx(Ls,{path:"/mi-caja",element:f.jsx(K_,{})}),f.jsx(Ls,{path:"*",element:f.jsx(Ch,{to:"/",replace:!0})})," "]});ux(document.getElementById("root")).render(f.jsx(D.StrictMode,{children:f.jsx(RO,{})}));export{mk as g};
