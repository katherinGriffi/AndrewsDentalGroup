var hk=Object.defineProperty;var fk=(t,e,n)=>e in t?hk(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var re=(t,e,n)=>fk(t,typeof e!="symbol"?e+"":e,n);function pk(t,e){for(var n=0;n<e.length;n++){const s=e[n];if(typeof s!="string"&&!Array.isArray(s)){for(const r in s)if(r!=="default"&&!(r in t)){const i=Object.getOwnPropertyDescriptor(s,r);i&&Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:()=>s[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();var Ht=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function mk(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function gk(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function s(){return this instanceof s?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(s){var r=Object.getOwnPropertyDescriptor(t,s);Object.defineProperty(n,s,r.get?r:{enumerable:!0,get:function(){return t[s]}})}),n}var q0={exports:{}},Fc={},K0={exports:{}},_e={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Na=Symbol.for("react.element"),yk=Symbol.for("react.portal"),xk=Symbol.for("react.fragment"),vk=Symbol.for("react.strict_mode"),_k=Symbol.for("react.profiler"),wk=Symbol.for("react.provider"),bk=Symbol.for("react.context"),kk=Symbol.for("react.forward_ref"),Sk=Symbol.for("react.suspense"),jk=Symbol.for("react.memo"),Ck=Symbol.for("react.lazy"),Gp=Symbol.iterator;function Ek(t){return t===null||typeof t!="object"?null:(t=Gp&&t[Gp]||t["@@iterator"],typeof t=="function"?t:null)}var J0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},X0=Object.assign,Q0={};function Vi(t,e,n){this.props=t,this.context=e,this.refs=Q0,this.updater=n||J0}Vi.prototype.isReactComponent={};Vi.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Vi.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Z0(){}Z0.prototype=Vi.prototype;function Hh(t,e,n){this.props=t,this.context=e,this.refs=Q0,this.updater=n||J0}var Yh=Hh.prototype=new Z0;Yh.constructor=Hh;X0(Yh,Vi.prototype);Yh.isPureReactComponent=!0;var qp=Array.isArray,ey=Object.prototype.hasOwnProperty,Vh={current:null},ty={key:!0,ref:!0,__self:!0,__source:!0};function ny(t,e,n){var s,r={},i=null,o=null;if(e!=null)for(s in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)ey.call(e,s)&&!ty.hasOwnProperty(s)&&(r[s]=e[s]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}if(t&&t.defaultProps)for(s in a=t.defaultProps,a)r[s]===void 0&&(r[s]=a[s]);return{$$typeof:Na,type:t,key:i,ref:o,props:r,_owner:Vh.current}}function Mk(t,e){return{$$typeof:Na,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Gh(t){return typeof t=="object"&&t!==null&&t.$$typeof===Na}function Dk(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Kp=/\/+/g;function Ou(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Dk(""+t.key):e.toString(36)}function zl(t,e,n,s,r){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Na:case yk:o=!0}}if(o)return o=t,r=r(o),t=s===""?"."+Ou(o,0):s,qp(r)?(n="",t!=null&&(n=t.replace(Kp,"$&/")+"/"),zl(r,e,n,"",function(u){return u})):r!=null&&(Gh(r)&&(r=Mk(r,n+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(Kp,"$&/")+"/")+t)),e.push(r)),1;if(o=0,s=s===""?".":s+":",qp(t))for(var a=0;a<t.length;a++){i=t[a];var l=s+Ou(i,a);o+=zl(i,e,n,l,r)}else if(l=Ek(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=s+Ou(i,a++),o+=zl(i,e,n,l,r);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function rl(t,e,n){if(t==null)return t;var s=[],r=0;return zl(t,s,"","",function(i){return e.call(n,i,r++)}),s}function Nk(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Nt={current:null},Bl={transition:null},Pk={ReactCurrentDispatcher:Nt,ReactCurrentBatchConfig:Bl,ReactCurrentOwner:Vh};function sy(){throw Error("act(...) is not supported in production builds of React.")}_e.Children={map:rl,forEach:function(t,e,n){rl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return rl(t,function(){e++}),e},toArray:function(t){return rl(t,function(e){return e})||[]},only:function(t){if(!Gh(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};_e.Component=Vi;_e.Fragment=xk;_e.Profiler=_k;_e.PureComponent=Hh;_e.StrictMode=vk;_e.Suspense=Sk;_e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Pk;_e.act=sy;_e.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var s=X0({},t.props),r=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Vh.current),e.key!==void 0&&(r=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)ey.call(e,l)&&!ty.hasOwnProperty(l)&&(s[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];s.children=a}return{$$typeof:Na,type:t.type,key:r,ref:i,props:s,_owner:o}};_e.createContext=function(t){return t={$$typeof:bk,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:wk,_context:t},t.Consumer=t};_e.createElement=ny;_e.createFactory=function(t){var e=ny.bind(null,t);return e.type=t,e};_e.createRef=function(){return{current:null}};_e.forwardRef=function(t){return{$$typeof:kk,render:t}};_e.isValidElement=Gh;_e.lazy=function(t){return{$$typeof:Ck,_payload:{_status:-1,_result:t},_init:Nk}};_e.memo=function(t,e){return{$$typeof:jk,type:t,compare:e===void 0?null:e}};_e.startTransition=function(t){var e=Bl.transition;Bl.transition={};try{t()}finally{Bl.transition=e}};_e.unstable_act=sy;_e.useCallback=function(t,e){return Nt.current.useCallback(t,e)};_e.useContext=function(t){return Nt.current.useContext(t)};_e.useDebugValue=function(){};_e.useDeferredValue=function(t){return Nt.current.useDeferredValue(t)};_e.useEffect=function(t,e){return Nt.current.useEffect(t,e)};_e.useId=function(){return Nt.current.useId()};_e.useImperativeHandle=function(t,e,n){return Nt.current.useImperativeHandle(t,e,n)};_e.useInsertionEffect=function(t,e){return Nt.current.useInsertionEffect(t,e)};_e.useLayoutEffect=function(t,e){return Nt.current.useLayoutEffect(t,e)};_e.useMemo=function(t,e){return Nt.current.useMemo(t,e)};_e.useReducer=function(t,e,n){return Nt.current.useReducer(t,e,n)};_e.useRef=function(t){return Nt.current.useRef(t)};_e.useState=function(t){return Nt.current.useState(t)};_e.useSyncExternalStore=function(t,e,n){return Nt.current.useSyncExternalStore(t,e,n)};_e.useTransition=function(){return Nt.current.useTransition()};_e.version="18.3.1";K0.exports=_e;var D=K0.exports;const qh=mk(D),Tk=pk({__proto__:null,default:qh},[D]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ok=D,Ak=Symbol.for("react.element"),Rk=Symbol.for("react.fragment"),Lk=Object.prototype.hasOwnProperty,Fk=Ok.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Ik={key:!0,ref:!0,__self:!0,__source:!0};function ry(t,e,n){var s,r={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(s in e)Lk.call(e,s)&&!Ik.hasOwnProperty(s)&&(r[s]=e[s]);if(t&&t.defaultProps)for(s in e=t.defaultProps,e)r[s]===void 0&&(r[s]=e[s]);return{$$typeof:Ak,type:t,key:i,ref:o,props:r,_owner:Fk.current}}Fc.Fragment=Rk;Fc.jsx=ry;Fc.jsxs=ry;q0.exports=Fc;var f=q0.exports,iy={exports:{}},Xt={},oy={exports:{}},ay={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(G,X){var te=G.length;G.push(X);e:for(;0<te;){var B=te-1>>>1,ie=G[B];if(0<r(ie,X))G[B]=X,G[te]=ie,te=B;else break e}}function n(G){return G.length===0?null:G[0]}function s(G){if(G.length===0)return null;var X=G[0],te=G.pop();if(te!==X){G[0]=te;e:for(var B=0,ie=G.length,P=ie>>>1;B<P;){var Y=2*(B+1)-1,L=G[Y],he=Y+1,Ue=G[he];if(0>r(L,te))he<ie&&0>r(Ue,L)?(G[B]=Ue,G[he]=te,B=he):(G[B]=L,G[Y]=te,B=Y);else if(he<ie&&0>r(Ue,te))G[B]=Ue,G[he]=te,B=he;else break e}}return X}function r(G,X){var te=G.sortIndex-X.sortIndex;return te!==0?te:G.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,p=null,g=3,x=!1,v=!1,k=!1,S=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(G){for(var X=n(u);X!==null;){if(X.callback===null)s(u);else if(X.startTime<=G)s(u),X.sortIndex=X.expirationTime,e(l,X);else break;X=n(u)}}function E(G){if(k=!1,j(G),!v)if(n(l)!==null)v=!0,me(M);else{var X=n(u);X!==null&&ve(E,X.startTime-G)}}function M(G,X){v=!1,k&&(k=!1,_(T),T=-1),x=!0;var te=g;try{for(j(X),p=n(l);p!==null&&(!(p.expirationTime>X)||G&&!se());){var B=p.callback;if(typeof B=="function"){p.callback=null,g=p.priorityLevel;var ie=B(p.expirationTime<=X);X=t.unstable_now(),typeof ie=="function"?p.callback=ie:p===n(l)&&s(l),j(X)}else s(l);p=n(l)}if(p!==null)var P=!0;else{var Y=n(u);Y!==null&&ve(E,Y.startTime-X),P=!1}return P}finally{p=null,g=te,x=!1}}var O=!1,A=null,T=-1,q=5,z=-1;function se(){return!(t.unstable_now()-z<q)}function ae(){if(A!==null){var G=t.unstable_now();z=G;var X=!0;try{X=A(!0,G)}finally{X?fe():(O=!1,A=null)}}else O=!1}var fe;if(typeof b=="function")fe=function(){b(ae)};else if(typeof MessageChannel<"u"){var ce=new MessageChannel,pe=ce.port2;ce.port1.onmessage=ae,fe=function(){pe.postMessage(null)}}else fe=function(){S(ae,0)};function me(G){A=G,O||(O=!0,fe())}function ve(G,X){T=S(function(){G(t.unstable_now())},X)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(G){G.callback=null},t.unstable_continueExecution=function(){v||x||(v=!0,me(M))},t.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<G?Math.floor(1e3/G):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(G){switch(g){case 1:case 2:case 3:var X=3;break;default:X=g}var te=g;g=X;try{return G()}finally{g=te}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(G,X){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var te=g;g=G;try{return X()}finally{g=te}},t.unstable_scheduleCallback=function(G,X,te){var B=t.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?B+te:B):te=B,G){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=te+ie,G={id:d++,callback:X,priorityLevel:G,startTime:te,expirationTime:ie,sortIndex:-1},te>B?(G.sortIndex=te,e(u,G),n(l)===null&&G===n(u)&&(k?(_(T),T=-1):k=!0,ve(E,te-B))):(G.sortIndex=ie,e(l,G),v||x||(v=!0,me(M))),G},t.unstable_shouldYield=se,t.unstable_wrapCallback=function(G){var X=g;return function(){var te=g;g=X;try{return G.apply(this,arguments)}finally{g=te}}}})(ay);oy.exports=ay;var $k=oy.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zk=D,Jt=$k;function U(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ly=new Set,ea={};function zr(t,e){Ri(t,e),Ri(t+"Capture",e)}function Ri(t,e){for(ea[t]=e,t=0;t<e.length;t++)ly.add(e[t])}var os=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Dd=Object.prototype.hasOwnProperty,Bk=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Jp={},Xp={};function Uk(t){return Dd.call(Xp,t)?!0:Dd.call(Jp,t)?!1:Bk.test(t)?Xp[t]=!0:(Jp[t]=!0,!1)}function Wk(t,e,n,s){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Hk(t,e,n,s){if(e===null||typeof e>"u"||Wk(t,e,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Pt(t,e,n,s,r,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=s,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var pt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){pt[t]=new Pt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];pt[e]=new Pt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){pt[t]=new Pt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){pt[t]=new Pt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){pt[t]=new Pt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){pt[t]=new Pt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){pt[t]=new Pt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){pt[t]=new Pt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){pt[t]=new Pt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Kh=/[\-:]([a-z])/g;function Jh(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Kh,Jh);pt[e]=new Pt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Kh,Jh);pt[e]=new Pt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Kh,Jh);pt[e]=new Pt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){pt[t]=new Pt(t,1,!1,t.toLowerCase(),null,!1,!1)});pt.xlinkHref=new Pt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){pt[t]=new Pt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Xh(t,e,n,s){var r=pt.hasOwnProperty(e)?pt[e]:null;(r!==null?r.type!==0:s||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Hk(e,n,r,s)&&(n=null),s||r===null?Uk(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=n===null?r.type===3?!1:"":n:(e=r.attributeName,s=r.attributeNamespace,n===null?t.removeAttribute(e):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,s?t.setAttributeNS(s,e,n):t.setAttribute(e,n))))}var ds=zk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,il=Symbol.for("react.element"),fi=Symbol.for("react.portal"),pi=Symbol.for("react.fragment"),Qh=Symbol.for("react.strict_mode"),Nd=Symbol.for("react.profiler"),cy=Symbol.for("react.provider"),uy=Symbol.for("react.context"),Zh=Symbol.for("react.forward_ref"),Pd=Symbol.for("react.suspense"),Td=Symbol.for("react.suspense_list"),ef=Symbol.for("react.memo"),Es=Symbol.for("react.lazy"),dy=Symbol.for("react.offscreen"),Qp=Symbol.iterator;function fo(t){return t===null||typeof t!="object"?null:(t=Qp&&t[Qp]||t["@@iterator"],typeof t=="function"?t:null)}var Ve=Object.assign,Au;function Eo(t){if(Au===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Au=e&&e[1]||""}return`
`+Au+t}var Ru=!1;function Lu(t,e){if(!t||Ru)return"";Ru=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var s=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){s=u}t.call(e.prototype)}else{try{throw Error()}catch(u){s=u}t()}}catch(u){if(u&&s&&typeof u.stack=="string"){for(var r=u.stack.split(`
`),i=s.stack.split(`
`),o=r.length-1,a=i.length-1;1<=o&&0<=a&&r[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(r[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||r[o]!==i[a]){var l=`
`+r[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Ru=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Eo(t):""}function Yk(t){switch(t.tag){case 5:return Eo(t.type);case 16:return Eo("Lazy");case 13:return Eo("Suspense");case 19:return Eo("SuspenseList");case 0:case 2:case 15:return t=Lu(t.type,!1),t;case 11:return t=Lu(t.type.render,!1),t;case 1:return t=Lu(t.type,!0),t;default:return""}}function Od(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case pi:return"Fragment";case fi:return"Portal";case Nd:return"Profiler";case Qh:return"StrictMode";case Pd:return"Suspense";case Td:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case uy:return(t.displayName||"Context")+".Consumer";case cy:return(t._context.displayName||"Context")+".Provider";case Zh:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ef:return e=t.displayName||null,e!==null?e:Od(t.type)||"Memo";case Es:e=t._payload,t=t._init;try{return Od(t(e))}catch{}}return null}function Vk(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Od(e);case 8:return e===Qh?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ks(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function hy(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Gk(t){var e=hy(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),s=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(o){s=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(o){s=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ol(t){t._valueTracker||(t._valueTracker=Gk(t))}function fy(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),s="";return t&&(s=hy(t)?t.checked?"true":"false":t.value),t=s,t!==n?(e.setValue(t),!0):!1}function sc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Ad(t,e){var n=e.checked;return Ve({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Zp(t,e){var n=e.defaultValue==null?"":e.defaultValue,s=e.checked!=null?e.checked:e.defaultChecked;n=Ks(e.value!=null?e.value:n),t._wrapperState={initialChecked:s,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function py(t,e){e=e.checked,e!=null&&Xh(t,"checked",e,!1)}function Rd(t,e){py(t,e);var n=Ks(e.value),s=e.type;if(n!=null)s==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(s==="submit"||s==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ld(t,e.type,n):e.hasOwnProperty("defaultValue")&&Ld(t,e.type,Ks(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function em(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var s=e.type;if(!(s!=="submit"&&s!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Ld(t,e,n){(e!=="number"||sc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Mo=Array.isArray;function Ci(t,e,n,s){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&s&&(t[n].defaultSelected=!0)}else{for(n=""+Ks(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,s&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function Fd(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(U(91));return Ve({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function tm(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(U(92));if(Mo(n)){if(1<n.length)throw Error(U(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ks(n)}}function my(t,e){var n=Ks(e.value),s=Ks(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),s!=null&&(t.defaultValue=""+s)}function nm(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function gy(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Id(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?gy(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var al,yy=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,s,r){MSApp.execUnsafeLocalFunction(function(){return t(e,n,s,r)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(al=al||document.createElement("div"),al.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=al.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ta(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ro={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qk=["Webkit","ms","Moz","O"];Object.keys(Ro).forEach(function(t){qk.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ro[e]=Ro[t]})});function xy(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ro.hasOwnProperty(t)&&Ro[t]?(""+e).trim():e+"px"}function vy(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var s=n.indexOf("--")===0,r=xy(n,e[n],s);n==="float"&&(n="cssFloat"),s?t.setProperty(n,r):t[n]=r}}var Kk=Ve({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function $d(t,e){if(e){if(Kk[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(U(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(U(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(U(61))}if(e.style!=null&&typeof e.style!="object")throw Error(U(62))}}function zd(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bd=null;function tf(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ud=null,Ei=null,Mi=null;function sm(t){if(t=Oa(t)){if(typeof Ud!="function")throw Error(U(280));var e=t.stateNode;e&&(e=Uc(e),Ud(t.stateNode,t.type,e))}}function _y(t){Ei?Mi?Mi.push(t):Mi=[t]:Ei=t}function wy(){if(Ei){var t=Ei,e=Mi;if(Mi=Ei=null,sm(t),e)for(t=0;t<e.length;t++)sm(e[t])}}function by(t,e){return t(e)}function ky(){}var Fu=!1;function Sy(t,e,n){if(Fu)return t(e,n);Fu=!0;try{return by(t,e,n)}finally{Fu=!1,(Ei!==null||Mi!==null)&&(ky(),wy())}}function na(t,e){var n=t.stateNode;if(n===null)return null;var s=Uc(n);if(s===null)return null;n=s[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(t=t.type,s=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!s;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(U(231,e,typeof n));return n}var Wd=!1;if(os)try{var po={};Object.defineProperty(po,"passive",{get:function(){Wd=!0}}),window.addEventListener("test",po,po),window.removeEventListener("test",po,po)}catch{Wd=!1}function Jk(t,e,n,s,r,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var Lo=!1,rc=null,ic=!1,Hd=null,Xk={onError:function(t){Lo=!0,rc=t}};function Qk(t,e,n,s,r,i,o,a,l){Lo=!1,rc=null,Jk.apply(Xk,arguments)}function Zk(t,e,n,s,r,i,o,a,l){if(Qk.apply(this,arguments),Lo){if(Lo){var u=rc;Lo=!1,rc=null}else throw Error(U(198));ic||(ic=!0,Hd=u)}}function Br(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function jy(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function rm(t){if(Br(t)!==t)throw Error(U(188))}function eS(t){var e=t.alternate;if(!e){if(e=Br(t),e===null)throw Error(U(188));return e!==t?null:t}for(var n=t,s=e;;){var r=n.return;if(r===null)break;var i=r.alternate;if(i===null){if(s=r.return,s!==null){n=s;continue}break}if(r.child===i.child){for(i=r.child;i;){if(i===n)return rm(r),t;if(i===s)return rm(r),e;i=i.sibling}throw Error(U(188))}if(n.return!==s.return)n=r,s=i;else{for(var o=!1,a=r.child;a;){if(a===n){o=!0,n=r,s=i;break}if(a===s){o=!0,s=r,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,s=r;break}if(a===s){o=!0,s=i,n=r;break}a=a.sibling}if(!o)throw Error(U(189))}}if(n.alternate!==s)throw Error(U(190))}if(n.tag!==3)throw Error(U(188));return n.stateNode.current===n?t:e}function Cy(t){return t=eS(t),t!==null?Ey(t):null}function Ey(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Ey(t);if(e!==null)return e;t=t.sibling}return null}var My=Jt.unstable_scheduleCallback,im=Jt.unstable_cancelCallback,tS=Jt.unstable_shouldYield,nS=Jt.unstable_requestPaint,Xe=Jt.unstable_now,sS=Jt.unstable_getCurrentPriorityLevel,nf=Jt.unstable_ImmediatePriority,Dy=Jt.unstable_UserBlockingPriority,oc=Jt.unstable_NormalPriority,rS=Jt.unstable_LowPriority,Ny=Jt.unstable_IdlePriority,Ic=null,An=null;function iS(t){if(An&&typeof An.onCommitFiberRoot=="function")try{An.onCommitFiberRoot(Ic,t,void 0,(t.current.flags&128)===128)}catch{}}var _n=Math.clz32?Math.clz32:lS,oS=Math.log,aS=Math.LN2;function lS(t){return t>>>=0,t===0?32:31-(oS(t)/aS|0)|0}var ll=64,cl=4194304;function Do(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ac(t,e){var n=t.pendingLanes;if(n===0)return 0;var s=0,r=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~r;a!==0?s=Do(a):(i&=o,i!==0&&(s=Do(i)))}else o=n&~r,o!==0?s=Do(o):i!==0&&(s=Do(i));if(s===0)return 0;if(e!==0&&e!==s&&!(e&r)&&(r=s&-s,i=e&-e,r>=i||r===16&&(i&4194240)!==0))return e;if(s&4&&(s|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=s;0<e;)n=31-_n(e),r=1<<n,s|=t[n],e&=~r;return s}function cS(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function uS(t,e){for(var n=t.suspendedLanes,s=t.pingedLanes,r=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-_n(i),a=1<<o,l=r[o];l===-1?(!(a&n)||a&s)&&(r[o]=cS(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function Yd(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Py(){var t=ll;return ll<<=1,!(ll&4194240)&&(ll=64),t}function Iu(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Pa(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-_n(e),t[e]=n}function dS(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var s=t.eventTimes;for(t=t.expirationTimes;0<n;){var r=31-_n(n),i=1<<r;e[r]=0,s[r]=-1,t[r]=-1,n&=~i}}function sf(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var s=31-_n(n),r=1<<s;r&e|t[s]&e&&(t[s]|=e),n&=~r}}var Ne=0;function Ty(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Oy,rf,Ay,Ry,Ly,Vd=!1,ul=[],zs=null,Bs=null,Us=null,sa=new Map,ra=new Map,Ns=[],hS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function om(t,e){switch(t){case"focusin":case"focusout":zs=null;break;case"dragenter":case"dragleave":Bs=null;break;case"mouseover":case"mouseout":Us=null;break;case"pointerover":case"pointerout":sa.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ra.delete(e.pointerId)}}function mo(t,e,n,s,r,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:s,nativeEvent:i,targetContainers:[r]},e!==null&&(e=Oa(e),e!==null&&rf(e)),t):(t.eventSystemFlags|=s,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function fS(t,e,n,s,r){switch(e){case"focusin":return zs=mo(zs,t,e,n,s,r),!0;case"dragenter":return Bs=mo(Bs,t,e,n,s,r),!0;case"mouseover":return Us=mo(Us,t,e,n,s,r),!0;case"pointerover":var i=r.pointerId;return sa.set(i,mo(sa.get(i)||null,t,e,n,s,r)),!0;case"gotpointercapture":return i=r.pointerId,ra.set(i,mo(ra.get(i)||null,t,e,n,s,r)),!0}return!1}function Fy(t){var e=br(t.target);if(e!==null){var n=Br(e);if(n!==null){if(e=n.tag,e===13){if(e=jy(n),e!==null){t.blockedOn=e,Ly(t.priority,function(){Ay(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ul(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Gd(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var s=new n.constructor(n.type,n);Bd=s,n.target.dispatchEvent(s),Bd=null}else return e=Oa(n),e!==null&&rf(e),t.blockedOn=n,!1;e.shift()}return!0}function am(t,e,n){Ul(t)&&n.delete(e)}function pS(){Vd=!1,zs!==null&&Ul(zs)&&(zs=null),Bs!==null&&Ul(Bs)&&(Bs=null),Us!==null&&Ul(Us)&&(Us=null),sa.forEach(am),ra.forEach(am)}function go(t,e){t.blockedOn===e&&(t.blockedOn=null,Vd||(Vd=!0,Jt.unstable_scheduleCallback(Jt.unstable_NormalPriority,pS)))}function ia(t){function e(r){return go(r,t)}if(0<ul.length){go(ul[0],t);for(var n=1;n<ul.length;n++){var s=ul[n];s.blockedOn===t&&(s.blockedOn=null)}}for(zs!==null&&go(zs,t),Bs!==null&&go(Bs,t),Us!==null&&go(Us,t),sa.forEach(e),ra.forEach(e),n=0;n<Ns.length;n++)s=Ns[n],s.blockedOn===t&&(s.blockedOn=null);for(;0<Ns.length&&(n=Ns[0],n.blockedOn===null);)Fy(n),n.blockedOn===null&&Ns.shift()}var Di=ds.ReactCurrentBatchConfig,lc=!0;function mS(t,e,n,s){var r=Ne,i=Di.transition;Di.transition=null;try{Ne=1,of(t,e,n,s)}finally{Ne=r,Di.transition=i}}function gS(t,e,n,s){var r=Ne,i=Di.transition;Di.transition=null;try{Ne=4,of(t,e,n,s)}finally{Ne=r,Di.transition=i}}function of(t,e,n,s){if(lc){var r=Gd(t,e,n,s);if(r===null)qu(t,e,s,cc,n),om(t,s);else if(fS(r,t,e,n,s))s.stopPropagation();else if(om(t,s),e&4&&-1<hS.indexOf(t)){for(;r!==null;){var i=Oa(r);if(i!==null&&Oy(i),i=Gd(t,e,n,s),i===null&&qu(t,e,s,cc,n),i===r)break;r=i}r!==null&&s.stopPropagation()}else qu(t,e,s,null,n)}}var cc=null;function Gd(t,e,n,s){if(cc=null,t=tf(s),t=br(t),t!==null)if(e=Br(t),e===null)t=null;else if(n=e.tag,n===13){if(t=jy(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return cc=t,null}function Iy(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(sS()){case nf:return 1;case Dy:return 4;case oc:case rS:return 16;case Ny:return 536870912;default:return 16}default:return 16}}var Rs=null,af=null,Wl=null;function $y(){if(Wl)return Wl;var t,e=af,n=e.length,s,r="value"in Rs?Rs.value:Rs.textContent,i=r.length;for(t=0;t<n&&e[t]===r[t];t++);var o=n-t;for(s=1;s<=o&&e[n-s]===r[i-s];s++);return Wl=r.slice(t,1<s?1-s:void 0)}function Hl(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function dl(){return!0}function lm(){return!1}function Qt(t){function e(n,s,r,i,o){this._reactName=n,this._targetInst=r,this.type=s,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?dl:lm,this.isPropagationStopped=lm,this}return Ve(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=dl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=dl)},persist:function(){},isPersistent:dl}),e}var Gi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lf=Qt(Gi),Ta=Ve({},Gi,{view:0,detail:0}),yS=Qt(Ta),$u,zu,yo,$c=Ve({},Ta,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cf,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==yo&&(yo&&t.type==="mousemove"?($u=t.screenX-yo.screenX,zu=t.screenY-yo.screenY):zu=$u=0,yo=t),$u)},movementY:function(t){return"movementY"in t?t.movementY:zu}}),cm=Qt($c),xS=Ve({},$c,{dataTransfer:0}),vS=Qt(xS),_S=Ve({},Ta,{relatedTarget:0}),Bu=Qt(_S),wS=Ve({},Gi,{animationName:0,elapsedTime:0,pseudoElement:0}),bS=Qt(wS),kS=Ve({},Gi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),SS=Qt(kS),jS=Ve({},Gi,{data:0}),um=Qt(jS),CS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ES={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},MS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function DS(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=MS[t])?!!e[t]:!1}function cf(){return DS}var NS=Ve({},Ta,{key:function(t){if(t.key){var e=CS[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Hl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ES[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cf,charCode:function(t){return t.type==="keypress"?Hl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Hl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),PS=Qt(NS),TS=Ve({},$c,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),dm=Qt(TS),OS=Ve({},Ta,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cf}),AS=Qt(OS),RS=Ve({},Gi,{propertyName:0,elapsedTime:0,pseudoElement:0}),LS=Qt(RS),FS=Ve({},$c,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),IS=Qt(FS),$S=[9,13,27,32],uf=os&&"CompositionEvent"in window,Fo=null;os&&"documentMode"in document&&(Fo=document.documentMode);var zS=os&&"TextEvent"in window&&!Fo,zy=os&&(!uf||Fo&&8<Fo&&11>=Fo),hm=" ",fm=!1;function By(t,e){switch(t){case"keyup":return $S.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Uy(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var mi=!1;function BS(t,e){switch(t){case"compositionend":return Uy(e);case"keypress":return e.which!==32?null:(fm=!0,hm);case"textInput":return t=e.data,t===hm&&fm?null:t;default:return null}}function US(t,e){if(mi)return t==="compositionend"||!uf&&By(t,e)?(t=$y(),Wl=af=Rs=null,mi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return zy&&e.locale!=="ko"?null:e.data;default:return null}}var WS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!WS[t.type]:e==="textarea"}function Wy(t,e,n,s){_y(s),e=uc(e,"onChange"),0<e.length&&(n=new lf("onChange","change",null,n,s),t.push({event:n,listeners:e}))}var Io=null,oa=null;function HS(t){ex(t,0)}function zc(t){var e=xi(t);if(fy(e))return t}function YS(t,e){if(t==="change")return e}var Hy=!1;if(os){var Uu;if(os){var Wu="oninput"in document;if(!Wu){var mm=document.createElement("div");mm.setAttribute("oninput","return;"),Wu=typeof mm.oninput=="function"}Uu=Wu}else Uu=!1;Hy=Uu&&(!document.documentMode||9<document.documentMode)}function gm(){Io&&(Io.detachEvent("onpropertychange",Yy),oa=Io=null)}function Yy(t){if(t.propertyName==="value"&&zc(oa)){var e=[];Wy(e,oa,t,tf(t)),Sy(HS,e)}}function VS(t,e,n){t==="focusin"?(gm(),Io=e,oa=n,Io.attachEvent("onpropertychange",Yy)):t==="focusout"&&gm()}function GS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return zc(oa)}function qS(t,e){if(t==="click")return zc(e)}function KS(t,e){if(t==="input"||t==="change")return zc(e)}function JS(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var bn=typeof Object.is=="function"?Object.is:JS;function aa(t,e){if(bn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),s=Object.keys(e);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var r=n[s];if(!Dd.call(e,r)||!bn(t[r],e[r]))return!1}return!0}function ym(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function xm(t,e){var n=ym(t);t=0;for(var s;n;){if(n.nodeType===3){if(s=t+n.textContent.length,t<=e&&s>=e)return{node:n,offset:e-t};t=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ym(n)}}function Vy(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Vy(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Gy(){for(var t=window,e=sc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=sc(t.document)}return e}function df(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function XS(t){var e=Gy(),n=t.focusedElem,s=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Vy(n.ownerDocument.documentElement,n)){if(s!==null&&df(n)){if(e=s.start,t=s.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var r=n.textContent.length,i=Math.min(s.start,r);s=s.end===void 0?i:Math.min(s.end,r),!t.extend&&i>s&&(r=s,s=i,i=r),r=xm(n,i);var o=xm(n,s);r&&o&&(t.rangeCount!==1||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),t.removeAllRanges(),i>s?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var QS=os&&"documentMode"in document&&11>=document.documentMode,gi=null,qd=null,$o=null,Kd=!1;function vm(t,e,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Kd||gi==null||gi!==sc(s)||(s=gi,"selectionStart"in s&&df(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),$o&&aa($o,s)||($o=s,s=uc(qd,"onSelect"),0<s.length&&(e=new lf("onSelect","select",null,e,n),t.push({event:e,listeners:s}),e.target=gi)))}function hl(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var yi={animationend:hl("Animation","AnimationEnd"),animationiteration:hl("Animation","AnimationIteration"),animationstart:hl("Animation","AnimationStart"),transitionend:hl("Transition","TransitionEnd")},Hu={},qy={};os&&(qy=document.createElement("div").style,"AnimationEvent"in window||(delete yi.animationend.animation,delete yi.animationiteration.animation,delete yi.animationstart.animation),"TransitionEvent"in window||delete yi.transitionend.transition);function Bc(t){if(Hu[t])return Hu[t];if(!yi[t])return t;var e=yi[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in qy)return Hu[t]=e[n];return t}var Ky=Bc("animationend"),Jy=Bc("animationiteration"),Xy=Bc("animationstart"),Qy=Bc("transitionend"),Zy=new Map,_m="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Qs(t,e){Zy.set(t,e),zr(e,[t])}for(var Yu=0;Yu<_m.length;Yu++){var Vu=_m[Yu],ZS=Vu.toLowerCase(),e2=Vu[0].toUpperCase()+Vu.slice(1);Qs(ZS,"on"+e2)}Qs(Ky,"onAnimationEnd");Qs(Jy,"onAnimationIteration");Qs(Xy,"onAnimationStart");Qs("dblclick","onDoubleClick");Qs("focusin","onFocus");Qs("focusout","onBlur");Qs(Qy,"onTransitionEnd");Ri("onMouseEnter",["mouseout","mouseover"]);Ri("onMouseLeave",["mouseout","mouseover"]);Ri("onPointerEnter",["pointerout","pointerover"]);Ri("onPointerLeave",["pointerout","pointerover"]);zr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));zr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));zr("onBeforeInput",["compositionend","keypress","textInput","paste"]);zr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));zr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));zr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var No="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),t2=new Set("cancel close invalid load scroll toggle".split(" ").concat(No));function wm(t,e,n){var s=t.type||"unknown-event";t.currentTarget=n,Zk(s,e,void 0,t),t.currentTarget=null}function ex(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var s=t[n],r=s.event;s=s.listeners;e:{var i=void 0;if(e)for(var o=s.length-1;0<=o;o--){var a=s[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&r.isPropagationStopped())break e;wm(r,a,u),i=l}else for(o=0;o<s.length;o++){if(a=s[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&r.isPropagationStopped())break e;wm(r,a,u),i=l}}}if(ic)throw t=Hd,ic=!1,Hd=null,t}function Fe(t,e){var n=e[eh];n===void 0&&(n=e[eh]=new Set);var s=t+"__bubble";n.has(s)||(tx(e,t,2,!1),n.add(s))}function Gu(t,e,n){var s=0;e&&(s|=4),tx(n,t,s,e)}var fl="_reactListening"+Math.random().toString(36).slice(2);function la(t){if(!t[fl]){t[fl]=!0,ly.forEach(function(n){n!=="selectionchange"&&(t2.has(n)||Gu(n,!1,t),Gu(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[fl]||(e[fl]=!0,Gu("selectionchange",!1,e))}}function tx(t,e,n,s){switch(Iy(e)){case 1:var r=mS;break;case 4:r=gS;break;default:r=of}n=r.bind(null,e,n,t),r=void 0,!Wd||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),s?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function qu(t,e,n,s,r){var i=s;if(!(e&1)&&!(e&2)&&s!==null)e:for(;;){if(s===null)return;var o=s.tag;if(o===3||o===4){var a=s.stateNode.containerInfo;if(a===r||a.nodeType===8&&a.parentNode===r)break;if(o===4)for(o=s.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===r||l.nodeType===8&&l.parentNode===r))return;o=o.return}for(;a!==null;){if(o=br(a),o===null)return;if(l=o.tag,l===5||l===6){s=i=o;continue e}a=a.parentNode}}s=s.return}Sy(function(){var u=i,d=tf(n),p=[];e:{var g=Zy.get(t);if(g!==void 0){var x=lf,v=t;switch(t){case"keypress":if(Hl(n)===0)break e;case"keydown":case"keyup":x=PS;break;case"focusin":v="focus",x=Bu;break;case"focusout":v="blur",x=Bu;break;case"beforeblur":case"afterblur":x=Bu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=cm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=vS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=AS;break;case Ky:case Jy:case Xy:x=bS;break;case Qy:x=LS;break;case"scroll":x=yS;break;case"wheel":x=IS;break;case"copy":case"cut":case"paste":x=SS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=dm}var k=(e&4)!==0,S=!k&&t==="scroll",_=k?g!==null?g+"Capture":null:g;k=[];for(var b=u,j;b!==null;){j=b;var E=j.stateNode;if(j.tag===5&&E!==null&&(j=E,_!==null&&(E=na(b,_),E!=null&&k.push(ca(b,E,j)))),S)break;b=b.return}0<k.length&&(g=new x(g,v,null,n,d),p.push({event:g,listeners:k}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",x=t==="mouseout"||t==="pointerout",g&&n!==Bd&&(v=n.relatedTarget||n.fromElement)&&(br(v)||v[as]))break e;if((x||g)&&(g=d.window===d?d:(g=d.ownerDocument)?g.defaultView||g.parentWindow:window,x?(v=n.relatedTarget||n.toElement,x=u,v=v?br(v):null,v!==null&&(S=Br(v),v!==S||v.tag!==5&&v.tag!==6)&&(v=null)):(x=null,v=u),x!==v)){if(k=cm,E="onMouseLeave",_="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(k=dm,E="onPointerLeave",_="onPointerEnter",b="pointer"),S=x==null?g:xi(x),j=v==null?g:xi(v),g=new k(E,b+"leave",x,n,d),g.target=S,g.relatedTarget=j,E=null,br(d)===u&&(k=new k(_,b+"enter",v,n,d),k.target=j,k.relatedTarget=S,E=k),S=E,x&&v)t:{for(k=x,_=v,b=0,j=k;j;j=oi(j))b++;for(j=0,E=_;E;E=oi(E))j++;for(;0<b-j;)k=oi(k),b--;for(;0<j-b;)_=oi(_),j--;for(;b--;){if(k===_||_!==null&&k===_.alternate)break t;k=oi(k),_=oi(_)}k=null}else k=null;x!==null&&bm(p,g,x,k,!1),v!==null&&S!==null&&bm(p,S,v,k,!0)}}e:{if(g=u?xi(u):window,x=g.nodeName&&g.nodeName.toLowerCase(),x==="select"||x==="input"&&g.type==="file")var M=YS;else if(pm(g))if(Hy)M=KS;else{M=GS;var O=VS}else(x=g.nodeName)&&x.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(M=qS);if(M&&(M=M(t,u))){Wy(p,M,n,d);break e}O&&O(t,g,u),t==="focusout"&&(O=g._wrapperState)&&O.controlled&&g.type==="number"&&Ld(g,"number",g.value)}switch(O=u?xi(u):window,t){case"focusin":(pm(O)||O.contentEditable==="true")&&(gi=O,qd=u,$o=null);break;case"focusout":$o=qd=gi=null;break;case"mousedown":Kd=!0;break;case"contextmenu":case"mouseup":case"dragend":Kd=!1,vm(p,n,d);break;case"selectionchange":if(QS)break;case"keydown":case"keyup":vm(p,n,d)}var A;if(uf)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else mi?By(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(zy&&n.locale!=="ko"&&(mi||T!=="onCompositionStart"?T==="onCompositionEnd"&&mi&&(A=$y()):(Rs=d,af="value"in Rs?Rs.value:Rs.textContent,mi=!0)),O=uc(u,T),0<O.length&&(T=new um(T,t,null,n,d),p.push({event:T,listeners:O}),A?T.data=A:(A=Uy(n),A!==null&&(T.data=A)))),(A=zS?BS(t,n):US(t,n))&&(u=uc(u,"onBeforeInput"),0<u.length&&(d=new um("onBeforeInput","beforeinput",null,n,d),p.push({event:d,listeners:u}),d.data=A))}ex(p,e)})}function ca(t,e,n){return{instance:t,listener:e,currentTarget:n}}function uc(t,e){for(var n=e+"Capture",s=[];t!==null;){var r=t,i=r.stateNode;r.tag===5&&i!==null&&(r=i,i=na(t,n),i!=null&&s.unshift(ca(t,i,r)),i=na(t,e),i!=null&&s.push(ca(t,i,r))),t=t.return}return s}function oi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function bm(t,e,n,s,r){for(var i=e._reactName,o=[];n!==null&&n!==s;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===s)break;a.tag===5&&u!==null&&(a=u,r?(l=na(n,i),l!=null&&o.unshift(ca(n,l,a))):r||(l=na(n,i),l!=null&&o.push(ca(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var n2=/\r\n?/g,s2=/\u0000|\uFFFD/g;function km(t){return(typeof t=="string"?t:""+t).replace(n2,`
`).replace(s2,"")}function pl(t,e,n){if(e=km(e),km(t)!==e&&n)throw Error(U(425))}function dc(){}var Jd=null,Xd=null;function Qd(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Zd=typeof setTimeout=="function"?setTimeout:void 0,r2=typeof clearTimeout=="function"?clearTimeout:void 0,Sm=typeof Promise=="function"?Promise:void 0,i2=typeof queueMicrotask=="function"?queueMicrotask:typeof Sm<"u"?function(t){return Sm.resolve(null).then(t).catch(o2)}:Zd;function o2(t){setTimeout(function(){throw t})}function Ku(t,e){var n=e,s=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(s===0){t.removeChild(r),ia(e);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=r}while(n);ia(e)}function Ws(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function jm(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var qi=Math.random().toString(36).slice(2),On="__reactFiber$"+qi,ua="__reactProps$"+qi,as="__reactContainer$"+qi,eh="__reactEvents$"+qi,a2="__reactListeners$"+qi,l2="__reactHandles$"+qi;function br(t){var e=t[On];if(e)return e;for(var n=t.parentNode;n;){if(e=n[as]||n[On]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=jm(t);t!==null;){if(n=t[On])return n;t=jm(t)}return e}t=n,n=t.parentNode}return null}function Oa(t){return t=t[On]||t[as],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function xi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(U(33))}function Uc(t){return t[ua]||null}var th=[],vi=-1;function Zs(t){return{current:t}}function $e(t){0>vi||(t.current=th[vi],th[vi]=null,vi--)}function Ae(t,e){vi++,th[vi]=t.current,t.current=e}var Js={},bt=Zs(Js),Bt=Zs(!1),Or=Js;function Li(t,e){var n=t.type.contextTypes;if(!n)return Js;var s=t.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===e)return s.__reactInternalMemoizedMaskedChildContext;var r={},i;for(i in n)r[i]=e[i];return s&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r),r}function Ut(t){return t=t.childContextTypes,t!=null}function hc(){$e(Bt),$e(bt)}function Cm(t,e,n){if(bt.current!==Js)throw Error(U(168));Ae(bt,e),Ae(Bt,n)}function nx(t,e,n){var s=t.stateNode;if(e=e.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var r in s)if(!(r in e))throw Error(U(108,Vk(t)||"Unknown",r));return Ve({},n,s)}function fc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Js,Or=bt.current,Ae(bt,t),Ae(Bt,Bt.current),!0}function Em(t,e,n){var s=t.stateNode;if(!s)throw Error(U(169));n?(t=nx(t,e,Or),s.__reactInternalMemoizedMergedChildContext=t,$e(Bt),$e(bt),Ae(bt,t)):$e(Bt),Ae(Bt,n)}var Qn=null,Wc=!1,Ju=!1;function sx(t){Qn===null?Qn=[t]:Qn.push(t)}function c2(t){Wc=!0,sx(t)}function er(){if(!Ju&&Qn!==null){Ju=!0;var t=0,e=Ne;try{var n=Qn;for(Ne=1;t<n.length;t++){var s=n[t];do s=s(!0);while(s!==null)}Qn=null,Wc=!1}catch(r){throw Qn!==null&&(Qn=Qn.slice(t+1)),My(nf,er),r}finally{Ne=e,Ju=!1}}return null}var _i=[],wi=0,pc=null,mc=0,nn=[],sn=0,Ar=null,es=1,ts="";function gr(t,e){_i[wi++]=mc,_i[wi++]=pc,pc=t,mc=e}function rx(t,e,n){nn[sn++]=es,nn[sn++]=ts,nn[sn++]=Ar,Ar=t;var s=es;t=ts;var r=32-_n(s)-1;s&=~(1<<r),n+=1;var i=32-_n(e)+r;if(30<i){var o=r-r%5;i=(s&(1<<o)-1).toString(32),s>>=o,r-=o,es=1<<32-_n(e)+r|n<<r|s,ts=i+t}else es=1<<i|n<<r|s,ts=t}function hf(t){t.return!==null&&(gr(t,1),rx(t,1,0))}function ff(t){for(;t===pc;)pc=_i[--wi],_i[wi]=null,mc=_i[--wi],_i[wi]=null;for(;t===Ar;)Ar=nn[--sn],nn[sn]=null,ts=nn[--sn],nn[sn]=null,es=nn[--sn],nn[sn]=null}var Kt=null,qt=null,Be=!1,vn=null;function ix(t,e){var n=rn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Mm(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Kt=t,qt=Ws(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Kt=t,qt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ar!==null?{id:es,overflow:ts}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=rn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Kt=t,qt=null,!0):!1;default:return!1}}function nh(t){return(t.mode&1)!==0&&(t.flags&128)===0}function sh(t){if(Be){var e=qt;if(e){var n=e;if(!Mm(t,e)){if(nh(t))throw Error(U(418));e=Ws(n.nextSibling);var s=Kt;e&&Mm(t,e)?ix(s,n):(t.flags=t.flags&-4097|2,Be=!1,Kt=t)}}else{if(nh(t))throw Error(U(418));t.flags=t.flags&-4097|2,Be=!1,Kt=t}}}function Dm(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Kt=t}function ml(t){if(t!==Kt)return!1;if(!Be)return Dm(t),Be=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Qd(t.type,t.memoizedProps)),e&&(e=qt)){if(nh(t))throw ox(),Error(U(418));for(;e;)ix(t,e),e=Ws(e.nextSibling)}if(Dm(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(U(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){qt=Ws(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}qt=null}}else qt=Kt?Ws(t.stateNode.nextSibling):null;return!0}function ox(){for(var t=qt;t;)t=Ws(t.nextSibling)}function Fi(){qt=Kt=null,Be=!1}function pf(t){vn===null?vn=[t]:vn.push(t)}var u2=ds.ReactCurrentBatchConfig;function xo(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(U(309));var s=n.stateNode}if(!s)throw Error(U(147,t));var r=s,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=r.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(U(284));if(!n._owner)throw Error(U(290,t))}return t}function gl(t,e){throw t=Object.prototype.toString.call(e),Error(U(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Nm(t){var e=t._init;return e(t._payload)}function ax(t){function e(_,b){if(t){var j=_.deletions;j===null?(_.deletions=[b],_.flags|=16):j.push(b)}}function n(_,b){if(!t)return null;for(;b!==null;)e(_,b),b=b.sibling;return null}function s(_,b){for(_=new Map;b!==null;)b.key!==null?_.set(b.key,b):_.set(b.index,b),b=b.sibling;return _}function r(_,b){return _=Gs(_,b),_.index=0,_.sibling=null,_}function i(_,b,j){return _.index=j,t?(j=_.alternate,j!==null?(j=j.index,j<b?(_.flags|=2,b):j):(_.flags|=2,b)):(_.flags|=1048576,b)}function o(_){return t&&_.alternate===null&&(_.flags|=2),_}function a(_,b,j,E){return b===null||b.tag!==6?(b=sd(j,_.mode,E),b.return=_,b):(b=r(b,j),b.return=_,b)}function l(_,b,j,E){var M=j.type;return M===pi?d(_,b,j.props.children,E,j.key):b!==null&&(b.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===Es&&Nm(M)===b.type)?(E=r(b,j.props),E.ref=xo(_,b,j),E.return=_,E):(E=Xl(j.type,j.key,j.props,null,_.mode,E),E.ref=xo(_,b,j),E.return=_,E)}function u(_,b,j,E){return b===null||b.tag!==4||b.stateNode.containerInfo!==j.containerInfo||b.stateNode.implementation!==j.implementation?(b=rd(j,_.mode,E),b.return=_,b):(b=r(b,j.children||[]),b.return=_,b)}function d(_,b,j,E,M){return b===null||b.tag!==7?(b=Dr(j,_.mode,E,M),b.return=_,b):(b=r(b,j),b.return=_,b)}function p(_,b,j){if(typeof b=="string"&&b!==""||typeof b=="number")return b=sd(""+b,_.mode,j),b.return=_,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case il:return j=Xl(b.type,b.key,b.props,null,_.mode,j),j.ref=xo(_,null,b),j.return=_,j;case fi:return b=rd(b,_.mode,j),b.return=_,b;case Es:var E=b._init;return p(_,E(b._payload),j)}if(Mo(b)||fo(b))return b=Dr(b,_.mode,j,null),b.return=_,b;gl(_,b)}return null}function g(_,b,j,E){var M=b!==null?b.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return M!==null?null:a(_,b,""+j,E);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case il:return j.key===M?l(_,b,j,E):null;case fi:return j.key===M?u(_,b,j,E):null;case Es:return M=j._init,g(_,b,M(j._payload),E)}if(Mo(j)||fo(j))return M!==null?null:d(_,b,j,E,null);gl(_,j)}return null}function x(_,b,j,E,M){if(typeof E=="string"&&E!==""||typeof E=="number")return _=_.get(j)||null,a(b,_,""+E,M);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case il:return _=_.get(E.key===null?j:E.key)||null,l(b,_,E,M);case fi:return _=_.get(E.key===null?j:E.key)||null,u(b,_,E,M);case Es:var O=E._init;return x(_,b,j,O(E._payload),M)}if(Mo(E)||fo(E))return _=_.get(j)||null,d(b,_,E,M,null);gl(b,E)}return null}function v(_,b,j,E){for(var M=null,O=null,A=b,T=b=0,q=null;A!==null&&T<j.length;T++){A.index>T?(q=A,A=null):q=A.sibling;var z=g(_,A,j[T],E);if(z===null){A===null&&(A=q);break}t&&A&&z.alternate===null&&e(_,A),b=i(z,b,T),O===null?M=z:O.sibling=z,O=z,A=q}if(T===j.length)return n(_,A),Be&&gr(_,T),M;if(A===null){for(;T<j.length;T++)A=p(_,j[T],E),A!==null&&(b=i(A,b,T),O===null?M=A:O.sibling=A,O=A);return Be&&gr(_,T),M}for(A=s(_,A);T<j.length;T++)q=x(A,_,T,j[T],E),q!==null&&(t&&q.alternate!==null&&A.delete(q.key===null?T:q.key),b=i(q,b,T),O===null?M=q:O.sibling=q,O=q);return t&&A.forEach(function(se){return e(_,se)}),Be&&gr(_,T),M}function k(_,b,j,E){var M=fo(j);if(typeof M!="function")throw Error(U(150));if(j=M.call(j),j==null)throw Error(U(151));for(var O=M=null,A=b,T=b=0,q=null,z=j.next();A!==null&&!z.done;T++,z=j.next()){A.index>T?(q=A,A=null):q=A.sibling;var se=g(_,A,z.value,E);if(se===null){A===null&&(A=q);break}t&&A&&se.alternate===null&&e(_,A),b=i(se,b,T),O===null?M=se:O.sibling=se,O=se,A=q}if(z.done)return n(_,A),Be&&gr(_,T),M;if(A===null){for(;!z.done;T++,z=j.next())z=p(_,z.value,E),z!==null&&(b=i(z,b,T),O===null?M=z:O.sibling=z,O=z);return Be&&gr(_,T),M}for(A=s(_,A);!z.done;T++,z=j.next())z=x(A,_,T,z.value,E),z!==null&&(t&&z.alternate!==null&&A.delete(z.key===null?T:z.key),b=i(z,b,T),O===null?M=z:O.sibling=z,O=z);return t&&A.forEach(function(ae){return e(_,ae)}),Be&&gr(_,T),M}function S(_,b,j,E){if(typeof j=="object"&&j!==null&&j.type===pi&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case il:e:{for(var M=j.key,O=b;O!==null;){if(O.key===M){if(M=j.type,M===pi){if(O.tag===7){n(_,O.sibling),b=r(O,j.props.children),b.return=_,_=b;break e}}else if(O.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===Es&&Nm(M)===O.type){n(_,O.sibling),b=r(O,j.props),b.ref=xo(_,O,j),b.return=_,_=b;break e}n(_,O);break}else e(_,O);O=O.sibling}j.type===pi?(b=Dr(j.props.children,_.mode,E,j.key),b.return=_,_=b):(E=Xl(j.type,j.key,j.props,null,_.mode,E),E.ref=xo(_,b,j),E.return=_,_=E)}return o(_);case fi:e:{for(O=j.key;b!==null;){if(b.key===O)if(b.tag===4&&b.stateNode.containerInfo===j.containerInfo&&b.stateNode.implementation===j.implementation){n(_,b.sibling),b=r(b,j.children||[]),b.return=_,_=b;break e}else{n(_,b);break}else e(_,b);b=b.sibling}b=rd(j,_.mode,E),b.return=_,_=b}return o(_);case Es:return O=j._init,S(_,b,O(j._payload),E)}if(Mo(j))return v(_,b,j,E);if(fo(j))return k(_,b,j,E);gl(_,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,b!==null&&b.tag===6?(n(_,b.sibling),b=r(b,j),b.return=_,_=b):(n(_,b),b=sd(j,_.mode,E),b.return=_,_=b),o(_)):n(_,b)}return S}var Ii=ax(!0),lx=ax(!1),gc=Zs(null),yc=null,bi=null,mf=null;function gf(){mf=bi=yc=null}function yf(t){var e=gc.current;$e(gc),t._currentValue=e}function rh(t,e,n){for(;t!==null;){var s=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,s!==null&&(s.childLanes|=e)):s!==null&&(s.childLanes&e)!==e&&(s.childLanes|=e),t===n)break;t=t.return}}function Ni(t,e){yc=t,mf=bi=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(zt=!0),t.firstContext=null)}function ln(t){var e=t._currentValue;if(mf!==t)if(t={context:t,memoizedValue:e,next:null},bi===null){if(yc===null)throw Error(U(308));bi=t,yc.dependencies={lanes:0,firstContext:t}}else bi=bi.next=t;return e}var kr=null;function xf(t){kr===null?kr=[t]:kr.push(t)}function cx(t,e,n,s){var r=e.interleaved;return r===null?(n.next=n,xf(e)):(n.next=r.next,r.next=n),e.interleaved=n,ls(t,s)}function ls(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ms=!1;function vf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ux(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function is(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Hs(t,e,n){var s=t.updateQueue;if(s===null)return null;if(s=s.shared,je&2){var r=s.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),s.pending=e,ls(t,n)}return r=s.interleaved,r===null?(e.next=e,xf(s)):(e.next=r.next,r.next=e),s.interleaved=e,ls(t,n)}function Yl(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var s=e.lanes;s&=t.pendingLanes,n|=s,e.lanes=n,sf(t,n)}}function Pm(t,e){var n=t.updateQueue,s=t.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var r=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?r=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?r=i=e:i=i.next=e}else r=i=e;n={baseState:s.baseState,firstBaseUpdate:r,lastBaseUpdate:i,shared:s.shared,effects:s.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function xc(t,e,n,s){var r=t.updateQueue;Ms=!1;var i=r.firstBaseUpdate,o=r.lastBaseUpdate,a=r.shared.pending;if(a!==null){r.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(i!==null){var p=r.baseState;o=0,d=u=l=null,a=i;do{var g=a.lane,x=a.eventTime;if((s&g)===g){d!==null&&(d=d.next={eventTime:x,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,k=a;switch(g=e,x=n,k.tag){case 1:if(v=k.payload,typeof v=="function"){p=v.call(x,p,g);break e}p=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=k.payload,g=typeof v=="function"?v.call(x,p,g):v,g==null)break e;p=Ve({},p,g);break e;case 2:Ms=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,g=r.effects,g===null?r.effects=[a]:g.push(a))}else x={eventTime:x,lane:g,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=x,l=p):d=d.next=x,o|=g;if(a=a.next,a===null){if(a=r.shared.pending,a===null)break;g=a,a=g.next,g.next=null,r.lastBaseUpdate=g,r.shared.pending=null}}while(!0);if(d===null&&(l=p),r.baseState=l,r.firstBaseUpdate=u,r.lastBaseUpdate=d,e=r.shared.interleaved,e!==null){r=e;do o|=r.lane,r=r.next;while(r!==e)}else i===null&&(r.shared.lanes=0);Lr|=o,t.lanes=o,t.memoizedState=p}}function Tm(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var s=t[e],r=s.callback;if(r!==null){if(s.callback=null,s=n,typeof r!="function")throw Error(U(191,r));r.call(s)}}}var Aa={},Rn=Zs(Aa),da=Zs(Aa),ha=Zs(Aa);function Sr(t){if(t===Aa)throw Error(U(174));return t}function _f(t,e){switch(Ae(ha,e),Ae(da,t),Ae(Rn,Aa),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Id(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Id(e,t)}$e(Rn),Ae(Rn,e)}function $i(){$e(Rn),$e(da),$e(ha)}function dx(t){Sr(ha.current);var e=Sr(Rn.current),n=Id(e,t.type);e!==n&&(Ae(da,t),Ae(Rn,n))}function wf(t){da.current===t&&($e(Rn),$e(da))}var We=Zs(0);function vc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Xu=[];function bf(){for(var t=0;t<Xu.length;t++)Xu[t]._workInProgressVersionPrimary=null;Xu.length=0}var Vl=ds.ReactCurrentDispatcher,Qu=ds.ReactCurrentBatchConfig,Rr=0,Ye=null,it=null,ut=null,_c=!1,zo=!1,fa=0,d2=0;function gt(){throw Error(U(321))}function kf(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!bn(t[n],e[n]))return!1;return!0}function Sf(t,e,n,s,r,i){if(Rr=i,Ye=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Vl.current=t===null||t.memoizedState===null?m2:g2,t=n(s,r),zo){i=0;do{if(zo=!1,fa=0,25<=i)throw Error(U(301));i+=1,ut=it=null,e.updateQueue=null,Vl.current=y2,t=n(s,r)}while(zo)}if(Vl.current=wc,e=it!==null&&it.next!==null,Rr=0,ut=it=Ye=null,_c=!1,e)throw Error(U(300));return t}function jf(){var t=fa!==0;return fa=0,t}function Nn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ut===null?Ye.memoizedState=ut=t:ut=ut.next=t,ut}function cn(){if(it===null){var t=Ye.alternate;t=t!==null?t.memoizedState:null}else t=it.next;var e=ut===null?Ye.memoizedState:ut.next;if(e!==null)ut=e,it=t;else{if(t===null)throw Error(U(310));it=t,t={memoizedState:it.memoizedState,baseState:it.baseState,baseQueue:it.baseQueue,queue:it.queue,next:null},ut===null?Ye.memoizedState=ut=t:ut=ut.next=t}return ut}function pa(t,e){return typeof e=="function"?e(t):e}function Zu(t){var e=cn(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var s=it,r=s.baseQueue,i=n.pending;if(i!==null){if(r!==null){var o=r.next;r.next=i.next,i.next=o}s.baseQueue=r=i,n.pending=null}if(r!==null){i=r.next,s=s.baseState;var a=o=null,l=null,u=i;do{var d=u.lane;if((Rr&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),s=u.hasEagerState?u.eagerState:t(s,u.action);else{var p={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=p,o=s):l=l.next=p,Ye.lanes|=d,Lr|=d}u=u.next}while(u!==null&&u!==i);l===null?o=s:l.next=a,bn(s,e.memoizedState)||(zt=!0),e.memoizedState=s,e.baseState=o,e.baseQueue=l,n.lastRenderedState=s}if(t=n.interleaved,t!==null){r=t;do i=r.lane,Ye.lanes|=i,Lr|=i,r=r.next;while(r!==t)}else r===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function ed(t){var e=cn(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var s=n.dispatch,r=n.pending,i=e.memoizedState;if(r!==null){n.pending=null;var o=r=r.next;do i=t(i,o.action),o=o.next;while(o!==r);bn(i,e.memoizedState)||(zt=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,s]}function hx(){}function fx(t,e){var n=Ye,s=cn(),r=e(),i=!bn(s.memoizedState,r);if(i&&(s.memoizedState=r,zt=!0),s=s.queue,Cf(gx.bind(null,n,s,t),[t]),s.getSnapshot!==e||i||ut!==null&&ut.memoizedState.tag&1){if(n.flags|=2048,ma(9,mx.bind(null,n,s,r,e),void 0,null),dt===null)throw Error(U(349));Rr&30||px(n,e,r)}return r}function px(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ye.updateQueue,e===null?(e={lastEffect:null,stores:null},Ye.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function mx(t,e,n,s){e.value=n,e.getSnapshot=s,yx(e)&&xx(t)}function gx(t,e,n){return n(function(){yx(e)&&xx(t)})}function yx(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!bn(t,n)}catch{return!0}}function xx(t){var e=ls(t,1);e!==null&&wn(e,t,1,-1)}function Om(t){var e=Nn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:pa,lastRenderedState:t},e.queue=t,t=t.dispatch=p2.bind(null,Ye,t),[e.memoizedState,t]}function ma(t,e,n,s){return t={tag:t,create:e,destroy:n,deps:s,next:null},e=Ye.updateQueue,e===null?(e={lastEffect:null,stores:null},Ye.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(s=n.next,n.next=t,t.next=s,e.lastEffect=t)),t}function vx(){return cn().memoizedState}function Gl(t,e,n,s){var r=Nn();Ye.flags|=t,r.memoizedState=ma(1|e,n,void 0,s===void 0?null:s)}function Hc(t,e,n,s){var r=cn();s=s===void 0?null:s;var i=void 0;if(it!==null){var o=it.memoizedState;if(i=o.destroy,s!==null&&kf(s,o.deps)){r.memoizedState=ma(e,n,i,s);return}}Ye.flags|=t,r.memoizedState=ma(1|e,n,i,s)}function Am(t,e){return Gl(8390656,8,t,e)}function Cf(t,e){return Hc(2048,8,t,e)}function _x(t,e){return Hc(4,2,t,e)}function wx(t,e){return Hc(4,4,t,e)}function bx(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function kx(t,e,n){return n=n!=null?n.concat([t]):null,Hc(4,4,bx.bind(null,e,t),n)}function Ef(){}function Sx(t,e){var n=cn();e=e===void 0?null:e;var s=n.memoizedState;return s!==null&&e!==null&&kf(e,s[1])?s[0]:(n.memoizedState=[t,e],t)}function jx(t,e){var n=cn();e=e===void 0?null:e;var s=n.memoizedState;return s!==null&&e!==null&&kf(e,s[1])?s[0]:(t=t(),n.memoizedState=[t,e],t)}function Cx(t,e,n){return Rr&21?(bn(n,e)||(n=Py(),Ye.lanes|=n,Lr|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,zt=!0),t.memoizedState=n)}function h2(t,e){var n=Ne;Ne=n!==0&&4>n?n:4,t(!0);var s=Qu.transition;Qu.transition={};try{t(!1),e()}finally{Ne=n,Qu.transition=s}}function Ex(){return cn().memoizedState}function f2(t,e,n){var s=Vs(t);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},Mx(t))Dx(e,n);else if(n=cx(t,e,n,s),n!==null){var r=Dt();wn(n,t,s,r),Nx(n,e,s)}}function p2(t,e,n){var s=Vs(t),r={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(Mx(t))Dx(e,r);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(r.hasEagerState=!0,r.eagerState=a,bn(a,o)){var l=e.interleaved;l===null?(r.next=r,xf(e)):(r.next=l.next,l.next=r),e.interleaved=r;return}}catch{}finally{}n=cx(t,e,r,s),n!==null&&(r=Dt(),wn(n,t,s,r),Nx(n,e,s))}}function Mx(t){var e=t.alternate;return t===Ye||e!==null&&e===Ye}function Dx(t,e){zo=_c=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Nx(t,e,n){if(n&4194240){var s=e.lanes;s&=t.pendingLanes,n|=s,e.lanes=n,sf(t,n)}}var wc={readContext:ln,useCallback:gt,useContext:gt,useEffect:gt,useImperativeHandle:gt,useInsertionEffect:gt,useLayoutEffect:gt,useMemo:gt,useReducer:gt,useRef:gt,useState:gt,useDebugValue:gt,useDeferredValue:gt,useTransition:gt,useMutableSource:gt,useSyncExternalStore:gt,useId:gt,unstable_isNewReconciler:!1},m2={readContext:ln,useCallback:function(t,e){return Nn().memoizedState=[t,e===void 0?null:e],t},useContext:ln,useEffect:Am,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Gl(4194308,4,bx.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Gl(4194308,4,t,e)},useInsertionEffect:function(t,e){return Gl(4,2,t,e)},useMemo:function(t,e){var n=Nn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var s=Nn();return e=n!==void 0?n(e):e,s.memoizedState=s.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},s.queue=t,t=t.dispatch=f2.bind(null,Ye,t),[s.memoizedState,t]},useRef:function(t){var e=Nn();return t={current:t},e.memoizedState=t},useState:Om,useDebugValue:Ef,useDeferredValue:function(t){return Nn().memoizedState=t},useTransition:function(){var t=Om(!1),e=t[0];return t=h2.bind(null,t[1]),Nn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var s=Ye,r=Nn();if(Be){if(n===void 0)throw Error(U(407));n=n()}else{if(n=e(),dt===null)throw Error(U(349));Rr&30||px(s,e,n)}r.memoizedState=n;var i={value:n,getSnapshot:e};return r.queue=i,Am(gx.bind(null,s,i,t),[t]),s.flags|=2048,ma(9,mx.bind(null,s,i,n,e),void 0,null),n},useId:function(){var t=Nn(),e=dt.identifierPrefix;if(Be){var n=ts,s=es;n=(s&~(1<<32-_n(s)-1)).toString(32)+n,e=":"+e+"R"+n,n=fa++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=d2++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},g2={readContext:ln,useCallback:Sx,useContext:ln,useEffect:Cf,useImperativeHandle:kx,useInsertionEffect:_x,useLayoutEffect:wx,useMemo:jx,useReducer:Zu,useRef:vx,useState:function(){return Zu(pa)},useDebugValue:Ef,useDeferredValue:function(t){var e=cn();return Cx(e,it.memoizedState,t)},useTransition:function(){var t=Zu(pa)[0],e=cn().memoizedState;return[t,e]},useMutableSource:hx,useSyncExternalStore:fx,useId:Ex,unstable_isNewReconciler:!1},y2={readContext:ln,useCallback:Sx,useContext:ln,useEffect:Cf,useImperativeHandle:kx,useInsertionEffect:_x,useLayoutEffect:wx,useMemo:jx,useReducer:ed,useRef:vx,useState:function(){return ed(pa)},useDebugValue:Ef,useDeferredValue:function(t){var e=cn();return it===null?e.memoizedState=t:Cx(e,it.memoizedState,t)},useTransition:function(){var t=ed(pa)[0],e=cn().memoizedState;return[t,e]},useMutableSource:hx,useSyncExternalStore:fx,useId:Ex,unstable_isNewReconciler:!1};function gn(t,e){if(t&&t.defaultProps){e=Ve({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function ih(t,e,n,s){e=t.memoizedState,n=n(s,e),n=n==null?e:Ve({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Yc={isMounted:function(t){return(t=t._reactInternals)?Br(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var s=Dt(),r=Vs(t),i=is(s,r);i.payload=e,n!=null&&(i.callback=n),e=Hs(t,i,r),e!==null&&(wn(e,t,r,s),Yl(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var s=Dt(),r=Vs(t),i=is(s,r);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Hs(t,i,r),e!==null&&(wn(e,t,r,s),Yl(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Dt(),s=Vs(t),r=is(n,s);r.tag=2,e!=null&&(r.callback=e),e=Hs(t,r,s),e!==null&&(wn(e,t,s,n),Yl(e,t,s))}};function Rm(t,e,n,s,r,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(s,i,o):e.prototype&&e.prototype.isPureReactComponent?!aa(n,s)||!aa(r,i):!0}function Px(t,e,n){var s=!1,r=Js,i=e.contextType;return typeof i=="object"&&i!==null?i=ln(i):(r=Ut(e)?Or:bt.current,s=e.contextTypes,i=(s=s!=null)?Li(t,r):Js),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Yc,t.stateNode=e,e._reactInternals=t,s&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=i),e}function Lm(t,e,n,s){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,s),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,s),e.state!==t&&Yc.enqueueReplaceState(e,e.state,null)}function oh(t,e,n,s){var r=t.stateNode;r.props=n,r.state=t.memoizedState,r.refs={},vf(t);var i=e.contextType;typeof i=="object"&&i!==null?r.context=ln(i):(i=Ut(e)?Or:bt.current,r.context=Li(t,i)),r.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(ih(t,e,i,n),r.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&Yc.enqueueReplaceState(r,r.state,null),xc(t,n,r,s),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308)}function zi(t,e){try{var n="",s=e;do n+=Yk(s),s=s.return;while(s);var r=n}catch(i){r=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:r,digest:null}}function td(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function ah(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var x2=typeof WeakMap=="function"?WeakMap:Map;function Tx(t,e,n){n=is(-1,n),n.tag=3,n.payload={element:null};var s=e.value;return n.callback=function(){kc||(kc=!0,yh=s),ah(t,e)},n}function Ox(t,e,n){n=is(-1,n),n.tag=3;var s=t.type.getDerivedStateFromError;if(typeof s=="function"){var r=e.value;n.payload=function(){return s(r)},n.callback=function(){ah(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){ah(t,e),typeof s!="function"&&(Ys===null?Ys=new Set([this]):Ys.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Fm(t,e,n){var s=t.pingCache;if(s===null){s=t.pingCache=new x2;var r=new Set;s.set(e,r)}else r=s.get(e),r===void 0&&(r=new Set,s.set(e,r));r.has(n)||(r.add(n),t=T2.bind(null,t,e,n),e.then(t,t))}function Im(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function $m(t,e,n,s,r){return t.mode&1?(t.flags|=65536,t.lanes=r,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=is(-1,1),e.tag=2,Hs(n,e,1))),n.lanes|=1),t)}var v2=ds.ReactCurrentOwner,zt=!1;function Mt(t,e,n,s){e.child=t===null?lx(e,null,n,s):Ii(e,t.child,n,s)}function zm(t,e,n,s,r){n=n.render;var i=e.ref;return Ni(e,r),s=Sf(t,e,n,s,i,r),n=jf(),t!==null&&!zt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,cs(t,e,r)):(Be&&n&&hf(e),e.flags|=1,Mt(t,e,s,r),e.child)}function Bm(t,e,n,s,r){if(t===null){var i=n.type;return typeof i=="function"&&!Rf(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,Ax(t,e,i,s,r)):(t=Xl(n.type,null,s,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&r)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:aa,n(o,s)&&t.ref===e.ref)return cs(t,e,r)}return e.flags|=1,t=Gs(i,s),t.ref=e.ref,t.return=e,e.child=t}function Ax(t,e,n,s,r){if(t!==null){var i=t.memoizedProps;if(aa(i,s)&&t.ref===e.ref)if(zt=!1,e.pendingProps=s=i,(t.lanes&r)!==0)t.flags&131072&&(zt=!0);else return e.lanes=t.lanes,cs(t,e,r)}return lh(t,e,n,s,r)}function Rx(t,e,n){var s=e.pendingProps,r=s.children,i=t!==null?t.memoizedState:null;if(s.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ae(Si,Gt),Gt|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ae(Si,Gt),Gt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=i!==null?i.baseLanes:n,Ae(Si,Gt),Gt|=s}else i!==null?(s=i.baseLanes|n,e.memoizedState=null):s=n,Ae(Si,Gt),Gt|=s;return Mt(t,e,r,n),e.child}function Lx(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function lh(t,e,n,s,r){var i=Ut(n)?Or:bt.current;return i=Li(e,i),Ni(e,r),n=Sf(t,e,n,s,i,r),s=jf(),t!==null&&!zt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,cs(t,e,r)):(Be&&s&&hf(e),e.flags|=1,Mt(t,e,n,r),e.child)}function Um(t,e,n,s,r){if(Ut(n)){var i=!0;fc(e)}else i=!1;if(Ni(e,r),e.stateNode===null)ql(t,e),Px(e,n,s),oh(e,n,s,r),s=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=ln(u):(u=Ut(n)?Or:bt.current,u=Li(e,u));var d=n.getDerivedStateFromProps,p=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==s||l!==u)&&Lm(e,o,s,u),Ms=!1;var g=e.memoizedState;o.state=g,xc(e,s,o,r),l=e.memoizedState,a!==s||g!==l||Bt.current||Ms?(typeof d=="function"&&(ih(e,n,d,s),l=e.memoizedState),(a=Ms||Rm(e,n,a,s,g,l,u))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=s,e.memoizedState=l),o.props=s,o.state=l,o.context=u,s=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),s=!1)}else{o=e.stateNode,ux(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:gn(e.type,a),o.props=u,p=e.pendingProps,g=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=ln(l):(l=Ut(n)?Or:bt.current,l=Li(e,l));var x=n.getDerivedStateFromProps;(d=typeof x=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==p||g!==l)&&Lm(e,o,s,l),Ms=!1,g=e.memoizedState,o.state=g,xc(e,s,o,r);var v=e.memoizedState;a!==p||g!==v||Bt.current||Ms?(typeof x=="function"&&(ih(e,n,x,s),v=e.memoizedState),(u=Ms||Rm(e,n,u,s,g,v,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(s,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(s,v,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=s,e.memoizedState=v),o.props=s,o.state=v,o.context=l,s=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),s=!1)}return ch(t,e,n,s,i,r)}function ch(t,e,n,s,r,i){Lx(t,e);var o=(e.flags&128)!==0;if(!s&&!o)return r&&Em(e,n,!1),cs(t,e,i);s=e.stateNode,v2.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:s.render();return e.flags|=1,t!==null&&o?(e.child=Ii(e,t.child,null,i),e.child=Ii(e,null,a,i)):Mt(t,e,a,i),e.memoizedState=s.state,r&&Em(e,n,!0),e.child}function Fx(t){var e=t.stateNode;e.pendingContext?Cm(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Cm(t,e.context,!1),_f(t,e.containerInfo)}function Wm(t,e,n,s,r){return Fi(),pf(r),e.flags|=256,Mt(t,e,n,s),e.child}var uh={dehydrated:null,treeContext:null,retryLane:0};function dh(t){return{baseLanes:t,cachePool:null,transitions:null}}function Ix(t,e,n){var s=e.pendingProps,r=We.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(r&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(r|=1),Ae(We,r&1),t===null)return sh(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=s.children,t=s.fallback,i?(s=e.mode,i=e.child,o={mode:"hidden",children:o},!(s&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=qc(o,s,0,null),t=Dr(t,s,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=dh(n),e.memoizedState=uh,t):Mf(e,o));if(r=t.memoizedState,r!==null&&(a=r.dehydrated,a!==null))return _2(t,e,o,s,a,r,n);if(i){i=s.fallback,o=e.mode,r=t.child,a=r.sibling;var l={mode:"hidden",children:s.children};return!(o&1)&&e.child!==r?(s=e.child,s.childLanes=0,s.pendingProps=l,e.deletions=null):(s=Gs(r,l),s.subtreeFlags=r.subtreeFlags&14680064),a!==null?i=Gs(a,i):(i=Dr(i,o,n,null),i.flags|=2),i.return=e,s.return=e,s.sibling=i,e.child=s,s=i,i=e.child,o=t.child.memoizedState,o=o===null?dh(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=uh,s}return i=t.child,t=i.sibling,s=Gs(i,{mode:"visible",children:s.children}),!(e.mode&1)&&(s.lanes=n),s.return=e,s.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=s,e.memoizedState=null,s}function Mf(t,e){return e=qc({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function yl(t,e,n,s){return s!==null&&pf(s),Ii(e,t.child,null,n),t=Mf(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function _2(t,e,n,s,r,i,o){if(n)return e.flags&256?(e.flags&=-257,s=td(Error(U(422))),yl(t,e,o,s)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=s.fallback,r=e.mode,s=qc({mode:"visible",children:s.children},r,0,null),i=Dr(i,r,o,null),i.flags|=2,s.return=e,i.return=e,s.sibling=i,e.child=s,e.mode&1&&Ii(e,t.child,null,o),e.child.memoizedState=dh(o),e.memoizedState=uh,i);if(!(e.mode&1))return yl(t,e,o,null);if(r.data==="$!"){if(s=r.nextSibling&&r.nextSibling.dataset,s)var a=s.dgst;return s=a,i=Error(U(419)),s=td(i,s,void 0),yl(t,e,o,s)}if(a=(o&t.childLanes)!==0,zt||a){if(s=dt,s!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(s.suspendedLanes|o)?0:r,r!==0&&r!==i.retryLane&&(i.retryLane=r,ls(t,r),wn(s,t,r,-1))}return Af(),s=td(Error(U(421))),yl(t,e,o,s)}return r.data==="$?"?(e.flags|=128,e.child=t.child,e=O2.bind(null,t),r._reactRetry=e,null):(t=i.treeContext,qt=Ws(r.nextSibling),Kt=e,Be=!0,vn=null,t!==null&&(nn[sn++]=es,nn[sn++]=ts,nn[sn++]=Ar,es=t.id,ts=t.overflow,Ar=e),e=Mf(e,s.children),e.flags|=4096,e)}function Hm(t,e,n){t.lanes|=e;var s=t.alternate;s!==null&&(s.lanes|=e),rh(t.return,e,n)}function nd(t,e,n,s,r){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:r}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=s,i.tail=n,i.tailMode=r)}function $x(t,e,n){var s=e.pendingProps,r=s.revealOrder,i=s.tail;if(Mt(t,e,s.children,n),s=We.current,s&2)s=s&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Hm(t,n,e);else if(t.tag===19)Hm(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}s&=1}if(Ae(We,s),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&vc(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),nd(e,!1,r,n,i);break;case"backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&vc(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}nd(e,!0,n,null,i);break;case"together":nd(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ql(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function cs(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Lr|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(U(153));if(e.child!==null){for(t=e.child,n=Gs(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Gs(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function w2(t,e,n){switch(e.tag){case 3:Fx(e),Fi();break;case 5:dx(e);break;case 1:Ut(e.type)&&fc(e);break;case 4:_f(e,e.stateNode.containerInfo);break;case 10:var s=e.type._context,r=e.memoizedProps.value;Ae(gc,s._currentValue),s._currentValue=r;break;case 13:if(s=e.memoizedState,s!==null)return s.dehydrated!==null?(Ae(We,We.current&1),e.flags|=128,null):n&e.child.childLanes?Ix(t,e,n):(Ae(We,We.current&1),t=cs(t,e,n),t!==null?t.sibling:null);Ae(We,We.current&1);break;case 19:if(s=(n&e.childLanes)!==0,t.flags&128){if(s)return $x(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Ae(We,We.current),s)break;return null;case 22:case 23:return e.lanes=0,Rx(t,e,n)}return cs(t,e,n)}var zx,hh,Bx,Ux;zx=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};hh=function(){};Bx=function(t,e,n,s){var r=t.memoizedProps;if(r!==s){t=e.stateNode,Sr(Rn.current);var i=null;switch(n){case"input":r=Ad(t,r),s=Ad(t,s),i=[];break;case"select":r=Ve({},r,{value:void 0}),s=Ve({},s,{value:void 0}),i=[];break;case"textarea":r=Fd(t,r),s=Fd(t,s),i=[];break;default:typeof r.onClick!="function"&&typeof s.onClick=="function"&&(t.onclick=dc)}$d(n,s);var o;n=null;for(u in r)if(!s.hasOwnProperty(u)&&r.hasOwnProperty(u)&&r[u]!=null)if(u==="style"){var a=r[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ea.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in s){var l=s[u];if(a=r!=null?r[u]:void 0,s.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ea.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Fe("scroll",t),i||a===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};Ux=function(t,e,n,s){n!==s&&(e.flags|=4)};function vo(t,e){if(!Be)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:s.sibling=null}}function yt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,s=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,s|=r.subtreeFlags&14680064,s|=r.flags&14680064,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,s|=r.subtreeFlags,s|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=s,t.childLanes=n,e}function b2(t,e,n){var s=e.pendingProps;switch(ff(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yt(e),null;case 1:return Ut(e.type)&&hc(),yt(e),null;case 3:return s=e.stateNode,$i(),$e(Bt),$e(bt),bf(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(ml(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,vn!==null&&(_h(vn),vn=null))),hh(t,e),yt(e),null;case 5:wf(e);var r=Sr(ha.current);if(n=e.type,t!==null&&e.stateNode!=null)Bx(t,e,n,s,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!s){if(e.stateNode===null)throw Error(U(166));return yt(e),null}if(t=Sr(Rn.current),ml(e)){s=e.stateNode,n=e.type;var i=e.memoizedProps;switch(s[On]=e,s[ua]=i,t=(e.mode&1)!==0,n){case"dialog":Fe("cancel",s),Fe("close",s);break;case"iframe":case"object":case"embed":Fe("load",s);break;case"video":case"audio":for(r=0;r<No.length;r++)Fe(No[r],s);break;case"source":Fe("error",s);break;case"img":case"image":case"link":Fe("error",s),Fe("load",s);break;case"details":Fe("toggle",s);break;case"input":Zp(s,i),Fe("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!i.multiple},Fe("invalid",s);break;case"textarea":tm(s,i),Fe("invalid",s)}$d(n,i),r=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?s.textContent!==a&&(i.suppressHydrationWarning!==!0&&pl(s.textContent,a,t),r=["children",a]):typeof a=="number"&&s.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&pl(s.textContent,a,t),r=["children",""+a]):ea.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Fe("scroll",s)}switch(n){case"input":ol(s),em(s,i,!0);break;case"textarea":ol(s),nm(s);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(s.onclick=dc)}s=r,e.updateQueue=s,s!==null&&(e.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=gy(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof s.is=="string"?t=o.createElement(n,{is:s.is}):(t=o.createElement(n),n==="select"&&(o=t,s.multiple?o.multiple=!0:s.size&&(o.size=s.size))):t=o.createElementNS(t,n),t[On]=e,t[ua]=s,zx(t,e,!1,!1),e.stateNode=t;e:{switch(o=zd(n,s),n){case"dialog":Fe("cancel",t),Fe("close",t),r=s;break;case"iframe":case"object":case"embed":Fe("load",t),r=s;break;case"video":case"audio":for(r=0;r<No.length;r++)Fe(No[r],t);r=s;break;case"source":Fe("error",t),r=s;break;case"img":case"image":case"link":Fe("error",t),Fe("load",t),r=s;break;case"details":Fe("toggle",t),r=s;break;case"input":Zp(t,s),r=Ad(t,s),Fe("invalid",t);break;case"option":r=s;break;case"select":t._wrapperState={wasMultiple:!!s.multiple},r=Ve({},s,{value:void 0}),Fe("invalid",t);break;case"textarea":tm(t,s),r=Fd(t,s),Fe("invalid",t);break;default:r=s}$d(n,r),a=r;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?vy(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&yy(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ta(t,l):typeof l=="number"&&ta(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ea.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Fe("scroll",t):l!=null&&Xh(t,i,l,o))}switch(n){case"input":ol(t),em(t,s,!1);break;case"textarea":ol(t),nm(t);break;case"option":s.value!=null&&t.setAttribute("value",""+Ks(s.value));break;case"select":t.multiple=!!s.multiple,i=s.value,i!=null?Ci(t,!!s.multiple,i,!1):s.defaultValue!=null&&Ci(t,!!s.multiple,s.defaultValue,!0);break;default:typeof r.onClick=="function"&&(t.onclick=dc)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return yt(e),null;case 6:if(t&&e.stateNode!=null)Ux(t,e,t.memoizedProps,s);else{if(typeof s!="string"&&e.stateNode===null)throw Error(U(166));if(n=Sr(ha.current),Sr(Rn.current),ml(e)){if(s=e.stateNode,n=e.memoizedProps,s[On]=e,(i=s.nodeValue!==n)&&(t=Kt,t!==null))switch(t.tag){case 3:pl(s.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&pl(s.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[On]=e,e.stateNode=s}return yt(e),null;case 13:if($e(We),s=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Be&&qt!==null&&e.mode&1&&!(e.flags&128))ox(),Fi(),e.flags|=98560,i=!1;else if(i=ml(e),s!==null&&s.dehydrated!==null){if(t===null){if(!i)throw Error(U(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(U(317));i[On]=e}else Fi(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;yt(e),i=!1}else vn!==null&&(_h(vn),vn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(s=s!==null,s!==(t!==null&&t.memoizedState!==null)&&s&&(e.child.flags|=8192,e.mode&1&&(t===null||We.current&1?ot===0&&(ot=3):Af())),e.updateQueue!==null&&(e.flags|=4),yt(e),null);case 4:return $i(),hh(t,e),t===null&&la(e.stateNode.containerInfo),yt(e),null;case 10:return yf(e.type._context),yt(e),null;case 17:return Ut(e.type)&&hc(),yt(e),null;case 19:if($e(We),i=e.memoizedState,i===null)return yt(e),null;if(s=(e.flags&128)!==0,o=i.rendering,o===null)if(s)vo(i,!1);else{if(ot!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=vc(t),o!==null){for(e.flags|=128,vo(i,!1),s=o.updateQueue,s!==null&&(e.updateQueue=s,e.flags|=4),e.subtreeFlags=0,s=n,n=e.child;n!==null;)i=n,t=s,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ae(We,We.current&1|2),e.child}t=t.sibling}i.tail!==null&&Xe()>Bi&&(e.flags|=128,s=!0,vo(i,!1),e.lanes=4194304)}else{if(!s)if(t=vc(o),t!==null){if(e.flags|=128,s=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),vo(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Be)return yt(e),null}else 2*Xe()-i.renderingStartTime>Bi&&n!==1073741824&&(e.flags|=128,s=!0,vo(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Xe(),e.sibling=null,n=We.current,Ae(We,s?n&1|2:n&1),e):(yt(e),null);case 22:case 23:return Of(),s=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==s&&(e.flags|=8192),s&&e.mode&1?Gt&1073741824&&(yt(e),e.subtreeFlags&6&&(e.flags|=8192)):yt(e),null;case 24:return null;case 25:return null}throw Error(U(156,e.tag))}function k2(t,e){switch(ff(e),e.tag){case 1:return Ut(e.type)&&hc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return $i(),$e(Bt),$e(bt),bf(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return wf(e),null;case 13:if($e(We),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(U(340));Fi()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return $e(We),null;case 4:return $i(),null;case 10:return yf(e.type._context),null;case 22:case 23:return Of(),null;case 24:return null;default:return null}}var xl=!1,vt=!1,S2=typeof WeakSet=="function"?WeakSet:Set,ee=null;function ki(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){Ke(t,e,s)}else n.current=null}function fh(t,e,n){try{n()}catch(s){Ke(t,e,s)}}var Ym=!1;function j2(t,e){if(Jd=lc,t=Gy(),df(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var r=s.anchorOffset,i=s.focusNode;s=s.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,d=0,p=t,g=null;t:for(;;){for(var x;p!==n||r!==0&&p.nodeType!==3||(a=o+r),p!==i||s!==0&&p.nodeType!==3||(l=o+s),p.nodeType===3&&(o+=p.nodeValue.length),(x=p.firstChild)!==null;)g=p,p=x;for(;;){if(p===t)break t;if(g===n&&++u===r&&(a=o),g===i&&++d===s&&(l=o),(x=p.nextSibling)!==null)break;p=g,g=p.parentNode}p=x}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Xd={focusedElem:t,selectionRange:n},lc=!1,ee=e;ee!==null;)if(e=ee,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ee=t;else for(;ee!==null;){e=ee;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var k=v.memoizedProps,S=v.memoizedState,_=e.stateNode,b=_.getSnapshotBeforeUpdate(e.elementType===e.type?k:gn(e.type,k),S);_.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var j=e.stateNode.containerInfo;j.nodeType===1?j.textContent="":j.nodeType===9&&j.documentElement&&j.removeChild(j.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(U(163))}}catch(E){Ke(e,e.return,E)}if(t=e.sibling,t!==null){t.return=e.return,ee=t;break}ee=e.return}return v=Ym,Ym=!1,v}function Bo(t,e,n){var s=e.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var r=s=s.next;do{if((r.tag&t)===t){var i=r.destroy;r.destroy=void 0,i!==void 0&&fh(e,n,i)}r=r.next}while(r!==s)}}function Vc(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var s=n.create;n.destroy=s()}n=n.next}while(n!==e)}}function ph(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Wx(t){var e=t.alternate;e!==null&&(t.alternate=null,Wx(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[On],delete e[ua],delete e[eh],delete e[a2],delete e[l2])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Hx(t){return t.tag===5||t.tag===3||t.tag===4}function Vm(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Hx(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function mh(t,e,n){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=dc));else if(s!==4&&(t=t.child,t!==null))for(mh(t,e,n),t=t.sibling;t!==null;)mh(t,e,n),t=t.sibling}function gh(t,e,n){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(s!==4&&(t=t.child,t!==null))for(gh(t,e,n),t=t.sibling;t!==null;)gh(t,e,n),t=t.sibling}var ht=null,yn=!1;function ks(t,e,n){for(n=n.child;n!==null;)Yx(t,e,n),n=n.sibling}function Yx(t,e,n){if(An&&typeof An.onCommitFiberUnmount=="function")try{An.onCommitFiberUnmount(Ic,n)}catch{}switch(n.tag){case 5:vt||ki(n,e);case 6:var s=ht,r=yn;ht=null,ks(t,e,n),ht=s,yn=r,ht!==null&&(yn?(t=ht,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ht.removeChild(n.stateNode));break;case 18:ht!==null&&(yn?(t=ht,n=n.stateNode,t.nodeType===8?Ku(t.parentNode,n):t.nodeType===1&&Ku(t,n),ia(t)):Ku(ht,n.stateNode));break;case 4:s=ht,r=yn,ht=n.stateNode.containerInfo,yn=!0,ks(t,e,n),ht=s,yn=r;break;case 0:case 11:case 14:case 15:if(!vt&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){r=s=s.next;do{var i=r,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&fh(n,e,o),r=r.next}while(r!==s)}ks(t,e,n);break;case 1:if(!vt&&(ki(n,e),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(a){Ke(n,e,a)}ks(t,e,n);break;case 21:ks(t,e,n);break;case 22:n.mode&1?(vt=(s=vt)||n.memoizedState!==null,ks(t,e,n),vt=s):ks(t,e,n);break;default:ks(t,e,n)}}function Gm(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new S2),e.forEach(function(s){var r=A2.bind(null,t,s);n.has(s)||(n.add(s),s.then(r,r))})}}function mn(t,e){var n=e.deletions;if(n!==null)for(var s=0;s<n.length;s++){var r=n[s];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:ht=a.stateNode,yn=!1;break e;case 3:ht=a.stateNode.containerInfo,yn=!0;break e;case 4:ht=a.stateNode.containerInfo,yn=!0;break e}a=a.return}if(ht===null)throw Error(U(160));Yx(i,o,r),ht=null,yn=!1;var l=r.alternate;l!==null&&(l.return=null),r.return=null}catch(u){Ke(r,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Vx(e,t),e=e.sibling}function Vx(t,e){var n=t.alternate,s=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(mn(e,t),Cn(t),s&4){try{Bo(3,t,t.return),Vc(3,t)}catch(k){Ke(t,t.return,k)}try{Bo(5,t,t.return)}catch(k){Ke(t,t.return,k)}}break;case 1:mn(e,t),Cn(t),s&512&&n!==null&&ki(n,n.return);break;case 5:if(mn(e,t),Cn(t),s&512&&n!==null&&ki(n,n.return),t.flags&32){var r=t.stateNode;try{ta(r,"")}catch(k){Ke(t,t.return,k)}}if(s&4&&(r=t.stateNode,r!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&py(r,i),zd(a,o);var u=zd(a,i);for(o=0;o<l.length;o+=2){var d=l[o],p=l[o+1];d==="style"?vy(r,p):d==="dangerouslySetInnerHTML"?yy(r,p):d==="children"?ta(r,p):Xh(r,d,p,u)}switch(a){case"input":Rd(r,i);break;case"textarea":my(r,i);break;case"select":var g=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!i.multiple;var x=i.value;x!=null?Ci(r,!!i.multiple,x,!1):g!==!!i.multiple&&(i.defaultValue!=null?Ci(r,!!i.multiple,i.defaultValue,!0):Ci(r,!!i.multiple,i.multiple?[]:"",!1))}r[ua]=i}catch(k){Ke(t,t.return,k)}}break;case 6:if(mn(e,t),Cn(t),s&4){if(t.stateNode===null)throw Error(U(162));r=t.stateNode,i=t.memoizedProps;try{r.nodeValue=i}catch(k){Ke(t,t.return,k)}}break;case 3:if(mn(e,t),Cn(t),s&4&&n!==null&&n.memoizedState.isDehydrated)try{ia(e.containerInfo)}catch(k){Ke(t,t.return,k)}break;case 4:mn(e,t),Cn(t);break;case 13:mn(e,t),Cn(t),r=t.child,r.flags&8192&&(i=r.memoizedState!==null,r.stateNode.isHidden=i,!i||r.alternate!==null&&r.alternate.memoizedState!==null||(Pf=Xe())),s&4&&Gm(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(vt=(u=vt)||d,mn(e,t),vt=u):mn(e,t),Cn(t),s&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(ee=t,d=t.child;d!==null;){for(p=ee=d;ee!==null;){switch(g=ee,x=g.child,g.tag){case 0:case 11:case 14:case 15:Bo(4,g,g.return);break;case 1:ki(g,g.return);var v=g.stateNode;if(typeof v.componentWillUnmount=="function"){s=g,n=g.return;try{e=s,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(k){Ke(s,n,k)}}break;case 5:ki(g,g.return);break;case 22:if(g.memoizedState!==null){Km(p);continue}}x!==null?(x.return=g,ee=x):Km(p)}d=d.sibling}e:for(d=null,p=t;;){if(p.tag===5){if(d===null){d=p;try{r=p.stateNode,u?(i=r.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=p.stateNode,l=p.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=xy("display",o))}catch(k){Ke(t,t.return,k)}}}else if(p.tag===6){if(d===null)try{p.stateNode.nodeValue=u?"":p.memoizedProps}catch(k){Ke(t,t.return,k)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:mn(e,t),Cn(t),s&4&&Gm(t);break;case 21:break;default:mn(e,t),Cn(t)}}function Cn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Hx(n)){var s=n;break e}n=n.return}throw Error(U(160))}switch(s.tag){case 5:var r=s.stateNode;s.flags&32&&(ta(r,""),s.flags&=-33);var i=Vm(t);gh(t,i,r);break;case 3:case 4:var o=s.stateNode.containerInfo,a=Vm(t);mh(t,a,o);break;default:throw Error(U(161))}}catch(l){Ke(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function C2(t,e,n){ee=t,Gx(t)}function Gx(t,e,n){for(var s=(t.mode&1)!==0;ee!==null;){var r=ee,i=r.child;if(r.tag===22&&s){var o=r.memoizedState!==null||xl;if(!o){var a=r.alternate,l=a!==null&&a.memoizedState!==null||vt;a=xl;var u=vt;if(xl=o,(vt=l)&&!u)for(ee=r;ee!==null;)o=ee,l=o.child,o.tag===22&&o.memoizedState!==null?Jm(r):l!==null?(l.return=o,ee=l):Jm(r);for(;i!==null;)ee=i,Gx(i),i=i.sibling;ee=r,xl=a,vt=u}qm(t)}else r.subtreeFlags&8772&&i!==null?(i.return=r,ee=i):qm(t)}}function qm(t){for(;ee!==null;){var e=ee;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:vt||Vc(5,e);break;case 1:var s=e.stateNode;if(e.flags&4&&!vt)if(n===null)s.componentDidMount();else{var r=e.elementType===e.type?n.memoizedProps:gn(e.type,n.memoizedProps);s.componentDidUpdate(r,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Tm(e,i,s);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Tm(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var p=d.dehydrated;p!==null&&ia(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(U(163))}vt||e.flags&512&&ph(e)}catch(g){Ke(e,e.return,g)}}if(e===t){ee=null;break}if(n=e.sibling,n!==null){n.return=e.return,ee=n;break}ee=e.return}}function Km(t){for(;ee!==null;){var e=ee;if(e===t){ee=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ee=n;break}ee=e.return}}function Jm(t){for(;ee!==null;){var e=ee;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Vc(4,e)}catch(l){Ke(e,n,l)}break;case 1:var s=e.stateNode;if(typeof s.componentDidMount=="function"){var r=e.return;try{s.componentDidMount()}catch(l){Ke(e,r,l)}}var i=e.return;try{ph(e)}catch(l){Ke(e,i,l)}break;case 5:var o=e.return;try{ph(e)}catch(l){Ke(e,o,l)}}}catch(l){Ke(e,e.return,l)}if(e===t){ee=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ee=a;break}ee=e.return}}var E2=Math.ceil,bc=ds.ReactCurrentDispatcher,Df=ds.ReactCurrentOwner,an=ds.ReactCurrentBatchConfig,je=0,dt=null,Ze=null,ft=0,Gt=0,Si=Zs(0),ot=0,ga=null,Lr=0,Gc=0,Nf=0,Uo=null,Ft=null,Pf=0,Bi=1/0,Jn=null,kc=!1,yh=null,Ys=null,vl=!1,Ls=null,Sc=0,Wo=0,xh=null,Kl=-1,Jl=0;function Dt(){return je&6?Xe():Kl!==-1?Kl:Kl=Xe()}function Vs(t){return t.mode&1?je&2&&ft!==0?ft&-ft:u2.transition!==null?(Jl===0&&(Jl=Py()),Jl):(t=Ne,t!==0||(t=window.event,t=t===void 0?16:Iy(t.type)),t):1}function wn(t,e,n,s){if(50<Wo)throw Wo=0,xh=null,Error(U(185));Pa(t,n,s),(!(je&2)||t!==dt)&&(t===dt&&(!(je&2)&&(Gc|=n),ot===4&&Ps(t,ft)),Wt(t,s),n===1&&je===0&&!(e.mode&1)&&(Bi=Xe()+500,Wc&&er()))}function Wt(t,e){var n=t.callbackNode;uS(t,e);var s=ac(t,t===dt?ft:0);if(s===0)n!==null&&im(n),t.callbackNode=null,t.callbackPriority=0;else if(e=s&-s,t.callbackPriority!==e){if(n!=null&&im(n),e===1)t.tag===0?c2(Xm.bind(null,t)):sx(Xm.bind(null,t)),i2(function(){!(je&6)&&er()}),n=null;else{switch(Ty(s)){case 1:n=nf;break;case 4:n=Dy;break;case 16:n=oc;break;case 536870912:n=Ny;break;default:n=oc}n=tv(n,qx.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function qx(t,e){if(Kl=-1,Jl=0,je&6)throw Error(U(327));var n=t.callbackNode;if(Pi()&&t.callbackNode!==n)return null;var s=ac(t,t===dt?ft:0);if(s===0)return null;if(s&30||s&t.expiredLanes||e)e=jc(t,s);else{e=s;var r=je;je|=2;var i=Jx();(dt!==t||ft!==e)&&(Jn=null,Bi=Xe()+500,Mr(t,e));do try{N2();break}catch(a){Kx(t,a)}while(!0);gf(),bc.current=i,je=r,Ze!==null?e=0:(dt=null,ft=0,e=ot)}if(e!==0){if(e===2&&(r=Yd(t),r!==0&&(s=r,e=vh(t,r))),e===1)throw n=ga,Mr(t,0),Ps(t,s),Wt(t,Xe()),n;if(e===6)Ps(t,s);else{if(r=t.current.alternate,!(s&30)&&!M2(r)&&(e=jc(t,s),e===2&&(i=Yd(t),i!==0&&(s=i,e=vh(t,i))),e===1))throw n=ga,Mr(t,0),Ps(t,s),Wt(t,Xe()),n;switch(t.finishedWork=r,t.finishedLanes=s,e){case 0:case 1:throw Error(U(345));case 2:yr(t,Ft,Jn);break;case 3:if(Ps(t,s),(s&130023424)===s&&(e=Pf+500-Xe(),10<e)){if(ac(t,0)!==0)break;if(r=t.suspendedLanes,(r&s)!==s){Dt(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=Zd(yr.bind(null,t,Ft,Jn),e);break}yr(t,Ft,Jn);break;case 4:if(Ps(t,s),(s&4194240)===s)break;for(e=t.eventTimes,r=-1;0<s;){var o=31-_n(s);i=1<<o,o=e[o],o>r&&(r=o),s&=~i}if(s=r,s=Xe()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*E2(s/1960))-s,10<s){t.timeoutHandle=Zd(yr.bind(null,t,Ft,Jn),s);break}yr(t,Ft,Jn);break;case 5:yr(t,Ft,Jn);break;default:throw Error(U(329))}}}return Wt(t,Xe()),t.callbackNode===n?qx.bind(null,t):null}function vh(t,e){var n=Uo;return t.current.memoizedState.isDehydrated&&(Mr(t,e).flags|=256),t=jc(t,e),t!==2&&(e=Ft,Ft=n,e!==null&&_h(e)),t}function _h(t){Ft===null?Ft=t:Ft.push.apply(Ft,t)}function M2(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var r=n[s],i=r.getSnapshot;r=r.value;try{if(!bn(i(),r))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ps(t,e){for(e&=~Nf,e&=~Gc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-_n(e),s=1<<n;t[n]=-1,e&=~s}}function Xm(t){if(je&6)throw Error(U(327));Pi();var e=ac(t,0);if(!(e&1))return Wt(t,Xe()),null;var n=jc(t,e);if(t.tag!==0&&n===2){var s=Yd(t);s!==0&&(e=s,n=vh(t,s))}if(n===1)throw n=ga,Mr(t,0),Ps(t,e),Wt(t,Xe()),n;if(n===6)throw Error(U(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,yr(t,Ft,Jn),Wt(t,Xe()),null}function Tf(t,e){var n=je;je|=1;try{return t(e)}finally{je=n,je===0&&(Bi=Xe()+500,Wc&&er())}}function Fr(t){Ls!==null&&Ls.tag===0&&!(je&6)&&Pi();var e=je;je|=1;var n=an.transition,s=Ne;try{if(an.transition=null,Ne=1,t)return t()}finally{Ne=s,an.transition=n,je=e,!(je&6)&&er()}}function Of(){Gt=Si.current,$e(Si)}function Mr(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,r2(n)),Ze!==null)for(n=Ze.return;n!==null;){var s=n;switch(ff(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&hc();break;case 3:$i(),$e(Bt),$e(bt),bf();break;case 5:wf(s);break;case 4:$i();break;case 13:$e(We);break;case 19:$e(We);break;case 10:yf(s.type._context);break;case 22:case 23:Of()}n=n.return}if(dt=t,Ze=t=Gs(t.current,null),ft=Gt=e,ot=0,ga=null,Nf=Gc=Lr=0,Ft=Uo=null,kr!==null){for(e=0;e<kr.length;e++)if(n=kr[e],s=n.interleaved,s!==null){n.interleaved=null;var r=s.next,i=n.pending;if(i!==null){var o=i.next;i.next=r,s.next=o}n.pending=s}kr=null}return t}function Kx(t,e){do{var n=Ze;try{if(gf(),Vl.current=wc,_c){for(var s=Ye.memoizedState;s!==null;){var r=s.queue;r!==null&&(r.pending=null),s=s.next}_c=!1}if(Rr=0,ut=it=Ye=null,zo=!1,fa=0,Df.current=null,n===null||n.return===null){ot=1,ga=e,Ze=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=ft,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,p=d.tag;if(!(d.mode&1)&&(p===0||p===11||p===15)){var g=d.alternate;g?(d.updateQueue=g.updateQueue,d.memoizedState=g.memoizedState,d.lanes=g.lanes):(d.updateQueue=null,d.memoizedState=null)}var x=Im(o);if(x!==null){x.flags&=-257,$m(x,o,a,i,e),x.mode&1&&Fm(i,u,e),e=x,l=u;var v=e.updateQueue;if(v===null){var k=new Set;k.add(l),e.updateQueue=k}else v.add(l);break e}else{if(!(e&1)){Fm(i,u,e),Af();break e}l=Error(U(426))}}else if(Be&&a.mode&1){var S=Im(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),$m(S,o,a,i,e),pf(zi(l,a));break e}}i=l=zi(l,a),ot!==4&&(ot=2),Uo===null?Uo=[i]:Uo.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var _=Tx(i,l,e);Pm(i,_);break e;case 1:a=l;var b=i.type,j=i.stateNode;if(!(i.flags&128)&&(typeof b.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(Ys===null||!Ys.has(j)))){i.flags|=65536,e&=-e,i.lanes|=e;var E=Ox(i,a,e);Pm(i,E);break e}}i=i.return}while(i!==null)}Qx(n)}catch(M){e=M,Ze===n&&n!==null&&(Ze=n=n.return);continue}break}while(!0)}function Jx(){var t=bc.current;return bc.current=wc,t===null?wc:t}function Af(){(ot===0||ot===3||ot===2)&&(ot=4),dt===null||!(Lr&268435455)&&!(Gc&268435455)||Ps(dt,ft)}function jc(t,e){var n=je;je|=2;var s=Jx();(dt!==t||ft!==e)&&(Jn=null,Mr(t,e));do try{D2();break}catch(r){Kx(t,r)}while(!0);if(gf(),je=n,bc.current=s,Ze!==null)throw Error(U(261));return dt=null,ft=0,ot}function D2(){for(;Ze!==null;)Xx(Ze)}function N2(){for(;Ze!==null&&!tS();)Xx(Ze)}function Xx(t){var e=ev(t.alternate,t,Gt);t.memoizedProps=t.pendingProps,e===null?Qx(t):Ze=e,Df.current=null}function Qx(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=k2(n,e),n!==null){n.flags&=32767,Ze=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ot=6,Ze=null;return}}else if(n=b2(n,e,Gt),n!==null){Ze=n;return}if(e=e.sibling,e!==null){Ze=e;return}Ze=e=t}while(e!==null);ot===0&&(ot=5)}function yr(t,e,n){var s=Ne,r=an.transition;try{an.transition=null,Ne=1,P2(t,e,n,s)}finally{an.transition=r,Ne=s}return null}function P2(t,e,n,s){do Pi();while(Ls!==null);if(je&6)throw Error(U(327));n=t.finishedWork;var r=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(U(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(dS(t,i),t===dt&&(Ze=dt=null,ft=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||vl||(vl=!0,tv(oc,function(){return Pi(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=an.transition,an.transition=null;var o=Ne;Ne=1;var a=je;je|=4,Df.current=null,j2(t,n),Vx(n,t),XS(Xd),lc=!!Jd,Xd=Jd=null,t.current=n,C2(n),nS(),je=a,Ne=o,an.transition=i}else t.current=n;if(vl&&(vl=!1,Ls=t,Sc=r),i=t.pendingLanes,i===0&&(Ys=null),iS(n.stateNode),Wt(t,Xe()),e!==null)for(s=t.onRecoverableError,n=0;n<e.length;n++)r=e[n],s(r.value,{componentStack:r.stack,digest:r.digest});if(kc)throw kc=!1,t=yh,yh=null,t;return Sc&1&&t.tag!==0&&Pi(),i=t.pendingLanes,i&1?t===xh?Wo++:(Wo=0,xh=t):Wo=0,er(),null}function Pi(){if(Ls!==null){var t=Ty(Sc),e=an.transition,n=Ne;try{if(an.transition=null,Ne=16>t?16:t,Ls===null)var s=!1;else{if(t=Ls,Ls=null,Sc=0,je&6)throw Error(U(331));var r=je;for(je|=4,ee=t.current;ee!==null;){var i=ee,o=i.child;if(ee.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(ee=u;ee!==null;){var d=ee;switch(d.tag){case 0:case 11:case 15:Bo(8,d,i)}var p=d.child;if(p!==null)p.return=d,ee=p;else for(;ee!==null;){d=ee;var g=d.sibling,x=d.return;if(Wx(d),d===u){ee=null;break}if(g!==null){g.return=x,ee=g;break}ee=x}}}var v=i.alternate;if(v!==null){var k=v.child;if(k!==null){v.child=null;do{var S=k.sibling;k.sibling=null,k=S}while(k!==null)}}ee=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,ee=o;else e:for(;ee!==null;){if(i=ee,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Bo(9,i,i.return)}var _=i.sibling;if(_!==null){_.return=i.return,ee=_;break e}ee=i.return}}var b=t.current;for(ee=b;ee!==null;){o=ee;var j=o.child;if(o.subtreeFlags&2064&&j!==null)j.return=o,ee=j;else e:for(o=b;ee!==null;){if(a=ee,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Vc(9,a)}}catch(M){Ke(a,a.return,M)}if(a===o){ee=null;break e}var E=a.sibling;if(E!==null){E.return=a.return,ee=E;break e}ee=a.return}}if(je=r,er(),An&&typeof An.onPostCommitFiberRoot=="function")try{An.onPostCommitFiberRoot(Ic,t)}catch{}s=!0}return s}finally{Ne=n,an.transition=e}}return!1}function Qm(t,e,n){e=zi(n,e),e=Tx(t,e,1),t=Hs(t,e,1),e=Dt(),t!==null&&(Pa(t,1,e),Wt(t,e))}function Ke(t,e,n){if(t.tag===3)Qm(t,t,n);else for(;e!==null;){if(e.tag===3){Qm(e,t,n);break}else if(e.tag===1){var s=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Ys===null||!Ys.has(s))){t=zi(n,t),t=Ox(e,t,1),e=Hs(e,t,1),t=Dt(),e!==null&&(Pa(e,1,t),Wt(e,t));break}}e=e.return}}function T2(t,e,n){var s=t.pingCache;s!==null&&s.delete(e),e=Dt(),t.pingedLanes|=t.suspendedLanes&n,dt===t&&(ft&n)===n&&(ot===4||ot===3&&(ft&130023424)===ft&&500>Xe()-Pf?Mr(t,0):Nf|=n),Wt(t,e)}function Zx(t,e){e===0&&(t.mode&1?(e=cl,cl<<=1,!(cl&130023424)&&(cl=4194304)):e=1);var n=Dt();t=ls(t,e),t!==null&&(Pa(t,e,n),Wt(t,n))}function O2(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Zx(t,n)}function A2(t,e){var n=0;switch(t.tag){case 13:var s=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:s=t.stateNode;break;default:throw Error(U(314))}s!==null&&s.delete(e),Zx(t,n)}var ev;ev=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Bt.current)zt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return zt=!1,w2(t,e,n);zt=!!(t.flags&131072)}else zt=!1,Be&&e.flags&1048576&&rx(e,mc,e.index);switch(e.lanes=0,e.tag){case 2:var s=e.type;ql(t,e),t=e.pendingProps;var r=Li(e,bt.current);Ni(e,n),r=Sf(null,e,s,t,r,n);var i=jf();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ut(s)?(i=!0,fc(e)):i=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,vf(e),r.updater=Yc,e.stateNode=r,r._reactInternals=e,oh(e,s,t,n),e=ch(null,e,s,!0,i,n)):(e.tag=0,Be&&i&&hf(e),Mt(null,e,r,n),e=e.child),e;case 16:s=e.elementType;e:{switch(ql(t,e),t=e.pendingProps,r=s._init,s=r(s._payload),e.type=s,r=e.tag=L2(s),t=gn(s,t),r){case 0:e=lh(null,e,s,t,n);break e;case 1:e=Um(null,e,s,t,n);break e;case 11:e=zm(null,e,s,t,n);break e;case 14:e=Bm(null,e,s,gn(s.type,t),n);break e}throw Error(U(306,s,""))}return e;case 0:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:gn(s,r),lh(t,e,s,r,n);case 1:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:gn(s,r),Um(t,e,s,r,n);case 3:e:{if(Fx(e),t===null)throw Error(U(387));s=e.pendingProps,i=e.memoizedState,r=i.element,ux(t,e),xc(e,s,null,n);var o=e.memoizedState;if(s=o.element,i.isDehydrated)if(i={element:s,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){r=zi(Error(U(423)),e),e=Wm(t,e,s,n,r);break e}else if(s!==r){r=zi(Error(U(424)),e),e=Wm(t,e,s,n,r);break e}else for(qt=Ws(e.stateNode.containerInfo.firstChild),Kt=e,Be=!0,vn=null,n=lx(e,null,s,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Fi(),s===r){e=cs(t,e,n);break e}Mt(t,e,s,n)}e=e.child}return e;case 5:return dx(e),t===null&&sh(e),s=e.type,r=e.pendingProps,i=t!==null?t.memoizedProps:null,o=r.children,Qd(s,r)?o=null:i!==null&&Qd(s,i)&&(e.flags|=32),Lx(t,e),Mt(t,e,o,n),e.child;case 6:return t===null&&sh(e),null;case 13:return Ix(t,e,n);case 4:return _f(e,e.stateNode.containerInfo),s=e.pendingProps,t===null?e.child=Ii(e,null,s,n):Mt(t,e,s,n),e.child;case 11:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:gn(s,r),zm(t,e,s,r,n);case 7:return Mt(t,e,e.pendingProps,n),e.child;case 8:return Mt(t,e,e.pendingProps.children,n),e.child;case 12:return Mt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(s=e.type._context,r=e.pendingProps,i=e.memoizedProps,o=r.value,Ae(gc,s._currentValue),s._currentValue=o,i!==null)if(bn(i.value,o)){if(i.children===r.children&&!Bt.current){e=cs(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===s){if(i.tag===1){l=is(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),rh(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(U(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),rh(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Mt(t,e,r.children,n),e=e.child}return e;case 9:return r=e.type,s=e.pendingProps.children,Ni(e,n),r=ln(r),s=s(r),e.flags|=1,Mt(t,e,s,n),e.child;case 14:return s=e.type,r=gn(s,e.pendingProps),r=gn(s.type,r),Bm(t,e,s,r,n);case 15:return Ax(t,e,e.type,e.pendingProps,n);case 17:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:gn(s,r),ql(t,e),e.tag=1,Ut(s)?(t=!0,fc(e)):t=!1,Ni(e,n),Px(e,s,r),oh(e,s,r,n),ch(null,e,s,!0,t,n);case 19:return $x(t,e,n);case 22:return Rx(t,e,n)}throw Error(U(156,e.tag))};function tv(t,e){return My(t,e)}function R2(t,e,n,s){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rn(t,e,n,s){return new R2(t,e,n,s)}function Rf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function L2(t){if(typeof t=="function")return Rf(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Zh)return 11;if(t===ef)return 14}return 2}function Gs(t,e){var n=t.alternate;return n===null?(n=rn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Xl(t,e,n,s,r,i){var o=2;if(s=t,typeof t=="function")Rf(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case pi:return Dr(n.children,r,i,e);case Qh:o=8,r|=8;break;case Nd:return t=rn(12,n,e,r|2),t.elementType=Nd,t.lanes=i,t;case Pd:return t=rn(13,n,e,r),t.elementType=Pd,t.lanes=i,t;case Td:return t=rn(19,n,e,r),t.elementType=Td,t.lanes=i,t;case dy:return qc(n,r,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case cy:o=10;break e;case uy:o=9;break e;case Zh:o=11;break e;case ef:o=14;break e;case Es:o=16,s=null;break e}throw Error(U(130,t==null?t:typeof t,""))}return e=rn(o,n,e,r),e.elementType=t,e.type=s,e.lanes=i,e}function Dr(t,e,n,s){return t=rn(7,t,s,e),t.lanes=n,t}function qc(t,e,n,s){return t=rn(22,t,s,e),t.elementType=dy,t.lanes=n,t.stateNode={isHidden:!1},t}function sd(t,e,n){return t=rn(6,t,null,e),t.lanes=n,t}function rd(t,e,n){return e=rn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function F2(t,e,n,s,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Iu(0),this.expirationTimes=Iu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Iu(0),this.identifierPrefix=s,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Lf(t,e,n,s,r,i,o,a,l){return t=new F2(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=rn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},vf(i),t}function I2(t,e,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:fi,key:s==null?null:""+s,children:t,containerInfo:e,implementation:n}}function nv(t){if(!t)return Js;t=t._reactInternals;e:{if(Br(t)!==t||t.tag!==1)throw Error(U(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ut(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(U(171))}if(t.tag===1){var n=t.type;if(Ut(n))return nx(t,n,e)}return e}function sv(t,e,n,s,r,i,o,a,l){return t=Lf(n,s,!0,t,r,i,o,a,l),t.context=nv(null),n=t.current,s=Dt(),r=Vs(n),i=is(s,r),i.callback=e??null,Hs(n,i,r),t.current.lanes=r,Pa(t,r,s),Wt(t,s),t}function Kc(t,e,n,s){var r=e.current,i=Dt(),o=Vs(r);return n=nv(n),e.context===null?e.context=n:e.pendingContext=n,e=is(i,o),e.payload={element:t},s=s===void 0?null:s,s!==null&&(e.callback=s),t=Hs(r,e,o),t!==null&&(wn(t,r,o,i),Yl(t,r,o)),o}function Cc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Zm(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Ff(t,e){Zm(t,e),(t=t.alternate)&&Zm(t,e)}function $2(){return null}var rv=typeof reportError=="function"?reportError:function(t){console.error(t)};function If(t){this._internalRoot=t}Jc.prototype.render=If.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(U(409));Kc(t,e,null,null)};Jc.prototype.unmount=If.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Fr(function(){Kc(null,t,null,null)}),e[as]=null}};function Jc(t){this._internalRoot=t}Jc.prototype.unstable_scheduleHydration=function(t){if(t){var e=Ry();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ns.length&&e!==0&&e<Ns[n].priority;n++);Ns.splice(n,0,t),n===0&&Fy(t)}};function $f(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Xc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function eg(){}function z2(t,e,n,s,r){if(r){if(typeof s=="function"){var i=s;s=function(){var u=Cc(o);i.call(u)}}var o=sv(e,s,t,0,null,!1,!1,"",eg);return t._reactRootContainer=o,t[as]=o.current,la(t.nodeType===8?t.parentNode:t),Fr(),o}for(;r=t.lastChild;)t.removeChild(r);if(typeof s=="function"){var a=s;s=function(){var u=Cc(l);a.call(u)}}var l=Lf(t,0,!1,null,null,!1,!1,"",eg);return t._reactRootContainer=l,t[as]=l.current,la(t.nodeType===8?t.parentNode:t),Fr(function(){Kc(e,l,n,s)}),l}function Qc(t,e,n,s,r){var i=n._reactRootContainer;if(i){var o=i;if(typeof r=="function"){var a=r;r=function(){var l=Cc(o);a.call(l)}}Kc(e,o,t,r)}else o=z2(n,e,t,r,s);return Cc(o)}Oy=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Do(e.pendingLanes);n!==0&&(sf(e,n|1),Wt(e,Xe()),!(je&6)&&(Bi=Xe()+500,er()))}break;case 13:Fr(function(){var s=ls(t,1);if(s!==null){var r=Dt();wn(s,t,1,r)}}),Ff(t,1)}};rf=function(t){if(t.tag===13){var e=ls(t,134217728);if(e!==null){var n=Dt();wn(e,t,134217728,n)}Ff(t,134217728)}};Ay=function(t){if(t.tag===13){var e=Vs(t),n=ls(t,e);if(n!==null){var s=Dt();wn(n,t,e,s)}Ff(t,e)}};Ry=function(){return Ne};Ly=function(t,e){var n=Ne;try{return Ne=t,e()}finally{Ne=n}};Ud=function(t,e,n){switch(e){case"input":if(Rd(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var s=n[e];if(s!==t&&s.form===t.form){var r=Uc(s);if(!r)throw Error(U(90));fy(s),Rd(s,r)}}}break;case"textarea":my(t,n);break;case"select":e=n.value,e!=null&&Ci(t,!!n.multiple,e,!1)}};by=Tf;ky=Fr;var B2={usingClientEntryPoint:!1,Events:[Oa,xi,Uc,_y,wy,Tf]},_o={findFiberByHostInstance:br,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},U2={bundleType:_o.bundleType,version:_o.version,rendererPackageName:_o.rendererPackageName,rendererConfig:_o.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ds.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Cy(t),t===null?null:t.stateNode},findFiberByHostInstance:_o.findFiberByHostInstance||$2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _l=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_l.isDisabled&&_l.supportsFiber)try{Ic=_l.inject(U2),An=_l}catch{}}Xt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=B2;Xt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!$f(e))throw Error(U(200));return I2(t,e,null,n)};Xt.createRoot=function(t,e){if(!$f(t))throw Error(U(299));var n=!1,s="",r=rv;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(s=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=Lf(t,1,!1,null,null,n,!1,s,r),t[as]=e.current,la(t.nodeType===8?t.parentNode:t),new If(e)};Xt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(U(188)):(t=Object.keys(t).join(","),Error(U(268,t)));return t=Cy(e),t=t===null?null:t.stateNode,t};Xt.flushSync=function(t){return Fr(t)};Xt.hydrate=function(t,e,n){if(!Xc(e))throw Error(U(200));return Qc(null,t,e,!0,n)};Xt.hydrateRoot=function(t,e,n){if(!$f(t))throw Error(U(405));var s=n!=null&&n.hydratedSources||null,r=!1,i="",o=rv;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=sv(e,null,t,1,n??null,r,!1,i,o),t[as]=e.current,la(t),s)for(t=0;t<s.length;t++)n=s[t],r=n._getVersion,r=r(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,r]:e.mutableSourceEagerHydrationData.push(n,r);return new Jc(e)};Xt.render=function(t,e,n){if(!Xc(e))throw Error(U(200));return Qc(null,t,e,!1,n)};Xt.unmountComponentAtNode=function(t){if(!Xc(t))throw Error(U(40));return t._reactRootContainer?(Fr(function(){Qc(null,null,t,!1,function(){t._reactRootContainer=null,t[as]=null})}),!0):!1};Xt.unstable_batchedUpdates=Tf;Xt.unstable_renderSubtreeIntoContainer=function(t,e,n,s){if(!Xc(n))throw Error(U(200));if(t==null||t._reactInternals===void 0)throw Error(U(38));return Qc(t,e,n,!1,s)};Xt.version="18.3.1-next-f1338f8080-20240426";function iv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(iv)}catch(t){console.error(t)}}iv(),iy.exports=Xt;var W2=iy.exports,ov,tg=W2;ov=tg.createRoot,tg.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ya(){return ya=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},ya.apply(this,arguments)}var Fs;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Fs||(Fs={}));const ng="popstate";function H2(t){t===void 0&&(t={});function e(r,i){let{pathname:o="/",search:a="",hash:l=""}=Ur(r.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),wh("",{pathname:o,search:a,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){let o=r.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=r.location.href,u=l.indexOf("#");a=u===-1?l:l.slice(0,u)}return a+"#"+(typeof i=="string"?i:av(i))}function s(r,i){zf(r.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return V2(e,n,s,t)}function tt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function zf(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Y2(){return Math.random().toString(36).substr(2,8)}function sg(t,e){return{usr:t.state,key:t.key,idx:e}}function wh(t,e,n,s){return n===void 0&&(n=null),ya({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ur(e):e,{state:n,key:e&&e.key||s||Y2()})}function av(t){let{pathname:e="/",search:n="",hash:s=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function Ur(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substr(s),t=t.substr(0,s)),t&&(e.pathname=t)}return e}function V2(t,e,n,s){s===void 0&&(s={});let{window:r=document.defaultView,v5Compat:i=!1}=s,o=r.history,a=Fs.Pop,l=null,u=d();u==null&&(u=0,o.replaceState(ya({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function p(){a=Fs.Pop;let S=d(),_=S==null?null:S-u;u=S,l&&l({action:a,location:k.location,delta:_})}function g(S,_){a=Fs.Push;let b=wh(k.location,S,_);n&&n(b,S),u=d()+1;let j=sg(b,u),E=k.createHref(b);try{o.pushState(j,"",E)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;r.location.assign(E)}i&&l&&l({action:a,location:k.location,delta:1})}function x(S,_){a=Fs.Replace;let b=wh(k.location,S,_);n&&n(b,S),u=d();let j=sg(b,u),E=k.createHref(b);o.replaceState(j,"",E),i&&l&&l({action:a,location:k.location,delta:0})}function v(S){let _=r.location.origin!=="null"?r.location.origin:r.location.href,b=typeof S=="string"?S:av(S);return b=b.replace(/ $/,"%20"),tt(_,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,_)}let k={get action(){return a},get location(){return t(r,o)},listen(S){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(ng,p),l=S,()=>{r.removeEventListener(ng,p),l=null}},createHref(S){return e(r,S)},createURL:v,encodeLocation(S){let _=v(S);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:g,replace:x,go(S){return o.go(S)}};return k}var rg;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(rg||(rg={}));function G2(t,e,n){return n===void 0&&(n="/"),q2(t,e,n)}function q2(t,e,n,s){let r=typeof e=="string"?Ur(e):e,i=uv(r.pathname||"/",n);if(i==null)return null;let o=lv(t);K2(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=aj(i);a=rj(o[l],u)}return a}function lv(t,e,n,s){e===void 0&&(e=[]),n===void 0&&(n=[]),s===void 0&&(s="");let r=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(tt(l.relativePath.startsWith(s),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(s.length));let u=Nr([s,l.relativePath]),d=n.concat(l);i.children&&i.children.length>0&&(tt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),lv(i.children,e,d,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:nj(u,i.index),routesMeta:d})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))r(i,o);else for(let l of cv(i.path))r(i,o,l)}),e}function cv(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,r=n.endsWith("?"),i=n.replace(/\?$/,"");if(s.length===0)return r?[i,""]:[i];let o=cv(s.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),r&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function K2(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:sj(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}const J2=/^:[\w-]+$/,X2=3,Q2=2,Z2=1,ej=10,tj=-2,ig=t=>t==="*";function nj(t,e){let n=t.split("/"),s=n.length;return n.some(ig)&&(s+=tj),e&&(s+=Q2),n.filter(r=>!ig(r)).reduce((r,i)=>r+(J2.test(i)?X2:i===""?Z2:ej),s)}function sj(t,e){return t.length===e.length&&t.slice(0,-1).every((s,r)=>s===e[r])?t[t.length-1]-e[e.length-1]:0}function rj(t,e,n){let{routesMeta:s}=t,r={},i="/",o=[];for(let a=0;a<s.length;++a){let l=s[a],u=a===s.length-1,d=i==="/"?e:e.slice(i.length)||"/",p=ij({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),g=l.route;if(!p)return null;Object.assign(r,p.params),o.push({params:r,pathname:Nr([i,p.pathname]),pathnameBase:dj(Nr([i,p.pathnameBase])),route:g}),p.pathnameBase!=="/"&&(i=Nr([i,p.pathnameBase]))}return o}function ij(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=oj(t.path,t.caseSensitive,t.end),r=e.match(n);if(!r)return null;let i=r[0],o=i.replace(/(.)\/+$/,"$1"),a=r.slice(1);return{params:s.reduce((u,d,p)=>{let{paramName:g,isOptional:x}=d;if(g==="*"){let k=a[p]||"";o=i.slice(0,i.length-k.length).replace(/(.)\/+$/,"$1")}const v=a[p];return x&&!v?u[g]=void 0:u[g]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:t}}function oj(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),zf(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let s=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(s.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(s.push({paramName:"*"}),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),s]}function aj(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return zf(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function uv(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}function lj(t,e){e===void 0&&(e="/");let{pathname:n,search:s="",hash:r=""}=typeof t=="string"?Ur(t):t;return{pathname:n?n.startsWith("/")?n:cj(n,e):e,search:hj(s),hash:fj(r)}}function cj(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function id(t,e,n,s){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function uj(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function dv(t,e){let n=uj(t);return e?n.map((s,r)=>r===n.length-1?s.pathname:s.pathnameBase):n.map(s=>s.pathnameBase)}function hv(t,e,n,s){s===void 0&&(s=!1);let r;typeof t=="string"?r=Ur(t):(r=ya({},t),tt(!r.pathname||!r.pathname.includes("?"),id("?","pathname","search",r)),tt(!r.pathname||!r.pathname.includes("#"),id("#","pathname","hash",r)),tt(!r.search||!r.search.includes("#"),id("#","search","hash",r)));let i=t===""||r.pathname==="",o=i?"/":r.pathname,a;if(o==null)a=n;else{let p=e.length-1;if(!s&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),p-=1;r.pathname=g.join("/")}a=p>=0?e[p]:"/"}let l=lj(r,a),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const Nr=t=>t.join("/").replace(/\/\/+/g,"/"),dj=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),hj=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,fj=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function pj(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const fv=["post","put","patch","delete"];new Set(fv);const mj=["get",...fv];new Set(mj);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xa(){return xa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},xa.apply(this,arguments)}const Bf=D.createContext(null),gj=D.createContext(null),Ra=D.createContext(null),Zc=D.createContext(null),Wr=D.createContext({outlet:null,matches:[],isDataRoute:!1}),pv=D.createContext(null);function La(){return D.useContext(Zc)!=null}function Uf(){return La()||tt(!1),D.useContext(Zc).location}function mv(t){D.useContext(Ra).static||D.useLayoutEffect(t)}function gv(){let{isDataRoute:t}=D.useContext(Wr);return t?Dj():yj()}function yj(){La()||tt(!1);let t=D.useContext(Bf),{basename:e,future:n,navigator:s}=D.useContext(Ra),{matches:r}=D.useContext(Wr),{pathname:i}=Uf(),o=JSON.stringify(dv(r,n.v7_relativeSplatPath)),a=D.useRef(!1);return mv(()=>{a.current=!0}),D.useCallback(function(u,d){if(d===void 0&&(d={}),!a.current)return;if(typeof u=="number"){s.go(u);return}let p=hv(u,JSON.parse(o),i,d.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Nr([e,p.pathname])),(d.replace?s.replace:s.push)(p,d.state,d)},[e,s,o,i,t])}function xj(t,e){return vj(t,e)}function vj(t,e,n,s){La()||tt(!1);let{navigator:r}=D.useContext(Ra),{matches:i}=D.useContext(Wr),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=Uf(),d;if(e){var p;let S=typeof e=="string"?Ur(e):e;l==="/"||(p=S.pathname)!=null&&p.startsWith(l)||tt(!1),d=S}else d=u;let g=d.pathname||"/",x=g;if(l!=="/"){let S=l.replace(/^\//,"").split("/");x="/"+g.replace(/^\//,"").split("/").slice(S.length).join("/")}let v=G2(t,{pathname:x}),k=Sj(v&&v.map(S=>Object.assign({},S,{params:Object.assign({},a,S.params),pathname:Nr([l,r.encodeLocation?r.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?l:Nr([l,r.encodeLocation?r.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),i,n,s);return e&&k?D.createElement(Zc.Provider,{value:{location:xa({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Fs.Pop}},k):k}function _j(){let t=Mj(),e=pj(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},e),n?D.createElement("pre",{style:r},n):null,null)}const wj=D.createElement(_j,null);class bj extends D.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?D.createElement(Wr.Provider,{value:this.props.routeContext},D.createElement(pv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function kj(t){let{routeContext:e,match:n,children:s}=t,r=D.useContext(Bf);return r&&r.static&&r.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),D.createElement(Wr.Provider,{value:e},s)}function Sj(t,e,n,s){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),s===void 0&&(s=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=s)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(r=n)==null?void 0:r.errors;if(a!=null){let d=o.findIndex(p=>p.route.id&&(a==null?void 0:a[p.route.id])!==void 0);d>=0||tt(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,u=-1;if(n&&s&&s.v7_partialHydration)for(let d=0;d<o.length;d++){let p=o[d];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(u=d),p.route.id){let{loaderData:g,errors:x}=n,v=p.route.loader&&g[p.route.id]===void 0&&(!x||x[p.route.id]===void 0);if(p.route.lazy||v){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,p,g)=>{let x,v=!1,k=null,S=null;n&&(x=a&&p.route.id?a[p.route.id]:void 0,k=p.route.errorElement||wj,l&&(u<0&&g===0?(Nj("route-fallback"),v=!0,S=null):u===g&&(v=!0,S=p.route.hydrateFallbackElement||null)));let _=e.concat(o.slice(0,g+1)),b=()=>{let j;return x?j=k:v?j=S:p.route.Component?j=D.createElement(p.route.Component,null):p.route.element?j=p.route.element:j=d,D.createElement(kj,{match:p,routeContext:{outlet:d,matches:_,isDataRoute:n!=null},children:j})};return n&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?D.createElement(bj,{location:n.location,revalidation:n.revalidation,component:k,error:x,children:b(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):b()},null)}var yv=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(yv||{}),xv=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(xv||{});function jj(t){let e=D.useContext(Bf);return e||tt(!1),e}function Cj(t){let e=D.useContext(gj);return e||tt(!1),e}function Ej(t){let e=D.useContext(Wr);return e||tt(!1),e}function vv(t){let e=Ej(),n=e.matches[e.matches.length-1];return n.route.id||tt(!1),n.route.id}function Mj(){var t;let e=D.useContext(pv),n=Cj(),s=vv();return e!==void 0?e:(t=n.errors)==null?void 0:t[s]}function Dj(){let{router:t}=jj(yv.UseNavigateStable),e=vv(xv.UseNavigateStable),n=D.useRef(!1);return mv(()=>{n.current=!0}),D.useCallback(function(r,i){i===void 0&&(i={}),n.current&&(typeof r=="number"?t.navigate(r):t.navigate(r,xa({fromRouteId:e},i)))},[t,e])}const og={};function Nj(t,e,n){og[t]||(og[t]=!0)}function Pj(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function bh(t){let{to:e,replace:n,state:s,relative:r}=t;La()||tt(!1);let{future:i,static:o}=D.useContext(Ra),{matches:a}=D.useContext(Wr),{pathname:l}=Uf(),u=gv(),d=hv(e,dv(a,i.v7_relativeSplatPath),l,r==="path"),p=JSON.stringify(d);return D.useEffect(()=>u(JSON.parse(p),{replace:n,state:s,relative:r}),[u,p,r,n,s]),null}function Ts(t){tt(!1)}function Tj(t){let{basename:e="/",children:n=null,location:s,navigationType:r=Fs.Pop,navigator:i,static:o=!1,future:a}=t;La()&&tt(!1);let l=e.replace(/^\/*/,"/"),u=D.useMemo(()=>({basename:l,navigator:i,static:o,future:xa({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof s=="string"&&(s=Ur(s));let{pathname:d="/",search:p="",hash:g="",state:x=null,key:v="default"}=s,k=D.useMemo(()=>{let S=uv(d,l);return S==null?null:{location:{pathname:S,search:p,hash:g,state:x,key:v},navigationType:r}},[l,d,p,g,x,v,r]);return k==null?null:D.createElement(Ra.Provider,{value:u},D.createElement(Zc.Provider,{children:n,value:k}))}function _v(t){let{children:e,location:n}=t;return xj(kh(e),n)}new Promise(()=>{});function kh(t,e){e===void 0&&(e=[]);let n=[];return D.Children.forEach(t,(s,r)=>{if(!D.isValidElement(s))return;let i=[...e,r];if(s.type===D.Fragment){n.push.apply(n,kh(s.props.children,i));return}s.type!==Ts&&tt(!1),!s.props.index||!s.props.children||tt(!1);let o={id:s.props.id||i.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(o.children=kh(s.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const Oj="6";try{window.__reactRouterVersion=Oj}catch{}const Aj="startTransition",ag=Tk[Aj];function Rj(t){let{basename:e,children:n,future:s,window:r}=t,i=D.useRef();i.current==null&&(i.current=H2({window:r,v5Compat:!0}));let o=i.current,[a,l]=D.useState({action:o.action,location:o.location}),{v7_startTransition:u}=s||{},d=D.useCallback(p=>{u&&ag?ag(()=>l(p)):l(p)},[l,u]);return D.useLayoutEffect(()=>o.listen(d),[o,d]),D.useEffect(()=>Pj(s),[s]),D.createElement(Tj,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:s})}var lg;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(lg||(lg={}));var cg;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(cg||(cg={}));const Lj="modulepreload",Fj=function(t){return"/AndrewsDentalGroup/"+t},ug={},Ui=function(e,n,s){let r=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));r=Promise.allSettled(n.map(l=>{if(l=Fj(l),l in ug)return;ug[l]=!0;const u=l.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const p=document.createElement("link");if(p.rel=u?"stylesheet":Lj,u||(p.as="script"),p.crossOrigin="",p.href=l,a&&p.setAttribute("nonce",a),document.head.appendChild(p),u)return new Promise((g,x)=>{p.addEventListener("load",g),p.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return r.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})},Ij=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Ui(async()=>{const{default:s}=await Promise.resolve().then(()=>Ki);return{default:s}},void 0).then(({default:s})=>s(...n)):e=fetch,(...n)=>e(...n)};class Wf extends Error{constructor(e,n="FunctionsError",s){super(e),this.name=n,this.context=s}}class $j extends Wf{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class zj extends Wf{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Bj extends Wf{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Sh;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Sh||(Sh={}));var Uj=function(t,e,n,s){function r(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{u(s.next(d))}catch(p){o(p)}}function l(d){try{u(s.throw(d))}catch(p){o(p)}}function u(d){d.done?i(d.value):r(d.value).then(a,l)}u((s=s.apply(t,e||[])).next())})};class Wj{constructor(e,{headers:n={},customFetch:s,region:r=Sh.Any}={}){this.url=e,this.headers=n,this.region=r,this.fetch=Ij(s)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var s;return Uj(this,void 0,void 0,function*(){try{const{headers:r,method:i,body:o}=n;let a={},{region:l}=n;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let u;o&&(r&&!Object.prototype.hasOwnProperty.call(r,"Content-Type")||!r)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(a["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(a["Content-Type"]="application/json",u=JSON.stringify(o)));const d=yield this.fetch(`${this.url}/${e}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),r),body:u}).catch(v=>{throw new $j(v)}),p=d.headers.get("x-relay-error");if(p&&p==="true")throw new zj(d);if(!d.ok)throw new Bj(d);let g=((s=d.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),x;return g==="application/json"?x=yield d.json():g==="application/octet-stream"?x=yield d.blob():g==="text/event-stream"?x=d:g==="multipart/form-data"?x=yield d.formData():x=yield d.text(),{data:x,error:null}}catch(r){return{data:null,error:r}}})}}var It={},Hf={},eu={},Fa={},tu={},nu={},Hj=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Wi=Hj();const Yj=Wi.fetch,wv=Wi.fetch.bind(Wi),bv=Wi.Headers,Vj=Wi.Request,Gj=Wi.Response,Ki=Object.freeze(Object.defineProperty({__proto__:null,Headers:bv,Request:Vj,Response:Gj,default:wv,fetch:Yj},Symbol.toStringTag,{value:"Module"})),qj=gk(Ki);var su={};Object.defineProperty(su,"__esModule",{value:!0});let Kj=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};su.default=Kj;var kv=Ht&&Ht.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(nu,"__esModule",{value:!0});const Jj=kv(qj),Xj=kv(su);let Qj=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=Jj.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=Object.assign({},this.headers),this.headers[e]=n,this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const s=this.fetch;let r=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,l;let u=null,d=null,p=null,g=i.status,x=i.statusText;if(i.ok){if(this.method!=="HEAD"){const _=await i.text();_===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=_:d=JSON.parse(_))}const k=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),S=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");k&&S&&S.length>1&&(p=parseInt(S[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,p=null,g=406,x="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const k=await i.text();try{u=JSON.parse(k),Array.isArray(u)&&i.status===404&&(d=[],u=null,g=200,x="OK")}catch{i.status===404&&k===""?(g=204,x="No Content"):u={message:k}}if(u&&this.isMaybeSingle&&(!((l=u==null?void 0:u.details)===null||l===void 0)&&l.includes("0 rows"))&&(u=null,g=200,x="OK"),u&&this.shouldThrowOnError)throw new Xj.default(u)}return{error:u,data:d,count:p,status:g,statusText:x}});return this.shouldThrowOnError||(r=r.catch(i=>{var o,a,l;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),r.then(e,n)}returns(){return this}overrideTypes(){return this}};nu.default=Qj;var Zj=Ht&&Ht.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(tu,"__esModule",{value:!0});const eC=Zj(nu);let tC=class extends eC.default{select(e){let n=!1;const s=(e??"*").split("").map(r=>/\s/.test(r)&&!n?"":(r==='"'&&(n=!n),r)).join("");return this.url.searchParams.set("select",s),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:n=!0,nullsFirst:s,foreignTable:r,referencedTable:i=r}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${n?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:s=n}={}){const r=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,n,{foreignTable:s,referencedTable:r=s}={}){const i=typeof r>"u"?"offset":`${r}.offset`,o=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:n=!1,settings:s=!1,buffers:r=!1,wal:i=!1,format:o="text"}={}){var a;const l=[e?"analyze":null,n?"verbose":null,s?"settings":null,r?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${l};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};tu.default=tC;var nC=Ht&&Ht.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Fa,"__esModule",{value:!0});const sC=nC(tu);let rC=class extends sC.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const s=Array.from(new Set(n)).map(r=>typeof r=="string"&&new RegExp("[,()]").test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`in.(${s})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:s,type:r}={}){let i="";r==="plain"?i="pl":r==="phrase"?i="ph":r==="websearch"&&(i="w");const o=s===void 0?"":`(${s})`;return this.url.searchParams.append(e,`${i}fts${o}.${n}`),this}match(e){return Object.entries(e).forEach(([n,s])=>{this.url.searchParams.append(n,`eq.${s}`)}),this}not(e,n,s){return this.url.searchParams.append(e,`not.${n}.${s}`),this}or(e,{foreignTable:n,referencedTable:s=n}={}){const r=s?`${s}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,n,s){return this.url.searchParams.append(e,`${n}.${s}`),this}};Fa.default=rC;var iC=Ht&&Ht.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(eu,"__esModule",{value:!0});const wo=iC(Fa);let oC=class{constructor(e,{headers:n={},schema:s,fetch:r}){this.url=e,this.headers=n,this.schema=s,this.fetch=r}select(e,{head:n=!1,count:s}={}){const r=n?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),s&&(this.headers.Prefer=`count=${s}`),new wo.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:n,defaultToNull:s=!0}={}){const r="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),s||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const o=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new wo.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:n,ignoreDuplicates:s=!1,count:r,defaultToNull:i=!0}={}){const o="POST",a=[`resolution=${s?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&a.push(this.headers.Prefer),r&&a.push(`count=${r}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const l=e.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(l.length>0){const u=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new wo.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:n}={}){const s="PATCH",r=[];return this.headers.Prefer&&r.push(this.headers.Prefer),n&&r.push(`count=${n}`),this.headers.Prefer=r.join(","),new wo.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const n="DELETE",s=[];return e&&s.push(`count=${e}`),this.headers.Prefer&&s.unshift(this.headers.Prefer),this.headers.Prefer=s.join(","),new wo.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};eu.default=oC;var ru={},iu={};Object.defineProperty(iu,"__esModule",{value:!0});iu.version=void 0;iu.version="0.0.0-automated";Object.defineProperty(ru,"__esModule",{value:!0});ru.DEFAULT_HEADERS=void 0;const aC=iu;ru.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${aC.version}`};var Sv=Ht&&Ht.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Hf,"__esModule",{value:!0});const lC=Sv(eu),cC=Sv(Fa),uC=ru;let dC=class jv{constructor(e,{headers:n={},schema:s,fetch:r}={}){this.url=e,this.headers=Object.assign(Object.assign({},uC.DEFAULT_HEADERS),n),this.schemaName=s,this.fetch=r}from(e){const n=new URL(`${this.url}/${e}`);return new lC.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new jv(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:s=!1,get:r=!1,count:i}={}){let o;const a=new URL(`${this.url}/rpc/${e}`);let l;s||r?(o=s?"HEAD":"GET",Object.entries(n).filter(([d,p])=>p!==void 0).map(([d,p])=>[d,Array.isArray(p)?`{${p.join(",")}}`:`${p}`]).forEach(([d,p])=>{a.searchParams.append(d,p)})):(o="POST",l=n);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new cC.default({method:o,url:a,headers:u,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};Hf.default=dC;var Ji=Ht&&Ht.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(It,"__esModule",{value:!0});It.PostgrestError=It.PostgrestBuilder=It.PostgrestTransformBuilder=It.PostgrestFilterBuilder=It.PostgrestQueryBuilder=It.PostgrestClient=void 0;const Cv=Ji(Hf);It.PostgrestClient=Cv.default;const Ev=Ji(eu);It.PostgrestQueryBuilder=Ev.default;const Mv=Ji(Fa);It.PostgrestFilterBuilder=Mv.default;const Dv=Ji(tu);It.PostgrestTransformBuilder=Dv.default;const Nv=Ji(nu);It.PostgrestBuilder=Nv.default;const Pv=Ji(su);It.PostgrestError=Pv.default;var hC=It.default={PostgrestClient:Cv.default,PostgrestQueryBuilder:Ev.default,PostgrestFilterBuilder:Mv.default,PostgrestTransformBuilder:Dv.default,PostgrestBuilder:Nv.default,PostgrestError:Pv.default};const{PostgrestClient:fC,PostgrestQueryBuilder:WO,PostgrestFilterBuilder:HO,PostgrestTransformBuilder:YO,PostgrestBuilder:VO,PostgrestError:GO}=hC,pC="2.11.2",mC={"X-Client-Info":`realtime-js/${pC}`},gC="1.0.0",Tv=1e4,yC=1e3;var Ti;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Ti||(Ti={}));var Vt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Vt||(Vt={}));var xn;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(xn||(xn={}));var jh;(function(t){t.websocket="websocket"})(jh||(jh={}));var wr;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(wr||(wr={}));class xC{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),s=new TextDecoder;return this._decodeBroadcast(e,n,s)}_decodeBroadcast(e,n,s){const r=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=s.decode(e.slice(o,o+r));o=o+r;const l=s.decode(e.slice(o,o+i));o=o+i;const u=JSON.parse(s.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:u}}}class Ov{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Te;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Te||(Te={}));const dg=(t,e,n={})=>{var s;const r=(s=n.skipTypes)!==null&&s!==void 0?s:[];return Object.keys(e).reduce((i,o)=>(i[o]=vC(o,t,e,r),i),{})},vC=(t,e,n,s)=>{const r=e.find(a=>a.name===t),i=r==null?void 0:r.type,o=n[t];return i&&!s.includes(i)?Av(i,o):Ch(o)},Av=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return kC(e,n)}switch(t){case Te.bool:return _C(e);case Te.float4:case Te.float8:case Te.int2:case Te.int4:case Te.int8:case Te.numeric:case Te.oid:return wC(e);case Te.json:case Te.jsonb:return bC(e);case Te.timestamp:return SC(e);case Te.abstime:case Te.date:case Te.daterange:case Te.int4range:case Te.int8range:case Te.money:case Te.reltime:case Te.text:case Te.time:case Te.timestamptz:case Te.timetz:case Te.tsrange:case Te.tstzrange:return Ch(e);default:return Ch(e)}},Ch=t=>t,_C=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},wC=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},bC=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},kC=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,s=t[n];if(t[0]==="{"&&s==="}"){let i;const o=t.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>Av(e,a))}return t},SC=t=>typeof t=="string"?t.replace(" ","T"):t,Rv=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class od{constructor(e,n,s={},r=Tv){this.channel=e,this.event=n,this.payload=s,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var s;return this._hasReceived(e)&&n((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(s=>s.status===e).forEach(s=>s.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var hg;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(hg||(hg={}));class Ho{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},r=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ho.syncState(this.state,r,i,o),this.pendingDiffs.forEach(l=>{this.state=Ho.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(s.diff,{},r=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(r):(this.state=Ho.syncDiff(this.state,r,i,o),a())}),this.onJoin((r,i,o)=>{this.channel._trigger("presence",{event:"join",key:r,currentPresences:i,newPresences:o})}),this.onLeave((r,i,o)=>{this.channel._trigger("presence",{event:"leave",key:r,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,s,r){const i=this.cloneDeep(e),o=this.transformState(n),a={},l={};return this.map(i,(u,d)=>{o[u]||(l[u]=d)}),this.map(o,(u,d)=>{const p=i[u];if(p){const g=d.map(S=>S.presence_ref),x=p.map(S=>S.presence_ref),v=d.filter(S=>x.indexOf(S.presence_ref)<0),k=p.filter(S=>g.indexOf(S.presence_ref)<0);v.length>0&&(a[u]=v),k.length>0&&(l[u]=k)}else a[u]=d}),this.syncDiff(i,{joins:a,leaves:l},s,r)}static syncDiff(e,n,s,r){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return s||(s=()=>{}),r||(r=()=>{}),this.map(i,(a,l)=>{var u;const d=(u=e[a])!==null&&u!==void 0?u:[];if(e[a]=this.cloneDeep(l),d.length>0){const p=e[a].map(x=>x.presence_ref),g=d.filter(x=>p.indexOf(x.presence_ref)<0);e[a].unshift(...g)}s(a,d,l)}),this.map(o,(a,l)=>{let u=e[a];if(!u)return;const d=l.map(p=>p.presence_ref);u=u.filter(p=>d.indexOf(p.presence_ref)<0),e[a]=u,r(a,u,l),u.length===0&&delete e[a]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(s=>n(s,e[s]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,s)=>{const r=e[s];return"metas"in r?n[s]=r.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[s]=r,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var fg;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(fg||(fg={}));var pg;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(pg||(pg={}));var Xn;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Xn||(Xn={}));class Yf{constructor(e,n={config:{}},s){this.topic=e,this.params=n,this.socket=s,this.bindings={},this.state=Vt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new od(this,xn.join,this.params,this.timeout),this.rejoinTimer=new Ov(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Vt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(r=>r.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Vt.closed,this.socket._remove(this)}),this._onError(r=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,r),this.state=Vt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Vt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(xn.reply,{},(r,i)=>{this._trigger(this._replyEventName(i),r)}),this.presence=new Ho(this),this.broadcastEndpointURL=Rv(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var s,r;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(d=>e==null?void 0:e(Xn.CHANNEL_ERROR,d)),this._onClose(()=>e==null?void 0:e(Xn.CLOSED));const l={},u={broadcast:i,presence:o,postgres_changes:(r=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(d=>d.filter))!==null&&r!==void 0?r:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},l)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:d})=>{var p;if(this.socket.setAuth(),d===void 0){e==null||e(Xn.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,x=(p=g==null?void 0:g.length)!==null&&p!==void 0?p:0,v=[];for(let k=0;k<x;k++){const S=g[k],{filter:{event:_,schema:b,table:j,filter:E}}=S,M=d&&d[k];if(M&&M.event===_&&M.schema===b&&M.table===j&&M.filter===E)v.push(Object.assign(Object.assign({},S),{id:M.id}));else{this.unsubscribe(),e==null||e(Xn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,e&&e(Xn.SUBSCRIBED);return}}).receive("error",d=>{e==null||e(Xn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Xn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,s){return this._on(e,n,s)}async send(e,n={}){var s,r;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);return await((r=u.body)===null||r===void 0?void 0:r.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const u=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Vt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(xn.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(s=>{const r=new od(this,xn.leave,{},e);r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})})}async _fetchWithTimeout(e,n,s){const r=new AbortController,i=setTimeout(()=>r.abort(),s),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:r.signal}));return clearTimeout(i),o}_push(e,n,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let r=new od(this,e,n,s);return this._canPush()?r.send():(r.startTimeout(),this.pushBuffer.push(r)),r}_onMessage(e,n,s){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,s){var r,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:u,join:d}=xn;if(s&&[a,l,u,d].indexOf(o)>=0&&s!==this._joinRef())return;let g=this._onMessage(o,n,s);if(n&&!g)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(r=this.bindings.postgres_changes)===null||r===void 0||r.filter(x=>{var v,k,S;return((v=x.filter)===null||v===void 0?void 0:v.event)==="*"||((S=(k=x.filter)===null||k===void 0?void 0:k.event)===null||S===void 0?void 0:S.toLocaleLowerCase())===o}).map(x=>x.callback(g,s)):(i=this.bindings[o])===null||i===void 0||i.filter(x=>{var v,k,S,_,b,j;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in x){const E=x.id,M=(v=x.filter)===null||v===void 0?void 0:v.event;return E&&((k=n.ids)===null||k===void 0?void 0:k.includes(E))&&(M==="*"||(M==null?void 0:M.toLocaleLowerCase())===((S=n.data)===null||S===void 0?void 0:S.type.toLocaleLowerCase()))}else{const E=(b=(_=x==null?void 0:x.filter)===null||_===void 0?void 0:_.event)===null||b===void 0?void 0:b.toLocaleLowerCase();return E==="*"||E===((j=n==null?void 0:n.event)===null||j===void 0?void 0:j.toLocaleLowerCase())}else return x.type.toLocaleLowerCase()===o}).map(x=>{if(typeof g=="object"&&"ids"in g){const v=g.data,{schema:k,table:S,commit_timestamp:_,type:b,errors:j}=v;g=Object.assign(Object.assign({},{schema:k,table:S,commit_timestamp:_,eventType:b,new:{},old:{},errors:j}),this._getPayloadRecords(v))}x.callback(g,s)})}_isClosed(){return this.state===Vt.closed}_isJoined(){return this.state===Vt.joined}_isJoining(){return this.state===Vt.joining}_isLeaving(){return this.state===Vt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,s){const r=e.toLocaleLowerCase(),i={type:r,filter:n,callback:s};return this.bindings[r]?this.bindings[r].push(i):this.bindings[r]=[i],this}_off(e,n){const s=e.toLocaleLowerCase();return this.bindings[s]=this.bindings[s].filter(r=>{var i;return!(((i=r.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===s&&Yf.isEqual(r.filter,n))}),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const s in e)if(e[s]!==n[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(xn.close,{},e)}_onError(e){this._on(xn.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Vt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=dg(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=dg(e.columns,e.old_record)),n}}const jC=()=>{},CC=typeof WebSocket<"u",EC=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class MC{constructor(e,n){var s;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=mC,this.params={},this.timeout=Tv,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=jC,this.conn=null,this.sendBuffer=[],this.serializer=new xC,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>Ui(async()=>{const{default:l}=await Promise.resolve().then(()=>Ki);return{default:l}},void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${e}/${jh.websocket}`,this.httpEndpoint=Rv(e),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const r=(s=n==null?void 0:n.params)===null||s===void 0?void 0:s.apikey;if(r&&(this.accessTokenValue=r,this.apiKey=r),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(i,o)=>o(JSON.stringify(i)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Ov(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(CC){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new DC(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),Ui(async()=>{const{default:e}=await import("./browser-s1zMkPH2.js").then(n=>n.b);return{default:e}},[]).then(({default:e})=>{this.conn=new e(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:gC}))}disconnect(e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),e}log(e,n,s){this.logger(e,n,s)}connectionState(){switch(this.conn&&this.conn.readyState){case Ti.connecting:return wr.Connecting;case Ti.open:return wr.Open;case Ti.closing:return wr.Closing;default:return wr.Closed}}isConnected(){return this.connectionState()===wr.Open}channel(e,n={config:{}}){const s=new Yf(`realtime:${e}`,n,this);return this.channels.push(s),s}push(e){const{topic:n,event:s,payload:r,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${s} (${i})`,r),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){let n=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(n){let s=null;try{s=JSON.parse(atob(n.split(".")[1]))}catch{}if(s&&s.exp&&!(Math.floor(Date.now()/1e3)-s.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${s.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${s.exp}`);this.accessTokenValue=n,this.channels.forEach(r=>{n&&r.updateJoinPayload({access_token:n}),r.joinedOnce&&r._isJoined()&&r._push(xn.access_token,{access_token:n})})}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(yC,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(s=>s.topic===e&&(s._isJoined()||s._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,n=>{let{topic:s,event:r,payload:i,ref:o}=n;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${s} ${r} ${o&&"("+o+")"||""}`,i),this.channels.filter(a=>a._isMember(s)).forEach(a=>a._trigger(r,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(xn.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const s=e.match(/\?/)?"&":"?",r=new URLSearchParams(n);return`${e}${s}${r}`}_workerObjectUrl(e){let n;if(e)n=e;else{const s=new Blob([EC],{type:"application/javascript"});n=URL.createObjectURL(s)}return n}}class DC{constructor(e,n,s){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Ti.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=s.close}}class Vf extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function ct(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class NC extends Vf{constructor(e,n){super(e),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Eh extends Vf{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var PC=function(t,e,n,s){function r(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{u(s.next(d))}catch(p){o(p)}}function l(d){try{u(s.throw(d))}catch(p){o(p)}}function u(d){d.done?i(d.value):r(d.value).then(a,l)}u((s=s.apply(t,e||[])).next())})};const Lv=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Ui(async()=>{const{default:s}=await Promise.resolve().then(()=>Ki);return{default:s}},void 0).then(({default:s})=>s(...n)):e=fetch,(...n)=>e(...n)},TC=()=>PC(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ui(()=>Promise.resolve().then(()=>Ki),void 0)).Response:Response}),Mh=t=>{if(Array.isArray(t))return t.map(n=>Mh(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,s])=>{const r=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[r]=Mh(s)}),e};var Hr=function(t,e,n,s){function r(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{u(s.next(d))}catch(p){o(p)}}function l(d){try{u(s.throw(d))}catch(p){o(p)}}function u(d){d.done?i(d.value):r(d.value).then(a,l)}u((s=s.apply(t,e||[])).next())})};const ad=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),OC=(t,e,n)=>Hr(void 0,void 0,void 0,function*(){const s=yield TC();t instanceof s&&!(n!=null&&n.noResolveJson)?t.json().then(r=>{e(new NC(ad(r),t.status||500))}).catch(r=>{e(new Eh(ad(r),r))}):e(new Eh(ad(t),t))}),AC=(t,e,n,s)=>{const r={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s&&(r.body=JSON.stringify(s)),Object.assign(Object.assign({},r),n))};function Ia(t,e,n,s,r,i){return Hr(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(n,AC(e,s,r,i)).then(l=>{if(!l.ok)throw l;return s!=null&&s.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>OC(l,a,s))})})}function Ec(t,e,n,s){return Hr(this,void 0,void 0,function*(){return Ia(t,"GET",e,n,s)})}function Ds(t,e,n,s,r){return Hr(this,void 0,void 0,function*(){return Ia(t,"POST",e,s,r,n)})}function RC(t,e,n,s,r){return Hr(this,void 0,void 0,function*(){return Ia(t,"PUT",e,s,r,n)})}function LC(t,e,n,s){return Hr(this,void 0,void 0,function*(){return Ia(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),s)})}function Fv(t,e,n,s,r){return Hr(this,void 0,void 0,function*(){return Ia(t,"DELETE",e,s,r,n)})}var Rt=function(t,e,n,s){function r(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{u(s.next(d))}catch(p){o(p)}}function l(d){try{u(s.throw(d))}catch(p){o(p)}}function u(d){d.done?i(d.value):r(d.value).then(a,l)}u((s=s.apply(t,e||[])).next())})};const FC={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},mg={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class IC{constructor(e,n={},s,r){this.url=e,this.headers=n,this.bucketId=s,this.fetch=Lv(r)}uploadOrUpdate(e,n,s,r){return Rt(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},mg),r);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&s instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",s)):typeof FormData<"u"&&s instanceof FormData?(i=s,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=s,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),r!=null&&r.headers&&(a=Object.assign(Object.assign({},a),r.headers));const u=this._removeEmptyFolders(n),d=this._getFinalPath(u),p=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:e,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),g=yield p.json();return p.ok?{data:{path:u,id:g.Id,fullPath:g.Key},error:null}:{data:null,error:g}}catch(i){if(ct(i))return{data:null,error:i};throw i}})}upload(e,n,s){return Rt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,s)})}uploadToSignedUrl(e,n,s,r){return Rt(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let l;const u=Object.assign({upsert:mg.upsert},r),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&s instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",s)):typeof FormData<"u"&&s instanceof FormData?(l=s,l.append("cacheControl",u.cacheControl)):(l=s,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const p=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:d}),g=yield p.json();return p.ok?{data:{path:i,fullPath:g.Key},error:null}:{data:null,error:g}}catch(l){if(ct(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,n){return Rt(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e);const r=Object.assign({},this.headers);n!=null&&n.upsert&&(r["x-upsert"]="true");const i=yield Ds(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:r}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new Vf("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(s){if(ct(s))return{data:null,error:s};throw s}})}update(e,n,s){return Rt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,s)})}move(e,n,s){return Rt(this,void 0,void 0,function*(){try{return{data:yield Ds(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers}),error:null}}catch(r){if(ct(r))return{data:null,error:r};throw r}})}copy(e,n,s){return Rt(this,void 0,void 0,function*(){try{return{data:{path:(yield Ds(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers})).Key},error:null}}catch(r){if(ct(r))return{data:null,error:r};throw r}})}createSignedUrl(e,n,s){return Rt(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e),i=yield Ds(this.fetch,`${this.url}/object/sign/${r}`,Object.assign({expiresIn:n},s!=null&&s.transform?{transform:s.transform}:{}),{headers:this.headers});const o=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(r){if(ct(r))return{data:null,error:r};throw r}})}createSignedUrls(e,n,s){return Rt(this,void 0,void 0,function*(){try{const r=yield Ds(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),i=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return{data:r.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(r){if(ct(r))return{data:null,error:r};throw r}})}download(e,n){return Rt(this,void 0,void 0,function*(){const r=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield Ec(this.fetch,`${this.url}/${r}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(ct(a))return{data:null,error:a};throw a}})}info(e){return Rt(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const s=yield Ec(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Mh(s),error:null}}catch(s){if(ct(s))return{data:null,error:s};throw s}})}exists(e){return Rt(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield LC(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(ct(s)&&s instanceof Eh){const r=s.originalError;if([400,404].includes(r==null?void 0:r.status))return{data:!1,error:s}}throw s}})}getPublicUrl(e,n){const s=this._getFinalPath(e),r=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&r.push(i);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&r.push(l);let u=r.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${s}${u}`)}}}remove(e){return Rt(this,void 0,void 0,function*(){try{return{data:yield Fv(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(ct(n))return{data:null,error:n};throw n}})}list(e,n,s){return Rt(this,void 0,void 0,function*(){try{const r=Object.assign(Object.assign(Object.assign({},FC),n),{prefix:e||""});return{data:yield Ds(this.fetch,`${this.url}/object/list/${this.bucketId}`,r,{headers:this.headers},s),error:null}}catch(r){if(ct(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const $C="2.7.1",zC={"X-Client-Info":`storage-js/${$C}`};var ai=function(t,e,n,s){function r(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{u(s.next(d))}catch(p){o(p)}}function l(d){try{u(s.throw(d))}catch(p){o(p)}}function u(d){d.done?i(d.value):r(d.value).then(a,l)}u((s=s.apply(t,e||[])).next())})};class BC{constructor(e,n={},s){this.url=e,this.headers=Object.assign(Object.assign({},zC),n),this.fetch=Lv(s)}listBuckets(){return ai(this,void 0,void 0,function*(){try{return{data:yield Ec(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(ct(e))return{data:null,error:e};throw e}})}getBucket(e){return ai(this,void 0,void 0,function*(){try{return{data:yield Ec(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(ct(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return ai(this,void 0,void 0,function*(){try{return{data:yield Ds(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(ct(s))return{data:null,error:s};throw s}})}updateBucket(e,n){return ai(this,void 0,void 0,function*(){try{return{data:yield RC(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(ct(s))return{data:null,error:s};throw s}})}emptyBucket(e){return ai(this,void 0,void 0,function*(){try{return{data:yield Ds(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(ct(n))return{data:null,error:n};throw n}})}deleteBucket(e){return ai(this,void 0,void 0,function*(){try{return{data:yield Fv(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(ct(n))return{data:null,error:n};throw n}})}}class UC extends BC{constructor(e,n={},s){super(e,n,s)}from(e){return new IC(this.url,this.headers,e,this.fetch)}}const WC="2.49.8";let Po="";typeof Deno<"u"?Po="deno":typeof document<"u"?Po="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Po="react-native":Po="node";const HC={"X-Client-Info":`supabase-js-${Po}/${WC}`},YC={headers:HC},VC={schema:"public"},GC={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},qC={};var KC=function(t,e,n,s){function r(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{u(s.next(d))}catch(p){o(p)}}function l(d){try{u(s.throw(d))}catch(p){o(p)}}function u(d){d.done?i(d.value):r(d.value).then(a,l)}u((s=s.apply(t,e||[])).next())})};const JC=t=>{let e;return t?e=t:typeof fetch>"u"?e=wv:e=fetch,(...n)=>e(...n)},XC=()=>typeof Headers>"u"?bv:Headers,QC=(t,e,n)=>{const s=JC(n),r=XC();return(i,o)=>KC(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:t;let u=new r(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),s(i,Object.assign(Object.assign({},o),{headers:u}))})};var ZC=function(t,e,n,s){function r(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{u(s.next(d))}catch(p){o(p)}}function l(d){try{u(s.throw(d))}catch(p){o(p)}}function u(d){d.done?i(d.value):r(d.value).then(a,l)}u((s=s.apply(t,e||[])).next())})};function eE(t){return t.endsWith("/")?t:t+"/"}function tE(t,e){var n,s;const{db:r,auth:i,realtime:o,global:a}=t,{db:l,auth:u,realtime:d,global:p}=e,g={db:Object.assign(Object.assign({},l),r),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),o),global:Object.assign(Object.assign(Object.assign({},p),a),{headers:Object.assign(Object.assign({},(n=p==null?void 0:p.headers)!==null&&n!==void 0?n:{}),(s=a==null?void 0:a.headers)!==null&&s!==void 0?s:{})}),accessToken:()=>ZC(this,void 0,void 0,function*(){return""})};return t.accessToken?g.accessToken=t.accessToken:delete g.accessToken,g}const Iv="2.69.1",hi=30*1e3,Dh=3,ld=Dh*hi,nE="http://localhost:9999",sE="supabase.auth.token",rE={"X-Client-Info":`gotrue-js/${Iv}`},Nh="X-Supabase-Api-Version",$v={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},iE=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,oE=6e5;class Gf extends Error{constructor(e,n,s){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=s}}function ge(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class aE extends Gf{constructor(e,n,s){super(e,n,s),this.name="AuthApiError",this.status=n,this.code=s}}function lE(t){return ge(t)&&t.name==="AuthApiError"}class zv extends Gf{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class tr extends Gf{constructor(e,n,s,r){super(e,s,r),this.name=n,this.status=s}}class js extends tr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function cE(t){return ge(t)&&t.name==="AuthSessionMissingError"}class cd extends tr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class wl extends tr{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class bl extends tr{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function uE(t){return ge(t)&&t.name==="AuthImplicitGrantRedirectError"}class gg extends tr{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ph extends tr{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function ud(t){return ge(t)&&t.name==="AuthRetryableFetchError"}class yg extends tr{constructor(e,n,s){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=s}}class Yo extends tr{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const xg="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),vg=` 	
\r=`.split(""),dE=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<vg.length;e+=1)t[vg[e].charCodeAt(0)]=-2;for(let e=0;e<xg.length;e+=1)t[xg[e].charCodeAt(0)]=e;return t})();function Bv(t,e,n){const s=dE[t];if(s>-1)for(e.queue=e.queue<<6|s,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function _g(t){const e=[],n=o=>{e.push(String.fromCodePoint(o))},s={utf8seq:0,codepoint:0},r={queue:0,queuedBits:0},i=o=>{pE(o,s,n)};for(let o=0;o<t.length;o+=1)Bv(t.charCodeAt(o),r,i);return e.join("")}function hE(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function fE(t,e){for(let n=0;n<t.length;n+=1){let s=t.charCodeAt(n);if(s>55295&&s<=56319){const r=(s-55296)*1024&65535;s=(t.charCodeAt(n+1)-56320&65535|r)+65536,n+=1}hE(s,e)}}function pE(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let s=1;s<6;s+=1)if(!(t>>7-s&1)){e.utf8seq=s;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function mE(t){const e=[],n={queue:0,queuedBits:0},s=r=>{e.push(r)};for(let r=0;r<t.length;r+=1)Bv(t.charCodeAt(r),n,s);return new Uint8Array(e)}function gE(t){const e=[];return fE(t,n=>e.push(n)),new Uint8Array(e)}function yE(t){return Math.round(Date.now()/1e3)+t}function xE(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Mn=()=>typeof window<"u"&&typeof document<"u",hr={tested:!1,writable:!1},Vo=()=>{if(!Mn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(hr.tested)return hr.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),hr.tested=!0,hr.writable=!0}catch{hr.tested=!0,hr.writable=!1}return hr.writable};function vE(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((r,i)=>{e[i]=r})}catch{}return n.searchParams.forEach((s,r)=>{e[r]=s}),e}const Uv=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Ui(async()=>{const{default:s}=await Promise.resolve().then(()=>Ki);return{default:s}},void 0).then(({default:s})=>s(...n)):e=fetch,(...n)=>e(...n)},_E=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Wv=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},kl=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Sl=async(t,e)=>{await t.removeItem(e)};class ou{constructor(){this.promise=new ou.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}ou.promiseConstructor=Promise;function dd(t){const e=t.split(".");if(e.length!==3)throw new Yo("Invalid JWT structure");for(let s=0;s<e.length;s++)if(!iE.test(e[s]))throw new Yo("JWT not in base64url format");return{header:JSON.parse(_g(e[0])),payload:JSON.parse(_g(e[1])),signature:mE(e[2]),raw:{header:e[0],payload:e[1]}}}async function wE(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function bE(t,e){return new Promise((s,r)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){s(o);return}}catch(o){if(!e(i,o)){r(o);return}}})()})}function kE(t){return("0"+t.toString(16)).substr(-2)}function SE(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=n.length;let r="";for(let i=0;i<56;i++)r+=n.charAt(Math.floor(Math.random()*s));return r}return crypto.getRandomValues(e),Array.from(e,kE).join("")}async function jE(t){const n=new TextEncoder().encode(t),s=await crypto.subtle.digest("SHA-256",n),r=new Uint8Array(s);return Array.from(r).map(i=>String.fromCharCode(i)).join("")}async function CE(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await jE(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function li(t,e,n=!1){const s=SE();let r=s;n&&(r+="/PASSWORD_RECOVERY"),await Wv(t,`${e}-code-verifier`,r);const i=await CE(s);return[i,s===i?"plain":"s256"]}const EE=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function ME(t){const e=t.headers.get(Nh);if(!e||!e.match(EE))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function DE(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function NE(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var PE=function(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(t);r<s.length;r++)e.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(t,s[r])&&(n[s[r]]=t[s[r]]);return n};const xr=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),TE=[502,503,504];async function wg(t){var e;if(!_E(t))throw new Ph(xr(t),0);if(TE.includes(t.status))throw new Ph(xr(t),t.status);let n;try{n=await t.json()}catch(i){throw new zv(xr(i),i)}let s;const r=ME(t);if(r&&r.getTime()>=$v["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?s=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(s=n.error_code),s){if(s==="weak_password")throw new yg(xr(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(s==="session_not_found")throw new js}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new yg(xr(n),t.status,n.weak_password.reasons);throw new aE(xr(n),t.status||500,s)}const OE=(t,e,n,s)=>{const r={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),r.body=JSON.stringify(s),Object.assign(Object.assign({},r),n))};async function we(t,e,n,s){var r;const i=Object.assign({},s==null?void 0:s.headers);i[Nh]||(i[Nh]=$v["2024-01-01"].name),s!=null&&s.jwt&&(i.Authorization=`Bearer ${s.jwt}`);const o=(r=s==null?void 0:s.query)!==null&&r!==void 0?r:{};s!=null&&s.redirectTo&&(o.redirect_to=s.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await AE(t,e,n+a,{headers:i,noResolveJson:s==null?void 0:s.noResolveJson},{},s==null?void 0:s.body);return s!=null&&s.xform?s==null?void 0:s.xform(l):{data:Object.assign({},l),error:null}}async function AE(t,e,n,s,r,i){const o=OE(e,s,r,i);let a;try{a=await t(n,Object.assign({},o))}catch(l){throw console.error(l),new Ph(xr(l),0)}if(a.ok||await wg(a),s!=null&&s.noResolveJson)return a;try{return await a.json()}catch(l){await wg(l)}}function Cs(t){var e;let n=null;IE(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=yE(t.expires_in)));const s=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:s},error:null}}function bg(t){const e=Cs(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,s)=>n&&typeof s=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Os(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function RE(t){return{data:t,error:null}}function LE(t){const{action_link:e,email_otp:n,hashed_token:s,redirect_to:r,verification_type:i}=t,o=PE(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:n,hashed_token:s,redirect_to:r,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function FE(t){return t}function IE(t){return t.access_token&&t.refresh_token&&t.expires_in}var $E=function(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(t);r<s.length;r++)e.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(t,s[r])&&(n[s[r]]=t[s[r]]);return n};class zE{constructor({url:e="",headers:n={},fetch:s}){this.url=e,this.headers=n,this.fetch=Uv(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n="global"){try{return await we(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(s){if(ge(s))return{data:null,error:s};throw s}}async inviteUserByEmail(e,n={}){try{return await we(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Os})}catch(s){if(ge(s))return{data:{user:null},error:s};throw s}}async generateLink(e){try{const{options:n}=e,s=$E(e,["options"]),r=Object.assign(Object.assign({},s),n);return"newEmail"in s&&(r.new_email=s==null?void 0:s.newEmail,delete r.newEmail),await we(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:r,headers:this.headers,xform:LE,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(ge(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await we(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Os})}catch(n){if(ge(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,s,r,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},d=await we(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&s!==void 0?s:"",per_page:(i=(r=e==null?void 0:e.perPage)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:""},xform:FE});if(d.error)throw d.error;const p=await d.json(),g=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,x=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return x.length>0&&(x.forEach(v=>{const k=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(v.split(";")[1].split("=")[1]);u[`${S}Page`]=k}),u.total=parseInt(g)),{data:Object.assign(Object.assign({},p),u),error:null}}catch(u){if(ge(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){try{return await we(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Os})}catch(n){if(ge(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){try{return await we(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Os})}catch(s){if(ge(s))return{data:{user:null},error:s};throw s}}async deleteUser(e,n=!1){try{return await we(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Os})}catch(s){if(ge(s))return{data:{user:null},error:s};throw s}}async _listFactors(e){try{const{data:n,error:s}=await we(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:r=>({data:{factors:r},error:null})});return{data:n,error:s}}catch(n){if(ge(n))return{data:null,error:n};throw n}}async _deleteFactor(e){try{return{data:await we(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(ge(n))return{data:null,error:n};throw n}}}const BE={getItem:t=>Vo()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{Vo()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{Vo()&&globalThis.localStorage.removeItem(t)}};function kg(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function UE(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const ci={debug:!!(globalThis&&Vo()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Hv extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class WE extends Hv{}async function HE(t,e,n){ci.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const s=new globalThis.AbortController;return e>0&&setTimeout(()=>{s.abort(),ci.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async r=>{if(r){ci.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,r.name);try{return await n()}finally{ci.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,r.name)}}else{if(e===0)throw ci.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new WE(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(ci.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}UE();const YE={url:nE,storageKey:sE,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:rE,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Sg(t,e,n){return await n()}class va{constructor(e){var n,s;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=va.nextInstanceID,va.nextInstanceID+=1,this.instanceID>0&&Mn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const r=Object.assign(Object.assign({},YE),e);if(this.logDebugMessages=!!r.debug,typeof r.debug=="function"&&(this.logger=r.debug),this.persistSession=r.persistSession,this.storageKey=r.storageKey,this.autoRefreshToken=r.autoRefreshToken,this.admin=new zE({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=Uv(r.fetch),this.lock=r.lock||Sg,this.detectSessionInUrl=r.detectSessionInUrl,this.flowType=r.flowType,this.hasCustomAuthorizationHeader=r.hasCustomAuthorizationHeader,r.lock?this.lock=r.lock:Mn()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=HE:this.lock=Sg,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?r.storage?this.storage=r.storage:Vo()?this.storage=BE:(this.memoryStorage={},this.storage=kg(this.memoryStorage)):(this.memoryStorage={},this.storage=kg(this.memoryStorage)),Mn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Iv}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=vE(window.location.href);let s="none";if(this._isImplicitGrantCallback(n)?s="implicit":await this._isPKCECallback(n)&&(s="pkce"),Mn()&&this.detectSessionInUrl&&s!=="none"){const{data:r,error:i}=await this._getSessionFromURL(n,s);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),uE(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=r;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return ge(n)?{error:n}:{error:new zv("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,s,r;try{const i=await we(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.captchaToken}},xform:Cs}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(ge(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var n,s,r;try{let i;if("email"in e){const{email:d,password:p,options:g}=e;let x=null,v=null;this.flowType==="pkce"&&([x,v]=await li(this.storage,this.storageKey)),i=await we(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:g==null?void 0:g.emailRedirectTo,body:{email:d,password:p,data:(n=g==null?void 0:g.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:x,code_challenge_method:v},xform:Cs})}else if("phone"in e){const{phone:d,password:p,options:g}=e;i=await we(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:p,data:(s=g==null?void 0:g.data)!==null&&s!==void 0?s:{},channel:(r=g==null?void 0:g.channel)!==null&&r!==void 0?r:"sms",gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:Cs})}else throw new wl("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(ge(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let n;if("email"in e){const{email:i,password:o,options:a}=e;n=await we(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:bg})}else if("phone"in e){const{phone:i,password:o,options:a}=e;n=await we(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:bg})}else throw new wl("You must provide either an email or phone number and a password");const{data:s,error:r}=n;return r?{data:{user:null,session:null},error:r}:!s||!s.session||!s.user?{data:{user:null,session:null},error:new cd}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:r})}catch(n){if(ge(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,s,r,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(r=e.options)===null||r===void 0?void 0:r.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const n=await kl(this.storage,`${this.storageKey}-code-verifier`),[s,r]=(n??"").split("/");try{const{data:i,error:o}=await we(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:s},xform:Cs});if(await Sl(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new cd}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:r??null}),error:o})}catch(i){if(ge(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:n,provider:s,token:r,access_token:i,nonce:o}=e,a=await we(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:r,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Cs}),{data:l,error:u}=a;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new cd}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(n){if(ge(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,s,r,i,o;try{if("email"in e){const{email:a,options:l}=e;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await li(this.storage,this.storageKey));const{error:p}=await we(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(s=l==null?void 0:l.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:p}}if("phone"in e){const{phone:a,options:l}=e,{data:u,error:d}=await we(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new wl("You must provide either an email or phone number.")}catch(a){if(ge(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var n,s;try{let r,i;"options"in e&&(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo,i=(s=e.options)===null||s===void 0?void 0:s.captchaToken);const{data:o,error:a}=await we(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:r,xform:Cs});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(r){if(ge(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithSSO(e){var n,s,r;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await li(this.storage,this.storageKey)),await we(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&s!==void 0?s:void 0}),!((r=e==null?void 0:e.options)===null||r===void 0)&&r.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:RE})}catch(i){if(ge(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:s}=e;if(s)throw s;if(!n)throw new js;const{error:r}=await we(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:r}})}catch(e){if(ge(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:s,type:r,options:i}=e,{error:o}=await we(this.fetch,"POST",n,{headers:this.headers,body:{email:s,type:r,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:s,type:r,options:i}=e,{data:o,error:a}=await we(this.fetch,"POST",n,{headers:this.headers,body:{phone:s,type:r,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new wl("You must provide either an email or phone number and a type")}catch(n){if(ge(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),r=(async()=>(await s,await n()))();return this.pendingInLock.push((async()=>{try{await r}catch{}})()),r}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=n();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const r=[...this.pendingInLock];await Promise.all(r),this.pendingInLock.splice(0,r.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await kl(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const s=e.expires_at?e.expires_at*1e3-Date.now()<ld:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",e.expires_at),!s){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,d))})}return{data:{session:e},error:null}}const{session:r,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:r},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await we(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Os}):await this._useSession(async n=>{var s,r,i;const{data:o,error:a}=n;if(a)throw a;return!(!((s=o.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new js}:await we(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0,xform:Os})})}catch(n){if(ge(n))return cE(n)&&(await this._removeSession(),await Sl(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async s=>{const{data:r,error:i}=s;if(i)throw i;if(!r.session)throw new js;const o=r.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await li(this.storage,this.storageKey));const{data:u,error:d}=await we(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Os});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(s){if(ge(s))return{data:{user:null},error:s};throw s}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new js;const n=Date.now()/1e3;let s=n,r=!0,i=null;const{payload:o}=dd(e.access_token);if(o.exp&&(s=o.exp,r=s<=n),r){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:s-n,expires_at:s},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(ge(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var s;if(!e){const{data:o,error:a}=n;if(a)throw a;e=(s=o.session)!==null&&s!==void 0?s:void 0}if(!(e!=null&&e.refresh_token))throw new js;const{session:r,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:r?{data:{user:r.user,session:r},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(ge(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!Mn())throw new bl("No browser detected.");if(e.error||e.error_description||e.error_code)throw new bl(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new gg("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new bl("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new gg("No code detected.");const{data:b,error:j}=await this._exchangeCodeForSession(e.code);if(j)throw j;const E=new URL(window.location.href);return E.searchParams.delete("code"),window.history.replaceState(window.history.state,"",E.toString()),{data:{session:b.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:r,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=e;if(!i||!a||!o||!u)throw new bl("No session defined in URL");const d=Math.round(Date.now()/1e3),p=parseInt(a);let g=d+p;l&&(g=parseInt(l));const x=g-d;x*1e3<=hi&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${x}s, should have been closer to ${p}s`);const v=g-p;d-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,g,d):d-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,g,d);const{data:k,error:S}=await this._getUser(i);if(S)throw S;const _={provider_token:s,provider_refresh_token:r,access_token:i,expires_in:p,expires_at:g,refresh_token:o,token_type:u,user:k.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:_,redirectType:e.type},error:null}}catch(s){if(ge(s))return{data:{session:null,redirectType:null},error:s};throw s}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await kl(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var s;const{data:r,error:i}=n;if(i)return{error:i};const o=(s=r.session)===null||s===void 0?void 0:s.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(lE(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await Sl(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=xE(),s={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:s}}}async _emitInitialSession(e){return await this._useSession(async n=>{var s,r;try{const{data:{session:i},error:o}=n;if(o)throw o;await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,n={}){let s=null,r=null;this.flowType==="pkce"&&([s,r]=await li(this.storage,this.storageKey,!0));try{return await we(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:s,code_challenge_method:r,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(ge(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:n,error:s}=await this.getUser();if(s)throw s;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(ge(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:s,error:r}=await this._useSession(async i=>{var o,a,l,u,d;const{data:p,error:g}=i;if(g)throw g;const x=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await we(this.fetch,"GET",x,{headers:this.headers,jwt:(d=(u=p.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(r)throw r;return Mn()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(s==null?void 0:s.url),{data:{provider:e.provider,url:s==null?void 0:s.url},error:null}}catch(s){if(ge(s))return{data:{provider:e.provider,url:null},error:s};throw s}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var s,r;const{data:i,error:o}=n;if(o)throw o;return await we(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(r=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&r!==void 0?r:void 0})})}catch(n){if(ge(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const s=Date.now();return await bE(async r=>(r>0&&await wE(200*Math.pow(2,r-1)),this._debug(n,"refreshing attempt",r),await we(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Cs})),(r,i)=>{const o=200*Math.pow(2,r);return i&&ud(i)&&Date.now()+o-s<hi})}catch(s){if(this._debug(n,"error",s),ge(s))return{data:{session:null,user:null},error:s};throw s}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const s=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",s),Mn()&&!n.skipBrowserRedirect&&window.location.assign(s),{data:{provider:e,url:s},error:null}}async _recoverAndRefresh(){var e;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await kl(this.storage,this.storageKey);if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const r=((e=s.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<ld;if(this._debug(n,`session has${r?"":" not"} expired with margin of ${ld}s`),r){if(this.autoRefreshToken&&s.refresh_token){const{error:i}=await this._callRefreshToken(s.refresh_token);i&&(console.error(i),ud(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var n,s;if(!e)throw new js;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{this.refreshingDeferred=new ou;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new js;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(r,"error",i),ge(i)){const o={session:null,error:i};return ud(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(i),i}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(e,n,s=!0){const r=`#_notifyAllSubscribers(${e})`;this._debug(r,"begin",n,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:e,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,n)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(r,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Wv(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await Sl(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Mn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),hi);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:s}}=n;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const r=Math.floor((s.expires_at*1e3-e)/hi);this._debug("#_autoRefreshTokenTick()",`access token expires in ${r} ticks, a tick lasts ${hi}ms, refresh threshold is ${Dh} ticks`),r<=Dh&&await this._callRefreshToken(s.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Hv)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Mn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,s){const r=[`provider=${encodeURIComponent(n)}`];if(s!=null&&s.redirectTo&&r.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s!=null&&s.scopes&&r.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[i,o]=await li(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});r.push(a.toString())}if(s!=null&&s.queryParams){const i=new URLSearchParams(s.queryParams);r.push(i.toString())}return s!=null&&s.skipBrowserRedirect&&r.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${e}?${r.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var s;const{data:r,error:i}=n;return i?{data:null,error:i}:await we(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(s=r==null?void 0:r.session)===null||s===void 0?void 0:s.access_token})})}catch(n){if(ge(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var s,r;const{data:i,error:o}=n;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:u}=await we(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(s=i==null?void 0:i.session)===null||s===void 0?void 0:s.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((r=l==null?void 0:l.totp)===null||r===void 0)&&r.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(ge(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:r,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:a}=await we(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(s=r==null?void 0:r.session)===null||s===void 0?void 0:s.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(n){if(ge(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:r,error:i}=n;return i?{data:null,error:i}:await we(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(s=r==null?void 0:r.session)===null||s===void 0?void 0:s.access_token})})}catch(n){if(ge(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:s}=await this._challenge({factorId:e.factorId});return s?{data:null,error:s}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const s=(e==null?void 0:e.factors)||[],r=s.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=s.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:s,totp:r,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,s;const{data:{session:r},error:i}=e;if(i)return{data:null,error:i};if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=dd(r.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((s=(n=r.user.factors)===null||n===void 0?void 0:n.filter(p=>p.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(l="aal2");const d=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(e,n={keys:[]}){let s=n.keys.find(o=>o.kid===e);if(s||(s=this.jwks.keys.find(o=>o.kid===e),s&&this.jwks_cached_at+oE>Date.now()))return s;const{data:r,error:i}=await we(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!r.keys||r.keys.length===0)throw new Yo("JWKS is empty");if(this.jwks=r,this.jwks_cached_at=Date.now(),s=r.keys.find(o=>o.kid===e),!s)throw new Yo("No matching signing key found in JWKS");return s}async getClaims(e,n={keys:[]}){try{let s=e;if(!s){const{data:x,error:v}=await this.getSession();if(v||!x.session)return{data:null,error:v};s=x.session.access_token}const{header:r,payload:i,signature:o,raw:{header:a,payload:l}}=dd(s);if(DE(i.exp),!r.kid||r.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:x}=await this.getUser(s);if(x)throw x;return{data:{claims:i,header:r,signature:o},error:null}}const u=NE(r.alg),d=await this.fetchJwk(r.kid,n),p=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,p,o,gE(`${a}.${l}`)))throw new Yo("Invalid JWT signature");return{data:{claims:i,header:r,signature:o},error:null}}catch(s){if(ge(s))return{data:null,error:s};throw s}}}va.nextInstanceID=0;const VE=va;class GE extends VE{constructor(e){super(e)}}var qE=function(t,e,n,s){function r(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{u(s.next(d))}catch(p){o(p)}}function l(d){try{u(s.throw(d))}catch(p){o(p)}}function u(d){d.done?i(d.value):r(d.value).then(a,l)}u((s=s.apply(t,e||[])).next())})};class KE{constructor(e,n,s){var r,i,o;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const a=eE(e),l=new URL(a);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const u=`sb-${l.hostname.split(".")[0]}-auth-token`,d={db:VC,realtime:qC,auth:Object.assign(Object.assign({},GC),{storageKey:u}),global:YC},p=tE(s??{},d);this.storageKey=(r=p.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(i=p.global.headers)!==null&&i!==void 0?i:{},p.accessToken?(this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(g,x)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(x)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=p.auth)!==null&&o!==void 0?o:{},this.headers,p.global.fetch),this.fetch=QC(n,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.rest=new fC(new URL("rest/v1",l).href,{headers:this.headers,schema:p.db.schema,fetch:this.fetch}),p.accessToken||this._listenForAuthEvents()}get functions(){return new Wj(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new UC(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},s={}){return this.rest.rpc(e,n,s)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return qE(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:s}=yield this.auth.getSession();return(n=(e=s.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:s,storage:r,storageKey:i,flowType:o,lock:a,debug:l},u,d){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new GE({url:this.authUrl.href,headers:Object.assign(Object.assign({},p),u),storageKey:i,autoRefreshToken:e,persistSession:n,detectSessionInUrl:s,storage:r,flowType:o,lock:a,debug:l,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new MC(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,s)=>{this._handleTokenChanged(n,"CLIENT",s==null?void 0:s.access_token)})}_handleTokenChanged(e,n,s){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==s?this.changedAccessToken=s:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const JE=(t,e,n)=>new KE(t,e,n),XE="https://qugyumskcgxrivmlcmza.supabase.co",QE="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InF1Z3l1bXNrY2d4cml2bWxjbXphIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDcxNjQ0MjUsImV4cCI6MjA2Mjc0MDQyNX0.pD-cX_h5OLRE98EpEBy9r0OhqYObnpqWorRpmcXGO9E",Oe=JE(XE,QE);let ZE={data:""},eM=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||ZE,tM=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,nM=/\/\*[^]*?\*\/|  +/g,jg=/\n+/g,As=(t,e)=>{let n="",s="",r="";for(let i in t){let o=t[i];i[0]=="@"?i[1]=="i"?n=i+" "+o+";":s+=i[1]=="f"?As(o,i):i+"{"+As(o,i[1]=="k"?"":e)+"}":typeof o=="object"?s+=As(o,e?e.replace(/([^,])+/g,a=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,a):a?a+" "+l:l)):i):o!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),r+=As.p?As.p(i,o):i+":"+o+";")}return n+(e&&r?e+"{"+r+"}":r)+s},Vn={},Yv=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+Yv(t[n]);return e}return t},sM=(t,e,n,s,r)=>{let i=Yv(t),o=Vn[i]||(Vn[i]=(l=>{let u=0,d=11;for(;u<l.length;)d=101*d+l.charCodeAt(u++)>>>0;return"go"+d})(i));if(!Vn[o]){let l=i!==t?t:(u=>{let d,p,g=[{}];for(;d=tM.exec(u.replace(nM,""));)d[4]?g.shift():d[3]?(p=d[3].replace(jg," ").trim(),g.unshift(g[0][p]=g[0][p]||{})):g[0][d[1]]=d[2].replace(jg," ").trim();return g[0]})(t);Vn[o]=As(r?{["@keyframes "+o]:l}:l,n?"":"."+o)}let a=n&&Vn.g?Vn.g:null;return n&&(Vn.g=Vn[o]),((l,u,d,p)=>{p?u.data=u.data.replace(p,l):u.data.indexOf(l)===-1&&(u.data=d?l+u.data:u.data+l)})(Vn[o],e,s,a),o},rM=(t,e,n)=>t.reduce((s,r,i)=>{let o=e[i];if(o&&o.call){let a=o(n),l=a&&a.props&&a.props.className||/^go/.test(a)&&a;o=l?"."+l:a&&typeof a=="object"?a.props?"":As(a,""):a===!1?"":a}return s+r+(o??"")},"");function au(t){let e=this||{},n=t.call?t(e.p):t;return sM(n.unshift?n.raw?rM(n,[].slice.call(arguments,1),e.p):n.reduce((s,r)=>Object.assign(s,r&&r.call?r(e.p):r),{}):n,eM(e.target),e.g,e.o,e.k)}let Vv,Th,Oh;au.bind({g:1});let us=au.bind({k:1});function iM(t,e,n,s){As.p=e,Vv=t,Th=n,Oh=s}function nr(t,e){let n=this||{};return function(){let s=arguments;function r(i,o){let a=Object.assign({},i),l=a.className||r.className;n.p=Object.assign({theme:Th&&Th()},a),n.o=/ *go\d+/.test(l),a.className=au.apply(n,s)+(l?" "+l:"");let u=t;return t[0]&&(u=a.as||t,delete a.as),Oh&&u[0]&&Oh(a),Vv(u,a)}return r}}var oM=t=>typeof t=="function",Mc=(t,e)=>oM(t)?t(e):t,aM=(()=>{let t=0;return()=>(++t).toString()})(),Gv=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),lM=20,qv=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,lM)};case 1:return{...t,toasts:t.toasts.map(i=>i.id===e.toast.id?{...i,...e.toast}:i)};case 2:let{toast:n}=e;return qv(t,{type:t.toasts.find(i=>i.id===n.id)?1:0,toast:n});case 3:let{toastId:s}=e;return{...t,toasts:t.toasts.map(i=>i.id===s||s===void 0?{...i,dismissed:!0,visible:!1}:i)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(i=>i.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let r=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(i=>({...i,pauseDuration:i.pauseDuration+r}))}}},Ql=[],jr={toasts:[],pausedAt:void 0},Yr=t=>{jr=qv(jr,t),Ql.forEach(e=>{e(jr)})},cM={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},uM=(t={})=>{let[e,n]=D.useState(jr),s=D.useRef(jr);D.useEffect(()=>(s.current!==jr&&n(jr),Ql.push(n),()=>{let i=Ql.indexOf(n);i>-1&&Ql.splice(i,1)}),[]);let r=e.toasts.map(i=>{var o,a,l;return{...t,...t[i.type],...i,removeDelay:i.removeDelay||((o=t[i.type])==null?void 0:o.removeDelay)||(t==null?void 0:t.removeDelay),duration:i.duration||((a=t[i.type])==null?void 0:a.duration)||(t==null?void 0:t.duration)||cM[i.type],style:{...t.style,...(l=t[i.type])==null?void 0:l.style,...i.style}}});return{...e,toasts:r}},dM=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:(n==null?void 0:n.id)||aM()}),$a=t=>(e,n)=>{let s=dM(e,t,n);return Yr({type:2,toast:s}),s.id},ue=(t,e)=>$a("blank")(t,e);ue.error=$a("error");ue.success=$a("success");ue.loading=$a("loading");ue.custom=$a("custom");ue.dismiss=t=>{Yr({type:3,toastId:t})};ue.remove=t=>Yr({type:4,toastId:t});ue.promise=(t,e,n)=>{let s=ue.loading(e.loading,{...n,...n==null?void 0:n.loading});return typeof t=="function"&&(t=t()),t.then(r=>{let i=e.success?Mc(e.success,r):void 0;return i?ue.success(i,{id:s,...n,...n==null?void 0:n.success}):ue.dismiss(s),r}).catch(r=>{let i=e.error?Mc(e.error,r):void 0;i?ue.error(i,{id:s,...n,...n==null?void 0:n.error}):ue.dismiss(s)}),t};var hM=(t,e)=>{Yr({type:1,toast:{id:t,height:e}})},fM=()=>{Yr({type:5,time:Date.now()})},Go=new Map,pM=1e3,mM=(t,e=pM)=>{if(Go.has(t))return;let n=setTimeout(()=>{Go.delete(t),Yr({type:4,toastId:t})},e);Go.set(t,n)},gM=t=>{let{toasts:e,pausedAt:n}=uM(t);D.useEffect(()=>{if(n)return;let i=Date.now(),o=e.map(a=>{if(a.duration===1/0)return;let l=(a.duration||0)+a.pauseDuration-(i-a.createdAt);if(l<0){a.visible&&ue.dismiss(a.id);return}return setTimeout(()=>ue.dismiss(a.id),l)});return()=>{o.forEach(a=>a&&clearTimeout(a))}},[e,n]);let s=D.useCallback(()=>{n&&Yr({type:6,time:Date.now()})},[n]),r=D.useCallback((i,o)=>{let{reverseOrder:a=!1,gutter:l=8,defaultPosition:u}=o||{},d=e.filter(x=>(x.position||u)===(i.position||u)&&x.height),p=d.findIndex(x=>x.id===i.id),g=d.filter((x,v)=>v<p&&x.visible).length;return d.filter(x=>x.visible).slice(...a?[g+1]:[0,g]).reduce((x,v)=>x+(v.height||0)+l,0)},[e]);return D.useEffect(()=>{e.forEach(i=>{if(i.dismissed)mM(i.id,i.removeDelay);else{let o=Go.get(i.id);o&&(clearTimeout(o),Go.delete(i.id))}})},[e]),{toasts:e,handlers:{updateHeight:hM,startPause:fM,endPause:s,calculateOffset:r}}},yM=us`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,xM=us`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,vM=us`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,_M=nr("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${yM} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${xM} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${vM} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,wM=us`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,bM=nr("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${wM} 1s linear infinite;
`,kM=us`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,SM=us`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,jM=nr("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${kM} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${SM} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,CM=nr("div")`
  position: absolute;
`,EM=nr("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,MM=us`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,DM=nr("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${MM} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,NM=({toast:t})=>{let{icon:e,type:n,iconTheme:s}=t;return e!==void 0?typeof e=="string"?D.createElement(DM,null,e):e:n==="blank"?null:D.createElement(EM,null,D.createElement(bM,{...s}),n!=="loading"&&D.createElement(CM,null,n==="error"?D.createElement(_M,{...s}):D.createElement(jM,{...s})))},PM=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,TM=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,OM="0%{opacity:0;} 100%{opacity:1;}",AM="0%{opacity:1;} 100%{opacity:0;}",RM=nr("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,LM=nr("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,FM=(t,e)=>{let n=t.includes("top")?1:-1,[s,r]=Gv()?[OM,AM]:[PM(n),TM(n)];return{animation:e?`${us(s)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${us(r)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},IM=D.memo(({toast:t,position:e,style:n,children:s})=>{let r=t.height?FM(t.position||e||"top-center",t.visible):{opacity:0},i=D.createElement(NM,{toast:t}),o=D.createElement(LM,{...t.ariaProps},Mc(t.message,t));return D.createElement(RM,{className:t.className,style:{...r,...n,...t.style}},typeof s=="function"?s({icon:i,message:o}):D.createElement(D.Fragment,null,i,o))});iM(D.createElement);var $M=({id:t,className:e,style:n,onHeightUpdate:s,children:r})=>{let i=D.useCallback(o=>{if(o){let a=()=>{let l=o.getBoundingClientRect().height;s(t,l)};a(),new MutationObserver(a).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[t,s]);return D.createElement("div",{ref:i,className:e,style:n},r)},zM=(t,e)=>{let n=t.includes("top"),s=n?{top:0}:{bottom:0},r=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Gv()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...s,...r}},BM=au`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,jl=16,UM=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:s,children:r,containerStyle:i,containerClassName:o})=>{let{toasts:a,handlers:l}=gM(n);return D.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:jl,left:jl,right:jl,bottom:jl,pointerEvents:"none",...i},className:o,onMouseEnter:l.startPause,onMouseLeave:l.endPause},a.map(u=>{let d=u.position||e,p=l.calculateOffset(u,{reverseOrder:t,gutter:s,defaultPosition:e}),g=zM(d,p);return D.createElement($M,{id:u.id,key:u.id,onHeightUpdate:l.updateHeight,className:u.visible?BM:"",style:g},u.type==="custom"?Mc(u.message,u):r?r(u):D.createElement(IM,{toast:u,position:d}))}))},WM=ue;function Kv(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var hd={exports:{}},Cg;function HM(){return Cg||(Cg=1,function(t,e){(function(n,s){t.exports=s()})(Ht,function(){var n;function s(){return n.apply(null,arguments)}function r(c){n=c}function i(c){return c instanceof Array||Object.prototype.toString.call(c)==="[object Array]"}function o(c){return c!=null&&Object.prototype.toString.call(c)==="[object Object]"}function a(c,h){return Object.prototype.hasOwnProperty.call(c,h)}function l(c){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(c).length===0;var h;for(h in c)if(a(c,h))return!1;return!0}function u(c){return c===void 0}function d(c){return typeof c=="number"||Object.prototype.toString.call(c)==="[object Number]"}function p(c){return c instanceof Date||Object.prototype.toString.call(c)==="[object Date]"}function g(c,h){var m=[],y,w=c.length;for(y=0;y<w;++y)m.push(h(c[y],y));return m}function x(c,h){for(var m in h)a(h,m)&&(c[m]=h[m]);return a(h,"toString")&&(c.toString=h.toString),a(h,"valueOf")&&(c.valueOf=h.valueOf),c}function v(c,h,m,y){return Sp(c,h,m,y,!0).utc()}function k(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function S(c){return c._pf==null&&(c._pf=k()),c._pf}var _;Array.prototype.some?_=Array.prototype.some:_=function(c){var h=Object(this),m=h.length>>>0,y;for(y=0;y<m;y++)if(y in h&&c.call(this,h[y],y,h))return!0;return!1};function b(c){var h=null,m=!1,y=c._d&&!isNaN(c._d.getTime());if(y&&(h=S(c),m=_.call(h.parsedDateParts,function(w){return w!=null}),y=h.overflow<0&&!h.empty&&!h.invalidEra&&!h.invalidMonth&&!h.invalidWeekday&&!h.weekdayMismatch&&!h.nullInput&&!h.invalidFormat&&!h.userInvalidated&&(!h.meridiem||h.meridiem&&m),c._strict&&(y=y&&h.charsLeftOver===0&&h.unusedTokens.length===0&&h.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(c))c._isValid=y;else return y;return c._isValid}function j(c){var h=v(NaN);return c!=null?x(S(h),c):S(h).userInvalidated=!0,h}var E=s.momentProperties=[],M=!1;function O(c,h){var m,y,w,C=E.length;if(u(h._isAMomentObject)||(c._isAMomentObject=h._isAMomentObject),u(h._i)||(c._i=h._i),u(h._f)||(c._f=h._f),u(h._l)||(c._l=h._l),u(h._strict)||(c._strict=h._strict),u(h._tzm)||(c._tzm=h._tzm),u(h._isUTC)||(c._isUTC=h._isUTC),u(h._offset)||(c._offset=h._offset),u(h._pf)||(c._pf=S(h)),u(h._locale)||(c._locale=h._locale),C>0)for(m=0;m<C;m++)y=E[m],w=h[y],u(w)||(c[y]=w);return c}function A(c){O(this,c),this._d=new Date(c._d!=null?c._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),M===!1&&(M=!0,s.updateOffset(this),M=!1)}function T(c){return c instanceof A||c!=null&&c._isAMomentObject!=null}function q(c){s.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+c)}function z(c,h){var m=!0;return x(function(){if(s.deprecationHandler!=null&&s.deprecationHandler(null,c),m){var y=[],w,C,R,Z=arguments.length;for(C=0;C<Z;C++){if(w="",typeof arguments[C]=="object"){w+=`
[`+C+"] ";for(R in arguments[0])a(arguments[0],R)&&(w+=R+": "+arguments[0][R]+", ");w=w.slice(0,-2)}else w=arguments[C];y.push(w)}q(c+`
Arguments: `+Array.prototype.slice.call(y).join("")+`
`+new Error().stack),m=!1}return h.apply(this,arguments)},h)}var se={};function ae(c,h){s.deprecationHandler!=null&&s.deprecationHandler(c,h),se[c]||(q(h),se[c]=!0)}s.suppressDeprecationWarnings=!1,s.deprecationHandler=null;function fe(c){return typeof Function<"u"&&c instanceof Function||Object.prototype.toString.call(c)==="[object Function]"}function ce(c){var h,m;for(m in c)a(c,m)&&(h=c[m],fe(h)?this[m]=h:this["_"+m]=h);this._config=c,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function pe(c,h){var m=x({},c),y;for(y in h)a(h,y)&&(o(c[y])&&o(h[y])?(m[y]={},x(m[y],c[y]),x(m[y],h[y])):h[y]!=null?m[y]=h[y]:delete m[y]);for(y in c)a(c,y)&&!a(h,y)&&o(c[y])&&(m[y]=x({},m[y]));return m}function me(c){c!=null&&this.set(c)}var ve;Object.keys?ve=Object.keys:ve=function(c){var h,m=[];for(h in c)a(c,h)&&m.push(h);return m};var G={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function X(c,h,m){var y=this._calendar[c]||this._calendar.sameElse;return fe(y)?y.call(h,m):y}function te(c,h,m){var y=""+Math.abs(c),w=h-y.length,C=c>=0;return(C?m?"+":"":"-")+Math.pow(10,Math.max(0,w)).toString().substr(1)+y}var B=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,ie=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,P={},Y={};function L(c,h,m,y){var w=y;typeof y=="string"&&(w=function(){return this[y]()}),c&&(Y[c]=w),h&&(Y[h[0]]=function(){return te(w.apply(this,arguments),h[1],h[2])}),m&&(Y[m]=function(){return this.localeData().ordinal(w.apply(this,arguments),c)})}function he(c){return c.match(/\[[\s\S]/)?c.replace(/^\[|\]$/g,""):c.replace(/\\/g,"")}function Ue(c){var h=c.match(B),m,y;for(m=0,y=h.length;m<y;m++)Y[h[m]]?h[m]=Y[h[m]]:h[m]=he(h[m]);return function(w){var C="",R;for(R=0;R<y;R++)C+=fe(h[R])?h[R].call(w,c):h[R];return C}}function St(c,h){return c.isValid()?(h=hs(h,c.localeData()),P[h]=P[h]||Ue(h),P[h](c)):c.localeData().invalidDate()}function hs(c,h){var m=5;function y(w){return h.longDateFormat(w)||w}for(ie.lastIndex=0;m>=0&&ie.test(c);)c=c.replace(ie,y),ie.lastIndex=0,m-=1;return c}var Gr={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function Fn(c){var h=this._longDateFormat[c],m=this._longDateFormat[c.toUpperCase()];return h||!m?h:(this._longDateFormat[c]=m.match(B).map(function(y){return y==="MMMM"||y==="MM"||y==="DD"||y==="dddd"?y.slice(1):y}).join(""),this._longDateFormat[c])}var Tt="Invalid date";function Zi(){return this._invalidDate}var Sn="%d",eo=/\d{1,2}/;function sr(c){return this._ordinal.replace("%d",c)}var Ba={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function rr(c,h,m,y){var w=this._relativeTime[m];return fe(w)?w(c,h,m,y):w.replace(/%d/i,c)}function Ua(c,h){var m=this._relativeTime[c>0?"future":"past"];return fe(m)?m(h):m.replace(/%s/i,h)}var fs={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function jt(c){return typeof c=="string"?fs[c]||fs[c.toLowerCase()]:void 0}function In(c){var h={},m,y;for(y in c)a(c,y)&&(m=jt(y),m&&(h[m]=c[y]));return h}var Wa={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function ir(c){var h=[],m;for(m in c)a(c,m)&&h.push({unit:m,priority:Wa[m]});return h.sort(function(y,w){return y.priority-w.priority}),h}var to=/\d/,nt=/\d\d/,no=/\d{3}/,or=/\d{4}/,ps=/[+-]?\d{6}/,Pe=/\d\d?/,ar=/\d\d\d\d?/,Ge=/\d\d\d\d\d\d?/,ms=/\d{1,3}/,qr=/\d{1,4}/,Ct=/[+-]?\d{1,6}/,$n=/\d+/,Kr=/[+-]?\d+/,Jr=/Z|[+-]\d\d:?\d\d/gi,Xr=/Z|[+-]\d\d(?::?\d\d)?/gi,so=/[+-]?\d+(\.\d{1,3})?/,lr=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,dn=/^[1-9]\d?/,ro=/^([1-9]\d|\d)/,Qr;Qr={};function Q(c,h,m){Qr[c]=fe(h)?h:function(y,w){return y&&m?m:h}}function pu(c,h){return a(Qr,c)?Qr[c](h._strict,h._locale):new RegExp(mu(c))}function mu(c){return hn(c.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(h,m,y,w,C){return m||y||w||C}))}function hn(c){return c.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Ot(c){return c<0?Math.ceil(c)||0:Math.floor(c)}function ye(c){var h=+c,m=0;return h!==0&&isFinite(h)&&(m=Ot(h)),m}var Zr={};function Ee(c,h){var m,y=h,w;for(typeof c=="string"&&(c=[c]),d(h)&&(y=function(C,R){R[h]=ye(C)}),w=c.length,m=0;m<w;m++)Zr[c[m]]=y}function gs(c,h){Ee(c,function(m,y,w,C){w._w=w._w||{},h(m,w._w,w,C)})}function Ha(c,h,m){h!=null&&a(Zr,c)&&Zr[c](h,m._a,m,c)}function cr(c){return c%4===0&&c%100!==0||c%400===0}var st=0,Zt=1,Yt=2,qe=3,At=4,en=5,jn=6,Ya=7,Va=8;L("Y",0,0,function(){var c=this.year();return c<=9999?te(c,4):"+"+c}),L(0,["YY",2],0,function(){return this.year()%100}),L(0,["YYYY",4],0,"year"),L(0,["YYYYY",5],0,"year"),L(0,["YYYYYY",6,!0],0,"year"),Q("Y",Kr),Q("YY",Pe,nt),Q("YYYY",qr,or),Q("YYYYY",Ct,ps),Q("YYYYYY",Ct,ps),Ee(["YYYYY","YYYYYY"],st),Ee("YYYY",function(c,h){h[st]=c.length===2?s.parseTwoDigitYear(c):ye(c)}),Ee("YY",function(c,h){h[st]=s.parseTwoDigitYear(c)}),Ee("Y",function(c,h){h[st]=parseInt(c,10)});function ys(c){return cr(c)?366:365}s.parseTwoDigitYear=function(c){return ye(c)+(ye(c)>68?1900:2e3)};var N=F("FullYear",!0);function $(){return cr(this.year())}function F(c,h){return function(m){return m!=null?(J(this,c,m),s.updateOffset(this,h),this):K(this,c)}}function K(c,h){if(!c.isValid())return NaN;var m=c._d,y=c._isUTC;switch(h){case"Milliseconds":return y?m.getUTCMilliseconds():m.getMilliseconds();case"Seconds":return y?m.getUTCSeconds():m.getSeconds();case"Minutes":return y?m.getUTCMinutes():m.getMinutes();case"Hours":return y?m.getUTCHours():m.getHours();case"Date":return y?m.getUTCDate():m.getDate();case"Day":return y?m.getUTCDay():m.getDay();case"Month":return y?m.getUTCMonth():m.getMonth();case"FullYear":return y?m.getUTCFullYear():m.getFullYear();default:return NaN}}function J(c,h,m){var y,w,C,R,Z;if(!(!c.isValid()||isNaN(m))){switch(y=c._d,w=c._isUTC,h){case"Milliseconds":return void(w?y.setUTCMilliseconds(m):y.setMilliseconds(m));case"Seconds":return void(w?y.setUTCSeconds(m):y.setSeconds(m));case"Minutes":return void(w?y.setUTCMinutes(m):y.setMinutes(m));case"Hours":return void(w?y.setUTCHours(m):y.setHours(m));case"Date":return void(w?y.setUTCDate(m):y.setDate(m));case"FullYear":break;default:return}C=m,R=c.month(),Z=c.date(),Z=Z===29&&R===1&&!cr(C)?28:Z,w?y.setUTCFullYear(C,R,Z):y.setFullYear(C,R,Z)}}function V(c){return c=jt(c),fe(this[c])?this[c]():this}function I(c,h){if(typeof c=="object"){c=In(c);var m=ir(c),y,w=m.length;for(y=0;y<w;y++)this[m[y].unit](c[m[y].unit])}else if(c=jt(c),fe(this[c]))return this[c](h);return this}function ne(c,h){return(c%h+h)%h}var H;Array.prototype.indexOf?H=Array.prototype.indexOf:H=function(c){var h;for(h=0;h<this.length;++h)if(this[h]===c)return h;return-1};function le(c,h){if(isNaN(c)||isNaN(h))return NaN;var m=ne(h,12);return c+=(h-m)/12,m===1?cr(c)?29:28:31-m%7%2}L("M",["MM",2],"Mo",function(){return this.month()+1}),L("MMM",0,0,function(c){return this.localeData().monthsShort(this,c)}),L("MMMM",0,0,function(c){return this.localeData().months(this,c)}),Q("M",Pe,dn),Q("MM",Pe,nt),Q("MMM",function(c,h){return h.monthsShortRegex(c)}),Q("MMMM",function(c,h){return h.monthsRegex(c)}),Ee(["M","MM"],function(c,h){h[Zt]=ye(c)-1}),Ee(["MMM","MMMM"],function(c,h,m,y){var w=m._locale.monthsParse(c,y,m._strict);w!=null?h[Zt]=w:S(m).invalidMonth=c});var oe="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),rt="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),mt=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,xs=lr,vs=lr;function ei(c,h){return c?i(this._months)?this._months[c.month()]:this._months[(this._months.isFormat||mt).test(h)?"format":"standalone"][c.month()]:i(this._months)?this._months:this._months.standalone}function Re(c,h){return c?i(this._monthsShort)?this._monthsShort[c.month()]:this._monthsShort[mt.test(h)?"format":"standalone"][c.month()]:i(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function lt(c,h,m){var y,w,C,R=c.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],y=0;y<12;++y)C=v([2e3,y]),this._shortMonthsParse[y]=this.monthsShort(C,"").toLocaleLowerCase(),this._longMonthsParse[y]=this.months(C,"").toLocaleLowerCase();return m?h==="MMM"?(w=H.call(this._shortMonthsParse,R),w!==-1?w:null):(w=H.call(this._longMonthsParse,R),w!==-1?w:null):h==="MMM"?(w=H.call(this._shortMonthsParse,R),w!==-1?w:(w=H.call(this._longMonthsParse,R),w!==-1?w:null)):(w=H.call(this._longMonthsParse,R),w!==-1?w:(w=H.call(this._shortMonthsParse,R),w!==-1?w:null))}function fn(c,h,m){var y,w,C;if(this._monthsParseExact)return lt.call(this,c,h,m);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),y=0;y<12;y++){if(w=v([2e3,y]),m&&!this._longMonthsParse[y]&&(this._longMonthsParse[y]=new RegExp("^"+this.months(w,"").replace(".","")+"$","i"),this._shortMonthsParse[y]=new RegExp("^"+this.monthsShort(w,"").replace(".","")+"$","i")),!m&&!this._monthsParse[y]&&(C="^"+this.months(w,"")+"|^"+this.monthsShort(w,""),this._monthsParse[y]=new RegExp(C.replace(".",""),"i")),m&&h==="MMMM"&&this._longMonthsParse[y].test(c))return y;if(m&&h==="MMM"&&this._shortMonthsParse[y].test(c))return y;if(!m&&this._monthsParse[y].test(c))return y}}function io(c,h){if(!c.isValid())return c;if(typeof h=="string"){if(/^\d+$/.test(h))h=ye(h);else if(h=c.localeData().monthsParse(h),!d(h))return c}var m=h,y=c.date();return y=y<29?y:Math.min(y,le(c.year(),m)),c._isUTC?c._d.setUTCMonth(m,y):c._d.setMonth(m,y),c}function oo(c){return c!=null?(io(this,c),s.updateOffset(this,!0),this):K(this,"Month")}function K_(){return le(this.year(),this.month())}function J_(c){return this._monthsParseExact?(a(this,"_monthsRegex")||pp.call(this),c?this._monthsShortStrictRegex:this._monthsShortRegex):(a(this,"_monthsShortRegex")||(this._monthsShortRegex=xs),this._monthsShortStrictRegex&&c?this._monthsShortStrictRegex:this._monthsShortRegex)}function X_(c){return this._monthsParseExact?(a(this,"_monthsRegex")||pp.call(this),c?this._monthsStrictRegex:this._monthsRegex):(a(this,"_monthsRegex")||(this._monthsRegex=vs),this._monthsStrictRegex&&c?this._monthsStrictRegex:this._monthsRegex)}function pp(){function c(de,ke){return ke.length-de.length}var h=[],m=[],y=[],w,C,R,Z;for(w=0;w<12;w++)C=v([2e3,w]),R=hn(this.monthsShort(C,"")),Z=hn(this.months(C,"")),h.push(R),m.push(Z),y.push(Z),y.push(R);h.sort(c),m.sort(c),y.sort(c),this._monthsRegex=new RegExp("^("+y.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+m.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+h.join("|")+")","i")}function Q_(c,h,m,y,w,C,R){var Z;return c<100&&c>=0?(Z=new Date(c+400,h,m,y,w,C,R),isFinite(Z.getFullYear())&&Z.setFullYear(c)):Z=new Date(c,h,m,y,w,C,R),Z}function ao(c){var h,m;return c<100&&c>=0?(m=Array.prototype.slice.call(arguments),m[0]=c+400,h=new Date(Date.UTC.apply(null,m)),isFinite(h.getUTCFullYear())&&h.setUTCFullYear(c)):h=new Date(Date.UTC.apply(null,arguments)),h}function Ga(c,h,m){var y=7+h-m,w=(7+ao(c,0,y).getUTCDay()-h)%7;return-w+y-1}function mp(c,h,m,y,w){var C=(7+m-y)%7,R=Ga(c,y,w),Z=1+7*(h-1)+C+R,de,ke;return Z<=0?(de=c-1,ke=ys(de)+Z):Z>ys(c)?(de=c+1,ke=Z-ys(c)):(de=c,ke=Z),{year:de,dayOfYear:ke}}function lo(c,h,m){var y=Ga(c.year(),h,m),w=Math.floor((c.dayOfYear()-y-1)/7)+1,C,R;return w<1?(R=c.year()-1,C=w+zn(R,h,m)):w>zn(c.year(),h,m)?(C=w-zn(c.year(),h,m),R=c.year()+1):(R=c.year(),C=w),{week:C,year:R}}function zn(c,h,m){var y=Ga(c,h,m),w=Ga(c+1,h,m);return(ys(c)-y+w)/7}L("w",["ww",2],"wo","week"),L("W",["WW",2],"Wo","isoWeek"),Q("w",Pe,dn),Q("ww",Pe,nt),Q("W",Pe,dn),Q("WW",Pe,nt),gs(["w","ww","W","WW"],function(c,h,m,y){h[y.substr(0,1)]=ye(c)});function Z_(c){return lo(c,this._week.dow,this._week.doy).week}var ew={dow:0,doy:6};function tw(){return this._week.dow}function nw(){return this._week.doy}function sw(c){var h=this.localeData().week(this);return c==null?h:this.add((c-h)*7,"d")}function rw(c){var h=lo(this,1,4).week;return c==null?h:this.add((c-h)*7,"d")}L("d",0,"do","day"),L("dd",0,0,function(c){return this.localeData().weekdaysMin(this,c)}),L("ddd",0,0,function(c){return this.localeData().weekdaysShort(this,c)}),L("dddd",0,0,function(c){return this.localeData().weekdays(this,c)}),L("e",0,0,"weekday"),L("E",0,0,"isoWeekday"),Q("d",Pe),Q("e",Pe),Q("E",Pe),Q("dd",function(c,h){return h.weekdaysMinRegex(c)}),Q("ddd",function(c,h){return h.weekdaysShortRegex(c)}),Q("dddd",function(c,h){return h.weekdaysRegex(c)}),gs(["dd","ddd","dddd"],function(c,h,m,y){var w=m._locale.weekdaysParse(c,y,m._strict);w!=null?h.d=w:S(m).invalidWeekday=c}),gs(["d","e","E"],function(c,h,m,y){h[y]=ye(c)});function iw(c,h){return typeof c!="string"?c:isNaN(c)?(c=h.weekdaysParse(c),typeof c=="number"?c:null):parseInt(c,10)}function ow(c,h){return typeof c=="string"?h.weekdaysParse(c)%7||7:isNaN(c)?null:c}function gu(c,h){return c.slice(h,7).concat(c.slice(0,h))}var aw="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),gp="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),lw="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),cw=lr,uw=lr,dw=lr;function hw(c,h){var m=i(this._weekdays)?this._weekdays:this._weekdays[c&&c!==!0&&this._weekdays.isFormat.test(h)?"format":"standalone"];return c===!0?gu(m,this._week.dow):c?m[c.day()]:m}function fw(c){return c===!0?gu(this._weekdaysShort,this._week.dow):c?this._weekdaysShort[c.day()]:this._weekdaysShort}function pw(c){return c===!0?gu(this._weekdaysMin,this._week.dow):c?this._weekdaysMin[c.day()]:this._weekdaysMin}function mw(c,h,m){var y,w,C,R=c.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],y=0;y<7;++y)C=v([2e3,1]).day(y),this._minWeekdaysParse[y]=this.weekdaysMin(C,"").toLocaleLowerCase(),this._shortWeekdaysParse[y]=this.weekdaysShort(C,"").toLocaleLowerCase(),this._weekdaysParse[y]=this.weekdays(C,"").toLocaleLowerCase();return m?h==="dddd"?(w=H.call(this._weekdaysParse,R),w!==-1?w:null):h==="ddd"?(w=H.call(this._shortWeekdaysParse,R),w!==-1?w:null):(w=H.call(this._minWeekdaysParse,R),w!==-1?w:null):h==="dddd"?(w=H.call(this._weekdaysParse,R),w!==-1||(w=H.call(this._shortWeekdaysParse,R),w!==-1)?w:(w=H.call(this._minWeekdaysParse,R),w!==-1?w:null)):h==="ddd"?(w=H.call(this._shortWeekdaysParse,R),w!==-1||(w=H.call(this._weekdaysParse,R),w!==-1)?w:(w=H.call(this._minWeekdaysParse,R),w!==-1?w:null)):(w=H.call(this._minWeekdaysParse,R),w!==-1||(w=H.call(this._weekdaysParse,R),w!==-1)?w:(w=H.call(this._shortWeekdaysParse,R),w!==-1?w:null))}function gw(c,h,m){var y,w,C;if(this._weekdaysParseExact)return mw.call(this,c,h,m);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),y=0;y<7;y++){if(w=v([2e3,1]).day(y),m&&!this._fullWeekdaysParse[y]&&(this._fullWeekdaysParse[y]=new RegExp("^"+this.weekdays(w,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[y]=new RegExp("^"+this.weekdaysShort(w,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[y]=new RegExp("^"+this.weekdaysMin(w,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[y]||(C="^"+this.weekdays(w,"")+"|^"+this.weekdaysShort(w,"")+"|^"+this.weekdaysMin(w,""),this._weekdaysParse[y]=new RegExp(C.replace(".",""),"i")),m&&h==="dddd"&&this._fullWeekdaysParse[y].test(c))return y;if(m&&h==="ddd"&&this._shortWeekdaysParse[y].test(c))return y;if(m&&h==="dd"&&this._minWeekdaysParse[y].test(c))return y;if(!m&&this._weekdaysParse[y].test(c))return y}}function yw(c){if(!this.isValid())return c!=null?this:NaN;var h=K(this,"Day");return c!=null?(c=iw(c,this.localeData()),this.add(c-h,"d")):h}function xw(c){if(!this.isValid())return c!=null?this:NaN;var h=(this.day()+7-this.localeData()._week.dow)%7;return c==null?h:this.add(c-h,"d")}function vw(c){if(!this.isValid())return c!=null?this:NaN;if(c!=null){var h=ow(c,this.localeData());return this.day(this.day()%7?h:h-7)}else return this.day()||7}function _w(c){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||yu.call(this),c?this._weekdaysStrictRegex:this._weekdaysRegex):(a(this,"_weekdaysRegex")||(this._weekdaysRegex=cw),this._weekdaysStrictRegex&&c?this._weekdaysStrictRegex:this._weekdaysRegex)}function ww(c){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||yu.call(this),c?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(a(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=uw),this._weekdaysShortStrictRegex&&c?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function bw(c){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||yu.call(this),c?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(a(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=dw),this._weekdaysMinStrictRegex&&c?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function yu(){function c(Et,Yn){return Yn.length-Et.length}var h=[],m=[],y=[],w=[],C,R,Z,de,ke;for(C=0;C<7;C++)R=v([2e3,1]).day(C),Z=hn(this.weekdaysMin(R,"")),de=hn(this.weekdaysShort(R,"")),ke=hn(this.weekdays(R,"")),h.push(Z),m.push(de),y.push(ke),w.push(Z),w.push(de),w.push(ke);h.sort(c),m.sort(c),y.sort(c),w.sort(c),this._weekdaysRegex=new RegExp("^("+w.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+y.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+m.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+h.join("|")+")","i")}function xu(){return this.hours()%12||12}function kw(){return this.hours()||24}L("H",["HH",2],0,"hour"),L("h",["hh",2],0,xu),L("k",["kk",2],0,kw),L("hmm",0,0,function(){return""+xu.apply(this)+te(this.minutes(),2)}),L("hmmss",0,0,function(){return""+xu.apply(this)+te(this.minutes(),2)+te(this.seconds(),2)}),L("Hmm",0,0,function(){return""+this.hours()+te(this.minutes(),2)}),L("Hmmss",0,0,function(){return""+this.hours()+te(this.minutes(),2)+te(this.seconds(),2)});function yp(c,h){L(c,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),h)})}yp("a",!0),yp("A",!1);function xp(c,h){return h._meridiemParse}Q("a",xp),Q("A",xp),Q("H",Pe,ro),Q("h",Pe,dn),Q("k",Pe,dn),Q("HH",Pe,nt),Q("hh",Pe,nt),Q("kk",Pe,nt),Q("hmm",ar),Q("hmmss",Ge),Q("Hmm",ar),Q("Hmmss",Ge),Ee(["H","HH"],qe),Ee(["k","kk"],function(c,h,m){var y=ye(c);h[qe]=y===24?0:y}),Ee(["a","A"],function(c,h,m){m._isPm=m._locale.isPM(c),m._meridiem=c}),Ee(["h","hh"],function(c,h,m){h[qe]=ye(c),S(m).bigHour=!0}),Ee("hmm",function(c,h,m){var y=c.length-2;h[qe]=ye(c.substr(0,y)),h[At]=ye(c.substr(y)),S(m).bigHour=!0}),Ee("hmmss",function(c,h,m){var y=c.length-4,w=c.length-2;h[qe]=ye(c.substr(0,y)),h[At]=ye(c.substr(y,2)),h[en]=ye(c.substr(w)),S(m).bigHour=!0}),Ee("Hmm",function(c,h,m){var y=c.length-2;h[qe]=ye(c.substr(0,y)),h[At]=ye(c.substr(y))}),Ee("Hmmss",function(c,h,m){var y=c.length-4,w=c.length-2;h[qe]=ye(c.substr(0,y)),h[At]=ye(c.substr(y,2)),h[en]=ye(c.substr(w))});function Sw(c){return(c+"").toLowerCase().charAt(0)==="p"}var jw=/[ap]\.?m?\.?/i,Cw=F("Hours",!0);function Ew(c,h,m){return c>11?m?"pm":"PM":m?"am":"AM"}var vp={calendar:G,longDateFormat:Gr,invalidDate:Tt,ordinal:Sn,dayOfMonthOrdinalParse:eo,relativeTime:Ba,months:oe,monthsShort:rt,week:ew,weekdays:aw,weekdaysMin:lw,weekdaysShort:gp,meridiemParse:jw},ze={},co={},uo;function Mw(c,h){var m,y=Math.min(c.length,h.length);for(m=0;m<y;m+=1)if(c[m]!==h[m])return m;return y}function _p(c){return c&&c.toLowerCase().replace("_","-")}function Dw(c){for(var h=0,m,y,w,C;h<c.length;){for(C=_p(c[h]).split("-"),m=C.length,y=_p(c[h+1]),y=y?y.split("-"):null;m>0;){if(w=qa(C.slice(0,m).join("-")),w)return w;if(y&&y.length>=m&&Mw(C,y)>=m-1)break;m--}h++}return uo}function Nw(c){return!!(c&&c.match("^[^/\\\\]*$"))}function qa(c){var h=null,m;if(ze[c]===void 0&&t&&t.exports&&Nw(c))try{h=uo._abbr,m=Kv,m("./locale/"+c),_s(h)}catch{ze[c]=null}return ze[c]}function _s(c,h){var m;return c&&(u(h)?m=Bn(c):m=vu(c,h),m?uo=m:typeof console<"u"&&console.warn&&console.warn("Locale "+c+" not found. Did you forget to load it?")),uo._abbr}function vu(c,h){if(h!==null){var m,y=vp;if(h.abbr=c,ze[c]!=null)ae("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),y=ze[c]._config;else if(h.parentLocale!=null)if(ze[h.parentLocale]!=null)y=ze[h.parentLocale]._config;else if(m=qa(h.parentLocale),m!=null)y=m._config;else return co[h.parentLocale]||(co[h.parentLocale]=[]),co[h.parentLocale].push({name:c,config:h}),null;return ze[c]=new me(pe(y,h)),co[c]&&co[c].forEach(function(w){vu(w.name,w.config)}),_s(c),ze[c]}else return delete ze[c],null}function Pw(c,h){if(h!=null){var m,y,w=vp;ze[c]!=null&&ze[c].parentLocale!=null?ze[c].set(pe(ze[c]._config,h)):(y=qa(c),y!=null&&(w=y._config),h=pe(w,h),y==null&&(h.abbr=c),m=new me(h),m.parentLocale=ze[c],ze[c]=m),_s(c)}else ze[c]!=null&&(ze[c].parentLocale!=null?(ze[c]=ze[c].parentLocale,c===_s()&&_s(c)):ze[c]!=null&&delete ze[c]);return ze[c]}function Bn(c){var h;if(c&&c._locale&&c._locale._abbr&&(c=c._locale._abbr),!c)return uo;if(!i(c)){if(h=qa(c),h)return h;c=[c]}return Dw(c)}function Tw(){return ve(ze)}function _u(c){var h,m=c._a;return m&&S(c).overflow===-2&&(h=m[Zt]<0||m[Zt]>11?Zt:m[Yt]<1||m[Yt]>le(m[st],m[Zt])?Yt:m[qe]<0||m[qe]>24||m[qe]===24&&(m[At]!==0||m[en]!==0||m[jn]!==0)?qe:m[At]<0||m[At]>59?At:m[en]<0||m[en]>59?en:m[jn]<0||m[jn]>999?jn:-1,S(c)._overflowDayOfYear&&(h<st||h>Yt)&&(h=Yt),S(c)._overflowWeeks&&h===-1&&(h=Ya),S(c)._overflowWeekday&&h===-1&&(h=Va),S(c).overflow=h),c}var Ow=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Aw=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Rw=/Z|[+-]\d\d(?::?\d\d)?/,Ka=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],wu=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Lw=/^\/?Date\((-?\d+)/i,Fw=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Iw={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function wp(c){var h,m,y=c._i,w=Ow.exec(y)||Aw.exec(y),C,R,Z,de,ke=Ka.length,Et=wu.length;if(w){for(S(c).iso=!0,h=0,m=ke;h<m;h++)if(Ka[h][1].exec(w[1])){R=Ka[h][0],C=Ka[h][2]!==!1;break}if(R==null){c._isValid=!1;return}if(w[3]){for(h=0,m=Et;h<m;h++)if(wu[h][1].exec(w[3])){Z=(w[2]||" ")+wu[h][0];break}if(Z==null){c._isValid=!1;return}}if(!C&&Z!=null){c._isValid=!1;return}if(w[4])if(Rw.exec(w[4]))de="Z";else{c._isValid=!1;return}c._f=R+(Z||"")+(de||""),ku(c)}else c._isValid=!1}function $w(c,h,m,y,w,C){var R=[zw(c),rt.indexOf(h),parseInt(m,10),parseInt(y,10),parseInt(w,10)];return C&&R.push(parseInt(C,10)),R}function zw(c){var h=parseInt(c,10);return h<=49?2e3+h:h<=999?1900+h:h}function Bw(c){return c.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Uw(c,h,m){if(c){var y=gp.indexOf(c),w=new Date(h[0],h[1],h[2]).getDay();if(y!==w)return S(m).weekdayMismatch=!0,m._isValid=!1,!1}return!0}function Ww(c,h,m){if(c)return Iw[c];if(h)return 0;var y=parseInt(m,10),w=y%100,C=(y-w)/100;return C*60+w}function bp(c){var h=Fw.exec(Bw(c._i)),m;if(h){if(m=$w(h[4],h[3],h[2],h[5],h[6],h[7]),!Uw(h[1],m,c))return;c._a=m,c._tzm=Ww(h[8],h[9],h[10]),c._d=ao.apply(null,c._a),c._d.setUTCMinutes(c._d.getUTCMinutes()-c._tzm),S(c).rfc2822=!0}else c._isValid=!1}function Hw(c){var h=Lw.exec(c._i);if(h!==null){c._d=new Date(+h[1]);return}if(wp(c),c._isValid===!1)delete c._isValid;else return;if(bp(c),c._isValid===!1)delete c._isValid;else return;c._strict?c._isValid=!1:s.createFromInputFallback(c)}s.createFromInputFallback=z("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(c){c._d=new Date(c._i+(c._useUTC?" UTC":""))});function ti(c,h,m){return c??h??m}function Yw(c){var h=new Date(s.now());return c._useUTC?[h.getUTCFullYear(),h.getUTCMonth(),h.getUTCDate()]:[h.getFullYear(),h.getMonth(),h.getDate()]}function bu(c){var h,m,y=[],w,C,R;if(!c._d){for(w=Yw(c),c._w&&c._a[Yt]==null&&c._a[Zt]==null&&Vw(c),c._dayOfYear!=null&&(R=ti(c._a[st],w[st]),(c._dayOfYear>ys(R)||c._dayOfYear===0)&&(S(c)._overflowDayOfYear=!0),m=ao(R,0,c._dayOfYear),c._a[Zt]=m.getUTCMonth(),c._a[Yt]=m.getUTCDate()),h=0;h<3&&c._a[h]==null;++h)c._a[h]=y[h]=w[h];for(;h<7;h++)c._a[h]=y[h]=c._a[h]==null?h===2?1:0:c._a[h];c._a[qe]===24&&c._a[At]===0&&c._a[en]===0&&c._a[jn]===0&&(c._nextDay=!0,c._a[qe]=0),c._d=(c._useUTC?ao:Q_).apply(null,y),C=c._useUTC?c._d.getUTCDay():c._d.getDay(),c._tzm!=null&&c._d.setUTCMinutes(c._d.getUTCMinutes()-c._tzm),c._nextDay&&(c._a[qe]=24),c._w&&typeof c._w.d<"u"&&c._w.d!==C&&(S(c).weekdayMismatch=!0)}}function Vw(c){var h,m,y,w,C,R,Z,de,ke;h=c._w,h.GG!=null||h.W!=null||h.E!=null?(C=1,R=4,m=ti(h.GG,c._a[st],lo(Le(),1,4).year),y=ti(h.W,1),w=ti(h.E,1),(w<1||w>7)&&(de=!0)):(C=c._locale._week.dow,R=c._locale._week.doy,ke=lo(Le(),C,R),m=ti(h.gg,c._a[st],ke.year),y=ti(h.w,ke.week),h.d!=null?(w=h.d,(w<0||w>6)&&(de=!0)):h.e!=null?(w=h.e+C,(h.e<0||h.e>6)&&(de=!0)):w=C),y<1||y>zn(m,C,R)?S(c)._overflowWeeks=!0:de!=null?S(c)._overflowWeekday=!0:(Z=mp(m,y,w,C,R),c._a[st]=Z.year,c._dayOfYear=Z.dayOfYear)}s.ISO_8601=function(){},s.RFC_2822=function(){};function ku(c){if(c._f===s.ISO_8601){wp(c);return}if(c._f===s.RFC_2822){bp(c);return}c._a=[],S(c).empty=!0;var h=""+c._i,m,y,w,C,R,Z=h.length,de=0,ke,Et;for(w=hs(c._f,c._locale).match(B)||[],Et=w.length,m=0;m<Et;m++)C=w[m],y=(h.match(pu(C,c))||[])[0],y&&(R=h.substr(0,h.indexOf(y)),R.length>0&&S(c).unusedInput.push(R),h=h.slice(h.indexOf(y)+y.length),de+=y.length),Y[C]?(y?S(c).empty=!1:S(c).unusedTokens.push(C),Ha(C,y,c)):c._strict&&!y&&S(c).unusedTokens.push(C);S(c).charsLeftOver=Z-de,h.length>0&&S(c).unusedInput.push(h),c._a[qe]<=12&&S(c).bigHour===!0&&c._a[qe]>0&&(S(c).bigHour=void 0),S(c).parsedDateParts=c._a.slice(0),S(c).meridiem=c._meridiem,c._a[qe]=Gw(c._locale,c._a[qe],c._meridiem),ke=S(c).era,ke!==null&&(c._a[st]=c._locale.erasConvertYear(ke,c._a[st])),bu(c),_u(c)}function Gw(c,h,m){var y;return m==null?h:c.meridiemHour!=null?c.meridiemHour(h,m):(c.isPM!=null&&(y=c.isPM(m),y&&h<12&&(h+=12),!y&&h===12&&(h=0)),h)}function qw(c){var h,m,y,w,C,R,Z=!1,de=c._f.length;if(de===0){S(c).invalidFormat=!0,c._d=new Date(NaN);return}for(w=0;w<de;w++)C=0,R=!1,h=O({},c),c._useUTC!=null&&(h._useUTC=c._useUTC),h._f=c._f[w],ku(h),b(h)&&(R=!0),C+=S(h).charsLeftOver,C+=S(h).unusedTokens.length*10,S(h).score=C,Z?C<y&&(y=C,m=h):(y==null||C<y||R)&&(y=C,m=h,R&&(Z=!0));x(c,m||h)}function Kw(c){if(!c._d){var h=In(c._i),m=h.day===void 0?h.date:h.day;c._a=g([h.year,h.month,m,h.hour,h.minute,h.second,h.millisecond],function(y){return y&&parseInt(y,10)}),bu(c)}}function Jw(c){var h=new A(_u(kp(c)));return h._nextDay&&(h.add(1,"d"),h._nextDay=void 0),h}function kp(c){var h=c._i,m=c._f;return c._locale=c._locale||Bn(c._l),h===null||m===void 0&&h===""?j({nullInput:!0}):(typeof h=="string"&&(c._i=h=c._locale.preparse(h)),T(h)?new A(_u(h)):(p(h)?c._d=h:i(m)?qw(c):m?ku(c):Xw(c),b(c)||(c._d=null),c))}function Xw(c){var h=c._i;u(h)?c._d=new Date(s.now()):p(h)?c._d=new Date(h.valueOf()):typeof h=="string"?Hw(c):i(h)?(c._a=g(h.slice(0),function(m){return parseInt(m,10)}),bu(c)):o(h)?Kw(c):d(h)?c._d=new Date(h):s.createFromInputFallback(c)}function Sp(c,h,m,y,w){var C={};return(h===!0||h===!1)&&(y=h,h=void 0),(m===!0||m===!1)&&(y=m,m=void 0),(o(c)&&l(c)||i(c)&&c.length===0)&&(c=void 0),C._isAMomentObject=!0,C._useUTC=C._isUTC=w,C._l=m,C._i=c,C._f=h,C._strict=y,Jw(C)}function Le(c,h,m,y){return Sp(c,h,m,y,!1)}var Qw=z("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var c=Le.apply(null,arguments);return this.isValid()&&c.isValid()?c<this?this:c:j()}),Zw=z("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var c=Le.apply(null,arguments);return this.isValid()&&c.isValid()?c>this?this:c:j()});function jp(c,h){var m,y;if(h.length===1&&i(h[0])&&(h=h[0]),!h.length)return Le();for(m=h[0],y=1;y<h.length;++y)(!h[y].isValid()||h[y][c](m))&&(m=h[y]);return m}function eb(){var c=[].slice.call(arguments,0);return jp("isBefore",c)}function tb(){var c=[].slice.call(arguments,0);return jp("isAfter",c)}var nb=function(){return Date.now?Date.now():+new Date},ho=["year","quarter","month","week","day","hour","minute","second","millisecond"];function sb(c){var h,m=!1,y,w=ho.length;for(h in c)if(a(c,h)&&!(H.call(ho,h)!==-1&&(c[h]==null||!isNaN(c[h]))))return!1;for(y=0;y<w;++y)if(c[ho[y]]){if(m)return!1;parseFloat(c[ho[y]])!==ye(c[ho[y]])&&(m=!0)}return!0}function rb(){return this._isValid}function ib(){return pn(NaN)}function Ja(c){var h=In(c),m=h.year||0,y=h.quarter||0,w=h.month||0,C=h.week||h.isoWeek||0,R=h.day||0,Z=h.hour||0,de=h.minute||0,ke=h.second||0,Et=h.millisecond||0;this._isValid=sb(h),this._milliseconds=+Et+ke*1e3+de*6e4+Z*1e3*60*60,this._days=+R+C*7,this._months=+w+y*3+m*12,this._data={},this._locale=Bn(),this._bubble()}function Xa(c){return c instanceof Ja}function Su(c){return c<0?Math.round(-1*c)*-1:Math.round(c)}function ob(c,h,m){var y=Math.min(c.length,h.length),w=Math.abs(c.length-h.length),C=0,R;for(R=0;R<y;R++)ye(c[R])!==ye(h[R])&&C++;return C+w}function Cp(c,h){L(c,0,0,function(){var m=this.utcOffset(),y="+";return m<0&&(m=-m,y="-"),y+te(~~(m/60),2)+h+te(~~m%60,2)})}Cp("Z",":"),Cp("ZZ",""),Q("Z",Xr),Q("ZZ",Xr),Ee(["Z","ZZ"],function(c,h,m){m._useUTC=!0,m._tzm=ju(Xr,c)});var ab=/([\+\-]|\d\d)/gi;function ju(c,h){var m=(h||"").match(c),y,w,C;return m===null?null:(y=m[m.length-1]||[],w=(y+"").match(ab)||["-",0,0],C=+(w[1]*60)+ye(w[2]),C===0?0:w[0]==="+"?C:-C)}function Cu(c,h){var m,y;return h._isUTC?(m=h.clone(),y=(T(c)||p(c)?c.valueOf():Le(c).valueOf())-m.valueOf(),m._d.setTime(m._d.valueOf()+y),s.updateOffset(m,!1),m):Le(c).local()}function Eu(c){return-Math.round(c._d.getTimezoneOffset())}s.updateOffset=function(){};function lb(c,h,m){var y=this._offset||0,w;if(!this.isValid())return c!=null?this:NaN;if(c!=null){if(typeof c=="string"){if(c=ju(Xr,c),c===null)return this}else Math.abs(c)<16&&!m&&(c=c*60);return!this._isUTC&&h&&(w=Eu(this)),this._offset=c,this._isUTC=!0,w!=null&&this.add(w,"m"),y!==c&&(!h||this._changeInProgress?Np(this,pn(c-y,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,s.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?y:Eu(this)}function cb(c,h){return c!=null?(typeof c!="string"&&(c=-c),this.utcOffset(c,h),this):-this.utcOffset()}function ub(c){return this.utcOffset(0,c)}function db(c){return this._isUTC&&(this.utcOffset(0,c),this._isUTC=!1,c&&this.subtract(Eu(this),"m")),this}function hb(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var c=ju(Jr,this._i);c!=null?this.utcOffset(c):this.utcOffset(0,!0)}return this}function fb(c){return this.isValid()?(c=c?Le(c).utcOffset():0,(this.utcOffset()-c)%60===0):!1}function pb(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function mb(){if(!u(this._isDSTShifted))return this._isDSTShifted;var c={},h;return O(c,this),c=kp(c),c._a?(h=c._isUTC?v(c._a):Le(c._a),this._isDSTShifted=this.isValid()&&ob(c._a,h.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function gb(){return this.isValid()?!this._isUTC:!1}function yb(){return this.isValid()?this._isUTC:!1}function Ep(){return this.isValid()?this._isUTC&&this._offset===0:!1}var xb=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,vb=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function pn(c,h){var m=c,y=null,w,C,R;return Xa(c)?m={ms:c._milliseconds,d:c._days,M:c._months}:d(c)||!isNaN(+c)?(m={},h?m[h]=+c:m.milliseconds=+c):(y=xb.exec(c))?(w=y[1]==="-"?-1:1,m={y:0,d:ye(y[Yt])*w,h:ye(y[qe])*w,m:ye(y[At])*w,s:ye(y[en])*w,ms:ye(Su(y[jn]*1e3))*w}):(y=vb.exec(c))?(w=y[1]==="-"?-1:1,m={y:ur(y[2],w),M:ur(y[3],w),w:ur(y[4],w),d:ur(y[5],w),h:ur(y[6],w),m:ur(y[7],w),s:ur(y[8],w)}):m==null?m={}:typeof m=="object"&&("from"in m||"to"in m)&&(R=_b(Le(m.from),Le(m.to)),m={},m.ms=R.milliseconds,m.M=R.months),C=new Ja(m),Xa(c)&&a(c,"_locale")&&(C._locale=c._locale),Xa(c)&&a(c,"_isValid")&&(C._isValid=c._isValid),C}pn.fn=Ja.prototype,pn.invalid=ib;function ur(c,h){var m=c&&parseFloat(c.replace(",","."));return(isNaN(m)?0:m)*h}function Mp(c,h){var m={};return m.months=h.month()-c.month()+(h.year()-c.year())*12,c.clone().add(m.months,"M").isAfter(h)&&--m.months,m.milliseconds=+h-+c.clone().add(m.months,"M"),m}function _b(c,h){var m;return c.isValid()&&h.isValid()?(h=Cu(h,c),c.isBefore(h)?m=Mp(c,h):(m=Mp(h,c),m.milliseconds=-m.milliseconds,m.months=-m.months),m):{milliseconds:0,months:0}}function Dp(c,h){return function(m,y){var w,C;return y!==null&&!isNaN(+y)&&(ae(h,"moment()."+h+"(period, number) is deprecated. Please use moment()."+h+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),C=m,m=y,y=C),w=pn(m,y),Np(this,w,c),this}}function Np(c,h,m,y){var w=h._milliseconds,C=Su(h._days),R=Su(h._months);c.isValid()&&(y=y??!0,R&&io(c,K(c,"Month")+R*m),C&&J(c,"Date",K(c,"Date")+C*m),w&&c._d.setTime(c._d.valueOf()+w*m),y&&s.updateOffset(c,C||R))}var wb=Dp(1,"add"),bb=Dp(-1,"subtract");function Pp(c){return typeof c=="string"||c instanceof String}function kb(c){return T(c)||p(c)||Pp(c)||d(c)||jb(c)||Sb(c)||c===null||c===void 0}function Sb(c){var h=o(c)&&!l(c),m=!1,y=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],w,C,R=y.length;for(w=0;w<R;w+=1)C=y[w],m=m||a(c,C);return h&&m}function jb(c){var h=i(c),m=!1;return h&&(m=c.filter(function(y){return!d(y)&&Pp(c)}).length===0),h&&m}function Cb(c){var h=o(c)&&!l(c),m=!1,y=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],w,C;for(w=0;w<y.length;w+=1)C=y[w],m=m||a(c,C);return h&&m}function Eb(c,h){var m=c.diff(h,"days",!0);return m<-6?"sameElse":m<-1?"lastWeek":m<0?"lastDay":m<1?"sameDay":m<2?"nextDay":m<7?"nextWeek":"sameElse"}function Mb(c,h){arguments.length===1&&(arguments[0]?kb(arguments[0])?(c=arguments[0],h=void 0):Cb(arguments[0])&&(h=arguments[0],c=void 0):(c=void 0,h=void 0));var m=c||Le(),y=Cu(m,this).startOf("day"),w=s.calendarFormat(this,y)||"sameElse",C=h&&(fe(h[w])?h[w].call(this,m):h[w]);return this.format(C||this.localeData().calendar(w,this,Le(m)))}function Db(){return new A(this)}function Nb(c,h){var m=T(c)?c:Le(c);return this.isValid()&&m.isValid()?(h=jt(h)||"millisecond",h==="millisecond"?this.valueOf()>m.valueOf():m.valueOf()<this.clone().startOf(h).valueOf()):!1}function Pb(c,h){var m=T(c)?c:Le(c);return this.isValid()&&m.isValid()?(h=jt(h)||"millisecond",h==="millisecond"?this.valueOf()<m.valueOf():this.clone().endOf(h).valueOf()<m.valueOf()):!1}function Tb(c,h,m,y){var w=T(c)?c:Le(c),C=T(h)?h:Le(h);return this.isValid()&&w.isValid()&&C.isValid()?(y=y||"()",(y[0]==="("?this.isAfter(w,m):!this.isBefore(w,m))&&(y[1]===")"?this.isBefore(C,m):!this.isAfter(C,m))):!1}function Ob(c,h){var m=T(c)?c:Le(c),y;return this.isValid()&&m.isValid()?(h=jt(h)||"millisecond",h==="millisecond"?this.valueOf()===m.valueOf():(y=m.valueOf(),this.clone().startOf(h).valueOf()<=y&&y<=this.clone().endOf(h).valueOf())):!1}function Ab(c,h){return this.isSame(c,h)||this.isAfter(c,h)}function Rb(c,h){return this.isSame(c,h)||this.isBefore(c,h)}function Lb(c,h,m){var y,w,C;if(!this.isValid())return NaN;if(y=Cu(c,this),!y.isValid())return NaN;switch(w=(y.utcOffset()-this.utcOffset())*6e4,h=jt(h),h){case"year":C=Qa(this,y)/12;break;case"month":C=Qa(this,y);break;case"quarter":C=Qa(this,y)/3;break;case"second":C=(this-y)/1e3;break;case"minute":C=(this-y)/6e4;break;case"hour":C=(this-y)/36e5;break;case"day":C=(this-y-w)/864e5;break;case"week":C=(this-y-w)/6048e5;break;default:C=this-y}return m?C:Ot(C)}function Qa(c,h){if(c.date()<h.date())return-Qa(h,c);var m=(h.year()-c.year())*12+(h.month()-c.month()),y=c.clone().add(m,"months"),w,C;return h-y<0?(w=c.clone().add(m-1,"months"),C=(h-y)/(y-w)):(w=c.clone().add(m+1,"months"),C=(h-y)/(w-y)),-(m+C)||0}s.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",s.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function Fb(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Ib(c){if(!this.isValid())return null;var h=c!==!0,m=h?this.clone().utc():this;return m.year()<0||m.year()>9999?St(m,h?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):fe(Date.prototype.toISOString)?h?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",St(m,"Z")):St(m,h?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function $b(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var c="moment",h="",m,y,w,C;return this.isLocal()||(c=this.utcOffset()===0?"moment.utc":"moment.parseZone",h="Z"),m="["+c+'("]',y=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",w="-MM-DD[T]HH:mm:ss.SSS",C=h+'[")]',this.format(m+y+w+C)}function zb(c){c||(c=this.isUtc()?s.defaultFormatUtc:s.defaultFormat);var h=St(this,c);return this.localeData().postformat(h)}function Bb(c,h){return this.isValid()&&(T(c)&&c.isValid()||Le(c).isValid())?pn({to:this,from:c}).locale(this.locale()).humanize(!h):this.localeData().invalidDate()}function Ub(c){return this.from(Le(),c)}function Wb(c,h){return this.isValid()&&(T(c)&&c.isValid()||Le(c).isValid())?pn({from:this,to:c}).locale(this.locale()).humanize(!h):this.localeData().invalidDate()}function Hb(c){return this.to(Le(),c)}function Tp(c){var h;return c===void 0?this._locale._abbr:(h=Bn(c),h!=null&&(this._locale=h),this)}var Op=z("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(c){return c===void 0?this.localeData():this.locale(c)});function Ap(){return this._locale}var Za=1e3,ni=60*Za,el=60*ni,Rp=(365*400+97)*24*el;function si(c,h){return(c%h+h)%h}function Lp(c,h,m){return c<100&&c>=0?new Date(c+400,h,m)-Rp:new Date(c,h,m).valueOf()}function Fp(c,h,m){return c<100&&c>=0?Date.UTC(c+400,h,m)-Rp:Date.UTC(c,h,m)}function Yb(c){var h,m;if(c=jt(c),c===void 0||c==="millisecond"||!this.isValid())return this;switch(m=this._isUTC?Fp:Lp,c){case"year":h=m(this.year(),0,1);break;case"quarter":h=m(this.year(),this.month()-this.month()%3,1);break;case"month":h=m(this.year(),this.month(),1);break;case"week":h=m(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":h=m(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":h=m(this.year(),this.month(),this.date());break;case"hour":h=this._d.valueOf(),h-=si(h+(this._isUTC?0:this.utcOffset()*ni),el);break;case"minute":h=this._d.valueOf(),h-=si(h,ni);break;case"second":h=this._d.valueOf(),h-=si(h,Za);break}return this._d.setTime(h),s.updateOffset(this,!0),this}function Vb(c){var h,m;if(c=jt(c),c===void 0||c==="millisecond"||!this.isValid())return this;switch(m=this._isUTC?Fp:Lp,c){case"year":h=m(this.year()+1,0,1)-1;break;case"quarter":h=m(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":h=m(this.year(),this.month()+1,1)-1;break;case"week":h=m(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":h=m(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":h=m(this.year(),this.month(),this.date()+1)-1;break;case"hour":h=this._d.valueOf(),h+=el-si(h+(this._isUTC?0:this.utcOffset()*ni),el)-1;break;case"minute":h=this._d.valueOf(),h+=ni-si(h,ni)-1;break;case"second":h=this._d.valueOf(),h+=Za-si(h,Za)-1;break}return this._d.setTime(h),s.updateOffset(this,!0),this}function Gb(){return this._d.valueOf()-(this._offset||0)*6e4}function qb(){return Math.floor(this.valueOf()/1e3)}function Kb(){return new Date(this.valueOf())}function Jb(){var c=this;return[c.year(),c.month(),c.date(),c.hour(),c.minute(),c.second(),c.millisecond()]}function Xb(){var c=this;return{years:c.year(),months:c.month(),date:c.date(),hours:c.hours(),minutes:c.minutes(),seconds:c.seconds(),milliseconds:c.milliseconds()}}function Qb(){return this.isValid()?this.toISOString():null}function Zb(){return b(this)}function e1(){return x({},S(this))}function t1(){return S(this).overflow}function n1(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}L("N",0,0,"eraAbbr"),L("NN",0,0,"eraAbbr"),L("NNN",0,0,"eraAbbr"),L("NNNN",0,0,"eraName"),L("NNNNN",0,0,"eraNarrow"),L("y",["y",1],"yo","eraYear"),L("y",["yy",2],0,"eraYear"),L("y",["yyy",3],0,"eraYear"),L("y",["yyyy",4],0,"eraYear"),Q("N",Mu),Q("NN",Mu),Q("NNN",Mu),Q("NNNN",f1),Q("NNNNN",p1),Ee(["N","NN","NNN","NNNN","NNNNN"],function(c,h,m,y){var w=m._locale.erasParse(c,y,m._strict);w?S(m).era=w:S(m).invalidEra=c}),Q("y",$n),Q("yy",$n),Q("yyy",$n),Q("yyyy",$n),Q("yo",m1),Ee(["y","yy","yyy","yyyy"],st),Ee(["yo"],function(c,h,m,y){var w;m._locale._eraYearOrdinalRegex&&(w=c.match(m._locale._eraYearOrdinalRegex)),m._locale.eraYearOrdinalParse?h[st]=m._locale.eraYearOrdinalParse(c,w):h[st]=parseInt(c,10)});function s1(c,h){var m,y,w,C=this._eras||Bn("en")._eras;for(m=0,y=C.length;m<y;++m){switch(typeof C[m].since){case"string":w=s(C[m].since).startOf("day"),C[m].since=w.valueOf();break}switch(typeof C[m].until){case"undefined":C[m].until=1/0;break;case"string":w=s(C[m].until).startOf("day").valueOf(),C[m].until=w.valueOf();break}}return C}function r1(c,h,m){var y,w,C=this.eras(),R,Z,de;for(c=c.toUpperCase(),y=0,w=C.length;y<w;++y)if(R=C[y].name.toUpperCase(),Z=C[y].abbr.toUpperCase(),de=C[y].narrow.toUpperCase(),m)switch(h){case"N":case"NN":case"NNN":if(Z===c)return C[y];break;case"NNNN":if(R===c)return C[y];break;case"NNNNN":if(de===c)return C[y];break}else if([R,Z,de].indexOf(c)>=0)return C[y]}function i1(c,h){var m=c.since<=c.until?1:-1;return h===void 0?s(c.since).year():s(c.since).year()+(h-c.offset)*m}function o1(){var c,h,m,y=this.localeData().eras();for(c=0,h=y.length;c<h;++c)if(m=this.clone().startOf("day").valueOf(),y[c].since<=m&&m<=y[c].until||y[c].until<=m&&m<=y[c].since)return y[c].name;return""}function a1(){var c,h,m,y=this.localeData().eras();for(c=0,h=y.length;c<h;++c)if(m=this.clone().startOf("day").valueOf(),y[c].since<=m&&m<=y[c].until||y[c].until<=m&&m<=y[c].since)return y[c].narrow;return""}function l1(){var c,h,m,y=this.localeData().eras();for(c=0,h=y.length;c<h;++c)if(m=this.clone().startOf("day").valueOf(),y[c].since<=m&&m<=y[c].until||y[c].until<=m&&m<=y[c].since)return y[c].abbr;return""}function c1(){var c,h,m,y,w=this.localeData().eras();for(c=0,h=w.length;c<h;++c)if(m=w[c].since<=w[c].until?1:-1,y=this.clone().startOf("day").valueOf(),w[c].since<=y&&y<=w[c].until||w[c].until<=y&&y<=w[c].since)return(this.year()-s(w[c].since).year())*m+w[c].offset;return this.year()}function u1(c){return a(this,"_erasNameRegex")||Du.call(this),c?this._erasNameRegex:this._erasRegex}function d1(c){return a(this,"_erasAbbrRegex")||Du.call(this),c?this._erasAbbrRegex:this._erasRegex}function h1(c){return a(this,"_erasNarrowRegex")||Du.call(this),c?this._erasNarrowRegex:this._erasRegex}function Mu(c,h){return h.erasAbbrRegex(c)}function f1(c,h){return h.erasNameRegex(c)}function p1(c,h){return h.erasNarrowRegex(c)}function m1(c,h){return h._eraYearOrdinalRegex||$n}function Du(){var c=[],h=[],m=[],y=[],w,C,R,Z,de,ke=this.eras();for(w=0,C=ke.length;w<C;++w)R=hn(ke[w].name),Z=hn(ke[w].abbr),de=hn(ke[w].narrow),h.push(R),c.push(Z),m.push(de),y.push(R),y.push(Z),y.push(de);this._erasRegex=new RegExp("^("+y.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+h.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+c.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+m.join("|")+")","i")}L(0,["gg",2],0,function(){return this.weekYear()%100}),L(0,["GG",2],0,function(){return this.isoWeekYear()%100});function tl(c,h){L(0,[c,c.length],0,h)}tl("gggg","weekYear"),tl("ggggg","weekYear"),tl("GGGG","isoWeekYear"),tl("GGGGG","isoWeekYear"),Q("G",Kr),Q("g",Kr),Q("GG",Pe,nt),Q("gg",Pe,nt),Q("GGGG",qr,or),Q("gggg",qr,or),Q("GGGGG",Ct,ps),Q("ggggg",Ct,ps),gs(["gggg","ggggg","GGGG","GGGGG"],function(c,h,m,y){h[y.substr(0,2)]=ye(c)}),gs(["gg","GG"],function(c,h,m,y){h[y]=s.parseTwoDigitYear(c)});function g1(c){return Ip.call(this,c,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function y1(c){return Ip.call(this,c,this.isoWeek(),this.isoWeekday(),1,4)}function x1(){return zn(this.year(),1,4)}function v1(){return zn(this.isoWeekYear(),1,4)}function _1(){var c=this.localeData()._week;return zn(this.year(),c.dow,c.doy)}function w1(){var c=this.localeData()._week;return zn(this.weekYear(),c.dow,c.doy)}function Ip(c,h,m,y,w){var C;return c==null?lo(this,y,w).year:(C=zn(c,y,w),h>C&&(h=C),b1.call(this,c,h,m,y,w))}function b1(c,h,m,y,w){var C=mp(c,h,m,y,w),R=ao(C.year,0,C.dayOfYear);return this.year(R.getUTCFullYear()),this.month(R.getUTCMonth()),this.date(R.getUTCDate()),this}L("Q",0,"Qo","quarter"),Q("Q",to),Ee("Q",function(c,h){h[Zt]=(ye(c)-1)*3});function k1(c){return c==null?Math.ceil((this.month()+1)/3):this.month((c-1)*3+this.month()%3)}L("D",["DD",2],"Do","date"),Q("D",Pe,dn),Q("DD",Pe,nt),Q("Do",function(c,h){return c?h._dayOfMonthOrdinalParse||h._ordinalParse:h._dayOfMonthOrdinalParseLenient}),Ee(["D","DD"],Yt),Ee("Do",function(c,h){h[Yt]=ye(c.match(Pe)[0])});var $p=F("Date",!0);L("DDD",["DDDD",3],"DDDo","dayOfYear"),Q("DDD",ms),Q("DDDD",no),Ee(["DDD","DDDD"],function(c,h,m){m._dayOfYear=ye(c)});function S1(c){var h=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return c==null?h:this.add(c-h,"d")}L("m",["mm",2],0,"minute"),Q("m",Pe,ro),Q("mm",Pe,nt),Ee(["m","mm"],At);var j1=F("Minutes",!1);L("s",["ss",2],0,"second"),Q("s",Pe,ro),Q("ss",Pe,nt),Ee(["s","ss"],en);var C1=F("Seconds",!1);L("S",0,0,function(){return~~(this.millisecond()/100)}),L(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),L(0,["SSS",3],0,"millisecond"),L(0,["SSSS",4],0,function(){return this.millisecond()*10}),L(0,["SSSSS",5],0,function(){return this.millisecond()*100}),L(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3}),L(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4}),L(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5}),L(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6}),Q("S",ms,to),Q("SS",ms,nt),Q("SSS",ms,no);var ws,zp;for(ws="SSSS";ws.length<=9;ws+="S")Q(ws,$n);function E1(c,h){h[jn]=ye(("0."+c)*1e3)}for(ws="S";ws.length<=9;ws+="S")Ee(ws,E1);zp=F("Milliseconds",!1),L("z",0,0,"zoneAbbr"),L("zz",0,0,"zoneName");function M1(){return this._isUTC?"UTC":""}function D1(){return this._isUTC?"Coordinated Universal Time":""}var W=A.prototype;W.add=wb,W.calendar=Mb,W.clone=Db,W.diff=Lb,W.endOf=Vb,W.format=zb,W.from=Bb,W.fromNow=Ub,W.to=Wb,W.toNow=Hb,W.get=V,W.invalidAt=t1,W.isAfter=Nb,W.isBefore=Pb,W.isBetween=Tb,W.isSame=Ob,W.isSameOrAfter=Ab,W.isSameOrBefore=Rb,W.isValid=Zb,W.lang=Op,W.locale=Tp,W.localeData=Ap,W.max=Zw,W.min=Qw,W.parsingFlags=e1,W.set=I,W.startOf=Yb,W.subtract=bb,W.toArray=Jb,W.toObject=Xb,W.toDate=Kb,W.toISOString=Ib,W.inspect=$b,typeof Symbol<"u"&&Symbol.for!=null&&(W[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),W.toJSON=Qb,W.toString=Fb,W.unix=qb,W.valueOf=Gb,W.creationData=n1,W.eraName=o1,W.eraNarrow=a1,W.eraAbbr=l1,W.eraYear=c1,W.year=N,W.isLeapYear=$,W.weekYear=g1,W.isoWeekYear=y1,W.quarter=W.quarters=k1,W.month=oo,W.daysInMonth=K_,W.week=W.weeks=sw,W.isoWeek=W.isoWeeks=rw,W.weeksInYear=_1,W.weeksInWeekYear=w1,W.isoWeeksInYear=x1,W.isoWeeksInISOWeekYear=v1,W.date=$p,W.day=W.days=yw,W.weekday=xw,W.isoWeekday=vw,W.dayOfYear=S1,W.hour=W.hours=Cw,W.minute=W.minutes=j1,W.second=W.seconds=C1,W.millisecond=W.milliseconds=zp,W.utcOffset=lb,W.utc=ub,W.local=db,W.parseZone=hb,W.hasAlignedHourOffset=fb,W.isDST=pb,W.isLocal=gb,W.isUtcOffset=yb,W.isUtc=Ep,W.isUTC=Ep,W.zoneAbbr=M1,W.zoneName=D1,W.dates=z("dates accessor is deprecated. Use date instead.",$p),W.months=z("months accessor is deprecated. Use month instead",oo),W.years=z("years accessor is deprecated. Use year instead",N),W.zone=z("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",cb),W.isDSTShifted=z("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",mb);function N1(c){return Le(c*1e3)}function P1(){return Le.apply(null,arguments).parseZone()}function Bp(c){return c}var Ce=me.prototype;Ce.calendar=X,Ce.longDateFormat=Fn,Ce.invalidDate=Zi,Ce.ordinal=sr,Ce.preparse=Bp,Ce.postformat=Bp,Ce.relativeTime=rr,Ce.pastFuture=Ua,Ce.set=ce,Ce.eras=s1,Ce.erasParse=r1,Ce.erasConvertYear=i1,Ce.erasAbbrRegex=d1,Ce.erasNameRegex=u1,Ce.erasNarrowRegex=h1,Ce.months=ei,Ce.monthsShort=Re,Ce.monthsParse=fn,Ce.monthsRegex=X_,Ce.monthsShortRegex=J_,Ce.week=Z_,Ce.firstDayOfYear=nw,Ce.firstDayOfWeek=tw,Ce.weekdays=hw,Ce.weekdaysMin=pw,Ce.weekdaysShort=fw,Ce.weekdaysParse=gw,Ce.weekdaysRegex=_w,Ce.weekdaysShortRegex=ww,Ce.weekdaysMinRegex=bw,Ce.isPM=Sw,Ce.meridiem=Ew;function nl(c,h,m,y){var w=Bn(),C=v().set(y,h);return w[m](C,c)}function Up(c,h,m){if(d(c)&&(h=c,c=void 0),c=c||"",h!=null)return nl(c,h,m,"month");var y,w=[];for(y=0;y<12;y++)w[y]=nl(c,y,m,"month");return w}function Nu(c,h,m,y){typeof c=="boolean"?(d(h)&&(m=h,h=void 0),h=h||""):(h=c,m=h,c=!1,d(h)&&(m=h,h=void 0),h=h||"");var w=Bn(),C=c?w._week.dow:0,R,Z=[];if(m!=null)return nl(h,(m+C)%7,y,"day");for(R=0;R<7;R++)Z[R]=nl(h,(R+C)%7,y,"day");return Z}function T1(c,h){return Up(c,h,"months")}function O1(c,h){return Up(c,h,"monthsShort")}function A1(c,h,m){return Nu(c,h,m,"weekdays")}function R1(c,h,m){return Nu(c,h,m,"weekdaysShort")}function L1(c,h,m){return Nu(c,h,m,"weekdaysMin")}_s("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(c){var h=c%10,m=ye(c%100/10)===1?"th":h===1?"st":h===2?"nd":h===3?"rd":"th";return c+m}}),s.lang=z("moment.lang is deprecated. Use moment.locale instead.",_s),s.langData=z("moment.langData is deprecated. Use moment.localeData instead.",Bn);var Un=Math.abs;function F1(){var c=this._data;return this._milliseconds=Un(this._milliseconds),this._days=Un(this._days),this._months=Un(this._months),c.milliseconds=Un(c.milliseconds),c.seconds=Un(c.seconds),c.minutes=Un(c.minutes),c.hours=Un(c.hours),c.months=Un(c.months),c.years=Un(c.years),this}function Wp(c,h,m,y){var w=pn(h,m);return c._milliseconds+=y*w._milliseconds,c._days+=y*w._days,c._months+=y*w._months,c._bubble()}function I1(c,h){return Wp(this,c,h,1)}function $1(c,h){return Wp(this,c,h,-1)}function Hp(c){return c<0?Math.floor(c):Math.ceil(c)}function z1(){var c=this._milliseconds,h=this._days,m=this._months,y=this._data,w,C,R,Z,de;return c>=0&&h>=0&&m>=0||c<=0&&h<=0&&m<=0||(c+=Hp(Pu(m)+h)*864e5,h=0,m=0),y.milliseconds=c%1e3,w=Ot(c/1e3),y.seconds=w%60,C=Ot(w/60),y.minutes=C%60,R=Ot(C/60),y.hours=R%24,h+=Ot(R/24),de=Ot(Yp(h)),m+=de,h-=Hp(Pu(de)),Z=Ot(m/12),m%=12,y.days=h,y.months=m,y.years=Z,this}function Yp(c){return c*4800/146097}function Pu(c){return c*146097/4800}function B1(c){if(!this.isValid())return NaN;var h,m,y=this._milliseconds;if(c=jt(c),c==="month"||c==="quarter"||c==="year")switch(h=this._days+y/864e5,m=this._months+Yp(h),c){case"month":return m;case"quarter":return m/3;case"year":return m/12}else switch(h=this._days+Math.round(Pu(this._months)),c){case"week":return h/7+y/6048e5;case"day":return h+y/864e5;case"hour":return h*24+y/36e5;case"minute":return h*1440+y/6e4;case"second":return h*86400+y/1e3;case"millisecond":return Math.floor(h*864e5)+y;default:throw new Error("Unknown unit "+c)}}function Wn(c){return function(){return this.as(c)}}var Vp=Wn("ms"),U1=Wn("s"),W1=Wn("m"),H1=Wn("h"),Y1=Wn("d"),V1=Wn("w"),G1=Wn("M"),q1=Wn("Q"),K1=Wn("y"),J1=Vp;function X1(){return pn(this)}function Q1(c){return c=jt(c),this.isValid()?this[c+"s"]():NaN}function dr(c){return function(){return this.isValid()?this._data[c]:NaN}}var Z1=dr("milliseconds"),ek=dr("seconds"),tk=dr("minutes"),nk=dr("hours"),sk=dr("days"),rk=dr("months"),ik=dr("years");function ok(){return Ot(this.days()/7)}var Hn=Math.round,ri={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function ak(c,h,m,y,w){return w.relativeTime(h||1,!!m,c,y)}function lk(c,h,m,y){var w=pn(c).abs(),C=Hn(w.as("s")),R=Hn(w.as("m")),Z=Hn(w.as("h")),de=Hn(w.as("d")),ke=Hn(w.as("M")),Et=Hn(w.as("w")),Yn=Hn(w.as("y")),bs=C<=m.ss&&["s",C]||C<m.s&&["ss",C]||R<=1&&["m"]||R<m.m&&["mm",R]||Z<=1&&["h"]||Z<m.h&&["hh",Z]||de<=1&&["d"]||de<m.d&&["dd",de];return m.w!=null&&(bs=bs||Et<=1&&["w"]||Et<m.w&&["ww",Et]),bs=bs||ke<=1&&["M"]||ke<m.M&&["MM",ke]||Yn<=1&&["y"]||["yy",Yn],bs[2]=h,bs[3]=+c>0,bs[4]=y,ak.apply(null,bs)}function ck(c){return c===void 0?Hn:typeof c=="function"?(Hn=c,!0):!1}function uk(c,h){return ri[c]===void 0?!1:h===void 0?ri[c]:(ri[c]=h,c==="s"&&(ri.ss=h-1),!0)}function dk(c,h){if(!this.isValid())return this.localeData().invalidDate();var m=!1,y=ri,w,C;return typeof c=="object"&&(h=c,c=!1),typeof c=="boolean"&&(m=c),typeof h=="object"&&(y=Object.assign({},ri,h),h.s!=null&&h.ss==null&&(y.ss=h.s-1)),w=this.localeData(),C=lk(this,!m,y,w),m&&(C=w.pastFuture(+this,C)),w.postformat(C)}var Tu=Math.abs;function ii(c){return(c>0)-(c<0)||+c}function sl(){if(!this.isValid())return this.localeData().invalidDate();var c=Tu(this._milliseconds)/1e3,h=Tu(this._days),m=Tu(this._months),y,w,C,R,Z=this.asSeconds(),de,ke,Et,Yn;return Z?(y=Ot(c/60),w=Ot(y/60),c%=60,y%=60,C=Ot(m/12),m%=12,R=c?c.toFixed(3).replace(/\.?0+$/,""):"",de=Z<0?"-":"",ke=ii(this._months)!==ii(Z)?"-":"",Et=ii(this._days)!==ii(Z)?"-":"",Yn=ii(this._milliseconds)!==ii(Z)?"-":"",de+"P"+(C?ke+C+"Y":"")+(m?ke+m+"M":"")+(h?Et+h+"D":"")+(w||y||c?"T":"")+(w?Yn+w+"H":"")+(y?Yn+y+"M":"")+(c?Yn+R+"S":"")):"P0D"}var Se=Ja.prototype;Se.isValid=rb,Se.abs=F1,Se.add=I1,Se.subtract=$1,Se.as=B1,Se.asMilliseconds=Vp,Se.asSeconds=U1,Se.asMinutes=W1,Se.asHours=H1,Se.asDays=Y1,Se.asWeeks=V1,Se.asMonths=G1,Se.asQuarters=q1,Se.asYears=K1,Se.valueOf=J1,Se._bubble=z1,Se.clone=X1,Se.get=Q1,Se.milliseconds=Z1,Se.seconds=ek,Se.minutes=tk,Se.hours=nk,Se.days=sk,Se.weeks=ok,Se.months=rk,Se.years=ik,Se.humanize=dk,Se.toISOString=sl,Se.toString=sl,Se.toJSON=sl,Se.locale=Tp,Se.localeData=Ap,Se.toIsoString=z("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",sl),Se.lang=Op,L("X",0,0,"unix"),L("x",0,0,"valueOf"),Q("x",Kr),Q("X",so),Ee("X",function(c,h,m){m._d=new Date(parseFloat(c)*1e3)}),Ee("x",function(c,h,m){m._d=new Date(ye(c))});//! moment.js
return s.version="2.30.1",r(Le),s.fn=W,s.min=eb,s.max=tb,s.now=nb,s.utc=v,s.unix=N1,s.months=T1,s.isDate=p,s.locale=_s,s.invalid=j,s.duration=pn,s.isMoment=T,s.weekdays=A1,s.parseZone=P1,s.localeData=Bn,s.isDuration=Xa,s.monthsShort=O1,s.weekdaysMin=L1,s.defineLocale=vu,s.updateLocale=Pw,s.locales=Tw,s.weekdaysShort=R1,s.normalizeUnits=jt,s.relativeTimeRounding=ck,s.relativeTimeThreshold=uk,s.calendarFormat=Eb,s.prototype=W,s.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},s})}(hd)),hd.exports}(function(t,e){(function(n,s){s(typeof Kv=="function"?HM():n.moment)})(Ht,function(n){//! moment.js locale configuration
var s="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),r="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),i=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],o=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,a=n.defineLocale("es",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(l,u){return l?/-MMM-/.test(u)?r[l.month()]:s[l.month()]:s},monthsRegex:o,monthsShortRegex:o,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:i,longMonthsParse:i,shortMonthsParse:i,weekdays:"domingo_lunes_martes_miércoles_jueves_viernes_sábado".split("_"),weekdaysShort:"dom._lun._mar._mié._jue._vie._sáb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_sá".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(this.hours()!==1?"s":"")+"] LT"},nextDay:function(){return"[mañana a la"+(this.hours()!==1?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(this.hours()!==1?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(this.hours()!==1?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(this.hours()!==1?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un día",dd:"%d días",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un año",yy:"%d años"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4},invalidDate:"Fecha inválida"});return a})})();/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function za(t){return t+.5|0}const Is=(t,e,n)=>Math.max(Math.min(t,n),e);function To(t){return Is(za(t*2.55),0,255)}function qs(t){return Is(za(t*255),0,255)}function Zn(t){return Is(za(t/2.55)/100,0,1)}function Eg(t){return Is(za(t*100),0,100)}const tn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Ah=[..."0123456789ABCDEF"],YM=t=>Ah[t&15],VM=t=>Ah[(t&240)>>4]+Ah[t&15],Cl=t=>(t&240)>>4===(t&15),GM=t=>Cl(t.r)&&Cl(t.g)&&Cl(t.b)&&Cl(t.a);function qM(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&tn[t[1]]*17,g:255&tn[t[2]]*17,b:255&tn[t[3]]*17,a:e===5?tn[t[4]]*17:255}:(e===7||e===9)&&(n={r:tn[t[1]]<<4|tn[t[2]],g:tn[t[3]]<<4|tn[t[4]],b:tn[t[5]]<<4|tn[t[6]],a:e===9?tn[t[7]]<<4|tn[t[8]]:255})),n}const KM=(t,e)=>t<255?e(t):"";function JM(t){var e=GM(t)?YM:VM;return t?"#"+e(t.r)+e(t.g)+e(t.b)+KM(t.a,e):void 0}const XM=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Jv(t,e,n){const s=e*Math.min(n,1-n),r=(i,o=(i+t/30)%12)=>n-s*Math.max(Math.min(o-3,9-o,1),-1);return[r(0),r(8),r(4)]}function QM(t,e,n){const s=(r,i=(r+t/60)%6)=>n-n*e*Math.max(Math.min(i,4-i,1),0);return[s(5),s(3),s(1)]}function ZM(t,e,n){const s=Jv(t,1,.5);let r;for(e+n>1&&(r=1/(e+n),e*=r,n*=r),r=0;r<3;r++)s[r]*=1-e-n,s[r]+=e;return s}function eD(t,e,n,s,r){return t===r?(e-n)/s+(e<n?6:0):e===r?(n-t)/s+2:(t-e)/s+4}function qf(t){const n=t.r/255,s=t.g/255,r=t.b/255,i=Math.max(n,s,r),o=Math.min(n,s,r),a=(i+o)/2;let l,u,d;return i!==o&&(d=i-o,u=a>.5?d/(2-i-o):d/(i+o),l=eD(n,s,r,d,i),l=l*60+.5),[l|0,u||0,a]}function Kf(t,e,n,s){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,s)).map(qs)}function Jf(t,e,n){return Kf(Jv,t,e,n)}function tD(t,e,n){return Kf(ZM,t,e,n)}function nD(t,e,n){return Kf(QM,t,e,n)}function Xv(t){return(t%360+360)%360}function sD(t){const e=XM.exec(t);let n=255,s;if(!e)return;e[5]!==s&&(n=e[6]?To(+e[5]):qs(+e[5]));const r=Xv(+e[2]),i=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?s=tD(r,i,o):e[1]==="hsv"?s=nD(r,i,o):s=Jf(r,i,o),{r:s[0],g:s[1],b:s[2],a:n}}function rD(t,e){var n=qf(t);n[0]=Xv(n[0]+e),n=Jf(n),t.r=n[0],t.g=n[1],t.b=n[2]}function iD(t){if(!t)return;const e=qf(t),n=e[0],s=Eg(e[1]),r=Eg(e[2]);return t.a<255?`hsla(${n}, ${s}%, ${r}%, ${Zn(t.a)})`:`hsl(${n}, ${s}%, ${r}%)`}const Mg={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Dg={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function oD(){const t={},e=Object.keys(Dg),n=Object.keys(Mg);let s,r,i,o,a;for(s=0;s<e.length;s++){for(o=a=e[s],r=0;r<n.length;r++)i=n[r],a=a.replace(i,Mg[i]);i=parseInt(Dg[o],16),t[a]=[i>>16&255,i>>8&255,i&255]}return t}let El;function aD(t){El||(El=oD(),El.transparent=[0,0,0,0]);const e=El[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const lD=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function cD(t){const e=lD.exec(t);let n=255,s,r,i;if(e){if(e[7]!==s){const o=+e[7];n=e[8]?To(o):Is(o*255,0,255)}return s=+e[1],r=+e[3],i=+e[5],s=255&(e[2]?To(s):Is(s,0,255)),r=255&(e[4]?To(r):Is(r,0,255)),i=255&(e[6]?To(i):Is(i,0,255)),{r:s,g:r,b:i,a:n}}}function uD(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Zn(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const fd=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,ui=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function dD(t,e,n){const s=ui(Zn(t.r)),r=ui(Zn(t.g)),i=ui(Zn(t.b));return{r:qs(fd(s+n*(ui(Zn(e.r))-s))),g:qs(fd(r+n*(ui(Zn(e.g))-r))),b:qs(fd(i+n*(ui(Zn(e.b))-i))),a:t.a+n*(e.a-t.a)}}function Ml(t,e,n){if(t){let s=qf(t);s[e]=Math.max(0,Math.min(s[e]+s[e]*n,e===0?360:1)),s=Jf(s),t.r=s[0],t.g=s[1],t.b=s[2]}}function Qv(t,e){return t&&Object.assign(e||{},t)}function Ng(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=qs(t[3]))):(e=Qv(t,{r:0,g:0,b:0,a:1}),e.a=qs(e.a)),e}function hD(t){return t.charAt(0)==="r"?cD(t):sD(t)}class _a{constructor(e){if(e instanceof _a)return e;const n=typeof e;let s;n==="object"?s=Ng(e):n==="string"&&(s=qM(e)||aD(e)||hD(e)),this._rgb=s,this._valid=!!s}get valid(){return this._valid}get rgb(){var e=Qv(this._rgb);return e&&(e.a=Zn(e.a)),e}set rgb(e){this._rgb=Ng(e)}rgbString(){return this._valid?uD(this._rgb):void 0}hexString(){return this._valid?JM(this._rgb):void 0}hslString(){return this._valid?iD(this._rgb):void 0}mix(e,n){if(e){const s=this.rgb,r=e.rgb;let i;const o=n===i?.5:n,a=2*o-1,l=s.a-r.a,u=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;i=1-u,s.r=255&u*s.r+i*r.r+.5,s.g=255&u*s.g+i*r.g+.5,s.b=255&u*s.b+i*r.b+.5,s.a=o*s.a+(1-o)*r.a,this.rgb=s}return this}interpolate(e,n){return e&&(this._rgb=dD(this._rgb,e._rgb,n)),this}clone(){return new _a(this.rgb)}alpha(e){return this._rgb.a=qs(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=za(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Ml(this._rgb,2,e),this}darken(e){return Ml(this._rgb,2,-e),this}saturate(e){return Ml(this._rgb,1,e),this}desaturate(e){return Ml(this._rgb,1,-e),this}rotate(e){return rD(this._rgb,e),this}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Gn(){}const fD=(()=>{let t=0;return()=>t++})();function Me(t){return t==null}function et(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function be(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function kt(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function En(t,e){return kt(t)?t:e}function xe(t,e){return typeof t>"u"?e:t}const pD=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,Zv=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function Ie(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function De(t,e,n,s){let r,i,o;if(et(t))for(i=t.length,r=0;r<i;r++)e.call(n,t[r],r);else if(be(t))for(o=Object.keys(t),i=o.length,r=0;r<i;r++)e.call(n,t[o[r]],o[r])}function Dc(t,e){let n,s,r,i;if(!t||!e||t.length!==e.length)return!1;for(n=0,s=t.length;n<s;++n)if(r=t[n],i=e[n],r.datasetIndex!==i.datasetIndex||r.index!==i.index)return!1;return!0}function Nc(t){if(et(t))return t.map(Nc);if(be(t)){const e=Object.create(null),n=Object.keys(t),s=n.length;let r=0;for(;r<s;++r)e[n[r]]=Nc(t[n[r]]);return e}return t}function e_(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function mD(t,e,n,s){if(!e_(t))return;const r=e[t],i=n[t];be(r)&&be(i)?wa(r,i,s):e[t]=Nc(i)}function wa(t,e,n){const s=et(e)?e:[e],r=s.length;if(!be(t))return t;n=n||{};const i=n.merger||mD;let o;for(let a=0;a<r;++a){if(o=s[a],!be(o))continue;const l=Object.keys(o);for(let u=0,d=l.length;u<d;++u)i(l[u],t,o,n)}return t}function qo(t,e){return wa(t,e,{merger:gD})}function gD(t,e,n){if(!e_(t))return;const s=e[t],r=n[t];be(s)&&be(r)?qo(s,r):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=Nc(r))}const Pg={"":t=>t,x:t=>t.x,y:t=>t.y};function yD(t){const e=t.split("."),n=[];let s="";for(const r of e)s+=r,s.endsWith("\\")?s=s.slice(0,-1)+".":(n.push(s),s="");return n}function xD(t){const e=yD(t);return n=>{for(const s of e){if(s==="")break;n=n&&n[s]}return n}}function Ir(t,e){return(Pg[e]||(Pg[e]=xD(e)))(t)}function Xf(t){return t.charAt(0).toUpperCase()+t.slice(1)}const ba=t=>typeof t<"u",Xs=t=>typeof t=="function",Tg=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function vD(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const Je=Math.PI,He=2*Je,_D=He+Je,Pc=Number.POSITIVE_INFINITY,wD=Je/180,at=Je/2,fr=Je/4,Og=Je*2/3,t_=Math.log10,Ln=Math.sign;function Ko(t,e,n){return Math.abs(t-e)<n}function Ag(t){const e=Math.round(t);t=Ko(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(t_(t))),s=t/n;return(s<=1?1:s<=2?2:s<=5?5:10)*n}function bD(t){const e=[],n=Math.sqrt(t);let s;for(s=1;s<n;s++)t%s===0&&(e.push(s),e.push(t/s));return n===(n|0)&&e.push(n),e.sort((r,i)=>r-i).pop(),e}function kD(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function ka(t){return!kD(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function SD(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function jD(t,e,n){let s,r,i;for(s=0,r=t.length;s<r;s++)i=t[s][n],isNaN(i)||(e.min=Math.min(e.min,i),e.max=Math.max(e.max,i))}function ns(t){return t*(Je/180)}function CD(t){return t*(180/Je)}function Rg(t){if(!kt(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function n_(t,e){const n=e.x-t.x,s=e.y-t.y,r=Math.sqrt(n*n+s*s);let i=Math.atan2(s,n);return i<-.5*Je&&(i+=He),{angle:i,distance:r}}function Rh(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function ED(t,e){return(t-e+_D)%He-Je}function Tn(t){return(t%He+He)%He}function Sa(t,e,n,s){const r=Tn(t),i=Tn(e),o=Tn(n),a=Tn(i-r),l=Tn(o-r),u=Tn(r-i),d=Tn(r-o);return r===i||r===o||s&&i===o||a>l&&u<d}function _t(t,e,n){return Math.max(e,Math.min(n,t))}function MD(t){return _t(t,-32768,32767)}function ss(t,e,n,s=1e-6){return t>=Math.min(e,n)-s&&t<=Math.max(e,n)+s}function Qf(t,e,n){n=n||(o=>t[o]<e);let s=t.length-1,r=0,i;for(;s-r>1;)i=r+s>>1,n(i)?r=i:s=i;return{lo:r,hi:s}}const Cr=(t,e,n,s)=>Qf(t,n,s?r=>{const i=t[r][e];return i<n||i===n&&t[r+1][e]===n}:r=>t[r][e]<n),DD=(t,e,n)=>Qf(t,n,s=>t[s][e]>=n);function ND(t,e,n){let s=0,r=t.length;for(;s<r&&t[s]<e;)s++;for(;r>s&&t[r-1]>n;)r--;return s>0||r<t.length?t.slice(s,r):t}const s_=["push","pop","shift","splice","unshift"];function PD(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),s_.forEach(n=>{const s="_onData"+Xf(n),r=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...i){const o=r.apply(this,i);return t._chartjs.listeners.forEach(a=>{typeof a[s]=="function"&&a[s](...i)}),o}})})}function Lg(t,e){const n=t._chartjs;if(!n)return;const s=n.listeners,r=s.indexOf(e);r!==-1&&s.splice(r,1),!(s.length>0)&&(s_.forEach(i=>{delete t[i]}),delete t._chartjs)}function r_(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const i_=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function o_(t,e){let n=[],s=!1;return function(...r){n=r,s||(s=!0,i_.call(window,()=>{s=!1,t.apply(e,n)}))}}function TD(t,e){let n;return function(...s){return e?(clearTimeout(n),n=setTimeout(t,e,s)):t.apply(this,s),e}}const Zf=t=>t==="start"?"left":t==="end"?"right":"center",xt=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,OD=(t,e,n,s)=>t===(s?"left":"right")?n:t==="center"?(e+n)/2:e;function AD(t,e,n){const s=e.length;let r=0,i=s;if(t._sorted){const{iScale:o,vScale:a,_parsed:l}=t,u=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,d=o.axis,{min:p,max:g,minDefined:x,maxDefined:v}=o.getUserBounds();if(x){if(r=Math.min(Cr(l,d,p).lo,n?s:Cr(e,d,o.getPixelForValue(p)).lo),u){const k=l.slice(0,r+1).reverse().findIndex(S=>!Me(S[a.axis]));r-=Math.max(0,k)}r=_t(r,0,s-1)}if(v){let k=Math.max(Cr(l,o.axis,g,!0).hi+1,n?0:Cr(e,d,o.getPixelForValue(g),!0).hi+1);if(u){const S=l.slice(k-1).findIndex(_=>!Me(_[a.axis]));k+=Math.max(0,S)}i=_t(k,r,s)-r}else i=s-r}return{start:r,count:i}}function RD(t){const{xScale:e,yScale:n,_scaleRanges:s}=t,r={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!s)return t._scaleRanges=r,!0;const i=s.xmin!==e.min||s.xmax!==e.max||s.ymin!==n.min||s.ymax!==n.max;return Object.assign(s,r),i}const Dl=t=>t===0||t===1,Fg=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*He/n)),Ig=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*He/n)+1,Jo={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*at)+1,easeOutSine:t=>Math.sin(t*at),easeInOutSine:t=>-.5*(Math.cos(Je*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Dl(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Dl(t)?t:Fg(t,.075,.3),easeOutElastic:t=>Dl(t)?t:Ig(t,.075,.3),easeInOutElastic(t){return Dl(t)?t:t<.5?.5*Fg(t*2,.1125,.45):.5+.5*Ig(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-Jo.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?Jo.easeInBounce(t*2)*.5:Jo.easeOutBounce(t*2-1)*.5+.5};function ep(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function $g(t){return ep(t)?t:new _a(t)}function pd(t){return ep(t)?t:new _a(t).saturate(.5).darken(.1).hexString()}const LD=["x","y","borderWidth","radius","tension"],FD=["color","borderColor","backgroundColor"];function ID(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:FD},numbers:{type:"number",properties:LD}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function $D(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const zg=new Map;function zD(t,e){e=e||{};const n=t+JSON.stringify(e);let s=zg.get(n);return s||(s=new Intl.NumberFormat(t,e),zg.set(n,s)),s}function tp(t,e,n){return zD(e,n).format(t)}const BD={values(t){return et(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const s=this.chart.options.locale;let r,i=t;if(n.length>1){const u=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(u<1e-4||u>1e15)&&(r="scientific"),i=UD(t,n)}const o=t_(Math.abs(i)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:r,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),tp(t,s,l)}};function UD(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var a_={formatters:BD};function WD(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:a_.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const $r=Object.create(null),Lh=Object.create(null);function Xo(t,e){if(!e)return t;const n=e.split(".");for(let s=0,r=n.length;s<r;++s){const i=n[s];t=t[i]||(t[i]=Object.create(null))}return t}function md(t,e,n){return typeof e=="string"?wa(Xo(t,e),n):wa(Xo(t,""),e)}class HD{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=s=>s.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(s,r)=>pd(r.backgroundColor),this.hoverBorderColor=(s,r)=>pd(r.borderColor),this.hoverColor=(s,r)=>pd(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return md(this,e,n)}get(e){return Xo(this,e)}describe(e,n){return md(Lh,e,n)}override(e,n){return md($r,e,n)}route(e,n,s,r){const i=Xo(this,e),o=Xo(this,s),a="_"+n;Object.defineProperties(i,{[a]:{value:i[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[a],u=o[r];return be(l)?Object.assign({},u,l):xe(l,u)},set(l){this[a]=l}}})}apply(e){e.forEach(n=>n(this))}}var Qe=new HD({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[ID,$D,WD]);function YD(t){return!t||Me(t.size)||Me(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function Bg(t,e,n,s,r){let i=e[r];return i||(i=e[r]=t.measureText(r).width,n.push(r)),i>s&&(s=i),s}function pr(t,e,n){const s=t.currentDevicePixelRatio,r=n!==0?Math.max(n/2,.5):0;return Math.round((e-r)*s)/s+r}function Ug(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function Fh(t,e,n,s){l_(t,e,n,s,null)}function l_(t,e,n,s,r){let i,o,a,l,u,d,p,g;const x=e.pointStyle,v=e.rotation,k=e.radius;let S=(v||0)*wD;if(x&&typeof x=="object"&&(i=x.toString(),i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]")){t.save(),t.translate(n,s),t.rotate(S),t.drawImage(x,-x.width/2,-x.height/2,x.width,x.height),t.restore();return}if(!(isNaN(k)||k<=0)){switch(t.beginPath(),x){default:r?t.ellipse(n,s,r/2,k,0,0,He):t.arc(n,s,k,0,He),t.closePath();break;case"triangle":d=r?r/2:k,t.moveTo(n+Math.sin(S)*d,s-Math.cos(S)*k),S+=Og,t.lineTo(n+Math.sin(S)*d,s-Math.cos(S)*k),S+=Og,t.lineTo(n+Math.sin(S)*d,s-Math.cos(S)*k),t.closePath();break;case"rectRounded":u=k*.516,l=k-u,o=Math.cos(S+fr)*l,p=Math.cos(S+fr)*(r?r/2-u:l),a=Math.sin(S+fr)*l,g=Math.sin(S+fr)*(r?r/2-u:l),t.arc(n-p,s-a,u,S-Je,S-at),t.arc(n+g,s-o,u,S-at,S),t.arc(n+p,s+a,u,S,S+at),t.arc(n-g,s+o,u,S+at,S+Je),t.closePath();break;case"rect":if(!v){l=Math.SQRT1_2*k,d=r?r/2:l,t.rect(n-d,s-l,2*d,2*l);break}S+=fr;case"rectRot":p=Math.cos(S)*(r?r/2:k),o=Math.cos(S)*k,a=Math.sin(S)*k,g=Math.sin(S)*(r?r/2:k),t.moveTo(n-p,s-a),t.lineTo(n+g,s-o),t.lineTo(n+p,s+a),t.lineTo(n-g,s+o),t.closePath();break;case"crossRot":S+=fr;case"cross":p=Math.cos(S)*(r?r/2:k),o=Math.cos(S)*k,a=Math.sin(S)*k,g=Math.sin(S)*(r?r/2:k),t.moveTo(n-p,s-a),t.lineTo(n+p,s+a),t.moveTo(n+g,s-o),t.lineTo(n-g,s+o);break;case"star":p=Math.cos(S)*(r?r/2:k),o=Math.cos(S)*k,a=Math.sin(S)*k,g=Math.sin(S)*(r?r/2:k),t.moveTo(n-p,s-a),t.lineTo(n+p,s+a),t.moveTo(n+g,s-o),t.lineTo(n-g,s+o),S+=fr,p=Math.cos(S)*(r?r/2:k),o=Math.cos(S)*k,a=Math.sin(S)*k,g=Math.sin(S)*(r?r/2:k),t.moveTo(n-p,s-a),t.lineTo(n+p,s+a),t.moveTo(n+g,s-o),t.lineTo(n-g,s+o);break;case"line":o=r?r/2:Math.cos(S)*k,a=Math.sin(S)*k,t.moveTo(n-o,s-a),t.lineTo(n+o,s+a);break;case"dash":t.moveTo(n,s),t.lineTo(n+Math.cos(S)*(r?r/2:k),s+Math.sin(S)*k);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function ja(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function lu(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function cu(t){t.restore()}function VD(t,e,n,s,r){if(!e)return t.lineTo(n.x,n.y);if(r==="middle"){const i=(e.x+n.x)/2;t.lineTo(i,e.y),t.lineTo(i,n.y)}else r==="after"!=!!s?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function GD(t,e,n,s){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(s?e.cp1x:e.cp2x,s?e.cp1y:e.cp2y,s?n.cp2x:n.cp1x,s?n.cp2y:n.cp1y,n.x,n.y)}function qD(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),Me(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function KD(t,e,n,s,r){if(r.strikethrough||r.underline){const i=t.measureText(s),o=e-i.actualBoundingBoxLeft,a=e+i.actualBoundingBoxRight,l=n-i.actualBoundingBoxAscent,u=n+i.actualBoundingBoxDescent,d=r.strikethrough?(l+u)/2:u;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=r.decorationWidth||2,t.moveTo(o,d),t.lineTo(a,d),t.stroke()}}function JD(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function Ca(t,e,n,s,r,i={}){const o=et(e)?e:[e],a=i.strokeWidth>0&&i.strokeColor!=="";let l,u;for(t.save(),t.font=r.string,qD(t,i),l=0;l<o.length;++l)u=o[l],i.backdrop&&JD(t,i.backdrop),a&&(i.strokeColor&&(t.strokeStyle=i.strokeColor),Me(i.strokeWidth)||(t.lineWidth=i.strokeWidth),t.strokeText(u,n,s,i.maxWidth)),t.fillText(u,n,s,i.maxWidth),KD(t,n,s,u,i),s+=Number(r.lineHeight);t.restore()}function Tc(t,e){const{x:n,y:s,w:r,h:i,radius:o}=e;t.arc(n+o.topLeft,s+o.topLeft,o.topLeft,1.5*Je,Je,!0),t.lineTo(n,s+i-o.bottomLeft),t.arc(n+o.bottomLeft,s+i-o.bottomLeft,o.bottomLeft,Je,at,!0),t.lineTo(n+r-o.bottomRight,s+i),t.arc(n+r-o.bottomRight,s+i-o.bottomRight,o.bottomRight,at,0,!0),t.lineTo(n+r,s+o.topRight),t.arc(n+r-o.topRight,s+o.topRight,o.topRight,0,-at,!0),t.lineTo(n+o.topLeft,s)}const XD=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,QD=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function ZD(t,e){const n=(""+t).match(XD);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const eN=t=>+t||0;function np(t,e){const n={},s=be(e),r=s?Object.keys(e):e,i=be(t)?s?o=>xe(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of r)n[o]=eN(i(o));return n}function c_(t){return np(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Oi(t){return np(t,["topLeft","topRight","bottomLeft","bottomRight"])}function un(t){const e=c_(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function wt(t,e){t=t||{},e=e||Qe.font;let n=xe(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let s=xe(t.style,e.style);s&&!(""+s).match(QD)&&(console.warn('Invalid font style specified: "'+s+'"'),s=void 0);const r={family:xe(t.family,e.family),lineHeight:ZD(xe(t.lineHeight,e.lineHeight),n),size:n,style:s,weight:xe(t.weight,e.weight),string:""};return r.string=YD(r),r}function Nl(t,e,n,s){let r,i,o;for(r=0,i=t.length;r<i;++r)if(o=t[r],o!==void 0&&o!==void 0)return o}function tN(t,e,n){const{min:s,max:r}=t,i=Zv(e,(r-s)/2),o=(a,l)=>n&&a===0?0:a+l;return{min:o(s,-Math.abs(i)),max:o(r,i)}}function Vr(t,e){return Object.assign(Object.create(t),e)}function sp(t,e=[""],n,s,r=()=>t[0]){const i=n||t;typeof s>"u"&&(s=f_("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:i,_fallback:s,_getTarget:r,override:a=>sp([a,...t],e,i,s)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete t[0][l],!0},get(a,l){return d_(a,l,()=>cN(l,e,t,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(a,l){return Hg(a).includes(l)},ownKeys(a){return Hg(a)},set(a,l,u){const d=a._storage||(a._storage=r());return a[l]=d[l]=u,delete a._keys,!0}})}function Hi(t,e,n,s){const r={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:u_(t,s),setContext:i=>Hi(t,i,n,s),override:i=>Hi(t.override(i),e,n,s)};return new Proxy(r,{deleteProperty(i,o){return delete i[o],delete t[o],!0},get(i,o,a){return d_(i,o,()=>sN(i,o,a))},getOwnPropertyDescriptor(i,o){return i._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(i,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(i,o,a){return t[o]=a,delete i[o],!0}})}function u_(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:s=e.indexable,_allKeys:r=e.allKeys}=t;return{allKeys:r,scriptable:n,indexable:s,isScriptable:Xs(n)?n:()=>n,isIndexable:Xs(s)?s:()=>s}}const nN=(t,e)=>t?t+Xf(e):e,rp=(t,e)=>be(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function d_(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const s=n();return t[e]=s,s}function sN(t,e,n){const{_proxy:s,_context:r,_subProxy:i,_descriptors:o}=t;let a=s[e];return Xs(a)&&o.isScriptable(e)&&(a=rN(e,a,t,n)),et(a)&&a.length&&(a=iN(e,a,t,o.isIndexable)),rp(e,a)&&(a=Hi(a,r,i&&i[e],o)),a}function rN(t,e,n,s){const{_proxy:r,_context:i,_subProxy:o,_stack:a}=n;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let l=e(i,o||s);return a.delete(t),rp(t,l)&&(l=ip(r._scopes,r,t,l)),l}function iN(t,e,n,s){const{_proxy:r,_context:i,_subProxy:o,_descriptors:a}=n;if(typeof i.index<"u"&&s(t))return e[i.index%e.length];if(be(e[0])){const l=e,u=r._scopes.filter(d=>d!==l);e=[];for(const d of l){const p=ip(u,r,t,d);e.push(Hi(p,i,o&&o[t],a))}}return e}function h_(t,e,n){return Xs(t)?t(e,n):t}const oN=(t,e)=>t===!0?e:typeof t=="string"?Ir(e,t):void 0;function aN(t,e,n,s,r){for(const i of e){const o=oN(n,i);if(o){t.add(o);const a=h_(o._fallback,n,r);if(typeof a<"u"&&a!==n&&a!==s)return a}else if(o===!1&&typeof s<"u"&&n!==s)return null}return!1}function ip(t,e,n,s){const r=e._rootScopes,i=h_(e._fallback,n,s),o=[...t,...r],a=new Set;a.add(s);let l=Wg(a,o,n,i||n,s);return l===null||typeof i<"u"&&i!==n&&(l=Wg(a,o,i,l,s),l===null)?!1:sp(Array.from(a),[""],r,i,()=>lN(e,n,s))}function Wg(t,e,n,s,r){for(;n;)n=aN(t,e,n,s,r);return n}function lN(t,e,n){const s=t._getTarget();e in s||(s[e]={});const r=s[e];return et(r)&&be(n)?n:r||{}}function cN(t,e,n,s){let r;for(const i of e)if(r=f_(nN(i,t),n),typeof r<"u")return rp(t,r)?ip(n,s,t,r):r}function f_(t,e){for(const n of e){if(!n)continue;const s=n[t];if(typeof s<"u")return s}}function Hg(t){let e=t._keys;return e||(e=t._keys=uN(t._scopes)),e}function uN(t){const e=new Set;for(const n of t)for(const s of Object.keys(n).filter(r=>!r.startsWith("_")))e.add(s);return Array.from(e)}const dN=Number.EPSILON||1e-14,Yi=(t,e)=>e<t.length&&!t[e].skip&&t[e],p_=t=>t==="x"?"y":"x";function hN(t,e,n,s){const r=t.skip?e:t,i=e,o=n.skip?e:n,a=Rh(i,r),l=Rh(o,i);let u=a/(a+l),d=l/(a+l);u=isNaN(u)?0:u,d=isNaN(d)?0:d;const p=s*u,g=s*d;return{previous:{x:i.x-p*(o.x-r.x),y:i.y-p*(o.y-r.y)},next:{x:i.x+g*(o.x-r.x),y:i.y+g*(o.y-r.y)}}}function fN(t,e,n){const s=t.length;let r,i,o,a,l,u=Yi(t,0);for(let d=0;d<s-1;++d)if(l=u,u=Yi(t,d+1),!(!l||!u)){if(Ko(e[d],0,dN)){n[d]=n[d+1]=0;continue}r=n[d]/e[d],i=n[d+1]/e[d],a=Math.pow(r,2)+Math.pow(i,2),!(a<=9)&&(o=3/Math.sqrt(a),n[d]=r*o*e[d],n[d+1]=i*o*e[d])}}function pN(t,e,n="x"){const s=p_(n),r=t.length;let i,o,a,l=Yi(t,0);for(let u=0;u<r;++u){if(o=a,a=l,l=Yi(t,u+1),!a)continue;const d=a[n],p=a[s];o&&(i=(d-o[n])/3,a[`cp1${n}`]=d-i,a[`cp1${s}`]=p-i*e[u]),l&&(i=(l[n]-d)/3,a[`cp2${n}`]=d+i,a[`cp2${s}`]=p+i*e[u])}}function mN(t,e="x"){const n=p_(e),s=t.length,r=Array(s).fill(0),i=Array(s);let o,a,l,u=Yi(t,0);for(o=0;o<s;++o)if(a=l,l=u,u=Yi(t,o+1),!!l){if(u){const d=u[e]-l[e];r[o]=d!==0?(u[n]-l[n])/d:0}i[o]=a?u?Ln(r[o-1])!==Ln(r[o])?0:(r[o-1]+r[o])/2:r[o-1]:r[o]}fN(t,r,i),pN(t,i,e)}function Pl(t,e,n){return Math.max(Math.min(t,n),e)}function gN(t,e){let n,s,r,i,o,a=ja(t[0],e);for(n=0,s=t.length;n<s;++n)o=i,i=a,a=n<s-1&&ja(t[n+1],e),i&&(r=t[n],o&&(r.cp1x=Pl(r.cp1x,e.left,e.right),r.cp1y=Pl(r.cp1y,e.top,e.bottom)),a&&(r.cp2x=Pl(r.cp2x,e.left,e.right),r.cp2y=Pl(r.cp2y,e.top,e.bottom)))}function yN(t,e,n,s,r){let i,o,a,l;if(e.spanGaps&&(t=t.filter(u=>!u.skip)),e.cubicInterpolationMode==="monotone")mN(t,r);else{let u=s?t[t.length-1]:t[0];for(i=0,o=t.length;i<o;++i)a=t[i],l=hN(u,a,t[Math.min(i+1,o-(s?0:1))%o],e.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,u=a}e.capBezierPoints&&gN(t,n)}function op(){return typeof window<"u"&&typeof document<"u"}function ap(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Oc(t,e,n){let s;return typeof t=="string"?(s=parseInt(t,10),t.indexOf("%")!==-1&&(s=s/100*e.parentNode[n])):s=t,s}const uu=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function xN(t,e){return uu(t).getPropertyValue(e)}const vN=["top","right","bottom","left"];function Pr(t,e,n){const s={};n=n?"-"+n:"";for(let r=0;r<4;r++){const i=vN[r];s[i]=parseFloat(t[e+"-"+i+n])||0}return s.width=s.left+s.right,s.height=s.top+s.bottom,s}const _N=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function wN(t,e){const n=t.touches,s=n&&n.length?n[0]:t,{offsetX:r,offsetY:i}=s;let o=!1,a,l;if(_N(r,i,t.target))a=r,l=i;else{const u=e.getBoundingClientRect();a=s.clientX-u.left,l=s.clientY-u.top,o=!0}return{x:a,y:l,box:o}}function vr(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:s}=e,r=uu(n),i=r.boxSizing==="border-box",o=Pr(r,"padding"),a=Pr(r,"border","width"),{x:l,y:u,box:d}=wN(t,n),p=o.left+(d&&a.left),g=o.top+(d&&a.top);let{width:x,height:v}=e;return i&&(x-=o.width+a.width,v-=o.height+a.height),{x:Math.round((l-p)/x*n.width/s),y:Math.round((u-g)/v*n.height/s)}}function bN(t,e,n){let s,r;if(e===void 0||n===void 0){const i=t&&ap(t);if(!i)e=t.clientWidth,n=t.clientHeight;else{const o=i.getBoundingClientRect(),a=uu(i),l=Pr(a,"border","width"),u=Pr(a,"padding");e=o.width-u.width-l.width,n=o.height-u.height-l.height,s=Oc(a.maxWidth,i,"clientWidth"),r=Oc(a.maxHeight,i,"clientHeight")}}return{width:e,height:n,maxWidth:s||Pc,maxHeight:r||Pc}}const Tl=t=>Math.round(t*10)/10;function kN(t,e,n,s){const r=uu(t),i=Pr(r,"margin"),o=Oc(r.maxWidth,t,"clientWidth")||Pc,a=Oc(r.maxHeight,t,"clientHeight")||Pc,l=bN(t,e,n);let{width:u,height:d}=l;if(r.boxSizing==="content-box"){const g=Pr(r,"border","width"),x=Pr(r,"padding");u-=x.width+g.width,d-=x.height+g.height}return u=Math.max(0,u-i.width),d=Math.max(0,s?u/s:d-i.height),u=Tl(Math.min(u,o,l.maxWidth)),d=Tl(Math.min(d,a,l.maxHeight)),u&&!d&&(d=Tl(u/2)),(e!==void 0||n!==void 0)&&s&&l.height&&d>l.height&&(d=l.height,u=Tl(Math.floor(d*s))),{width:u,height:d}}function Yg(t,e,n){const s=e||1,r=Math.floor(t.height*s),i=Math.floor(t.width*s);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const o=t.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==s||o.height!==r||o.width!==i?(t.currentDevicePixelRatio=s,o.height=r,o.width=i,t.ctx.setTransform(s,0,0,s,0,0),!0):!1}const SN=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};op()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function Vg(t,e){const n=xN(t,e),s=n&&n.match(/^(\d+)(\.\d+)?px$/);return s?+s[1]:void 0}function _r(t,e,n,s){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function jN(t,e,n,s){return{x:t.x+n*(e.x-t.x),y:s==="middle"?n<.5?t.y:e.y:s==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function CN(t,e,n,s){const r={x:t.cp2x,y:t.cp2y},i={x:e.cp1x,y:e.cp1y},o=_r(t,r,n),a=_r(r,i,n),l=_r(i,e,n),u=_r(o,a,n),d=_r(a,l,n);return _r(u,d,n)}const EN=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,s){return n-s},leftForLtr(n,s){return n-s}}},MN=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function Ai(t,e,n){return t?EN(e,n):MN()}function m_(t,e){let n,s;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,s=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=s)}function g_(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function y_(t){return t==="angle"?{between:Sa,compare:ED,normalize:Tn}:{between:ss,compare:(e,n)=>e-n,normalize:e=>e}}function Gg({start:t,end:e,count:n,loop:s,style:r}){return{start:t%n,end:e%n,loop:s&&(e-t+1)%n===0,style:r}}function DN(t,e,n){const{property:s,start:r,end:i}=n,{between:o,normalize:a}=y_(s),l=e.length;let{start:u,end:d,loop:p}=t,g,x;if(p){for(u+=l,d+=l,g=0,x=l;g<x&&o(a(e[u%l][s]),r,i);++g)u--,d--;u%=l,d%=l}return d<u&&(d+=l),{start:u,end:d,loop:p,style:t.style}}function x_(t,e,n){if(!n)return[t];const{property:s,start:r,end:i}=n,o=e.length,{compare:a,between:l,normalize:u}=y_(s),{start:d,end:p,loop:g,style:x}=DN(t,e,n),v=[];let k=!1,S=null,_,b,j;const E=()=>l(r,j,_)&&a(r,j)!==0,M=()=>a(i,_)===0||l(i,j,_),O=()=>k||E(),A=()=>!k||M();for(let T=d,q=d;T<=p;++T)b=e[T%o],!b.skip&&(_=u(b[s]),_!==j&&(k=l(_,r,i),S===null&&O()&&(S=a(_,r)===0?T:q),S!==null&&A()&&(v.push(Gg({start:S,end:T,loop:g,count:o,style:x})),S=null),q=T,j=_));return S!==null&&v.push(Gg({start:S,end:p,loop:g,count:o,style:x})),v}function v_(t,e){const n=[],s=t.segments;for(let r=0;r<s.length;r++){const i=x_(s[r],t.points,e);i.length&&n.push(...i)}return n}function NN(t,e,n,s){let r=0,i=e-1;if(n&&!s)for(;r<e&&!t[r].skip;)r++;for(;r<e&&t[r].skip;)r++;for(r%=e,n&&(i+=r);i>r&&t[i%e].skip;)i--;return i%=e,{start:r,end:i}}function PN(t,e,n,s){const r=t.length,i=[];let o=e,a=t[e],l;for(l=e+1;l<=n;++l){const u=t[l%r];u.skip||u.stop?a.skip||(s=!1,i.push({start:e%r,end:(l-1)%r,loop:s}),e=o=u.stop?l:null):(o=l,a.skip&&(e=l)),a=u}return o!==null&&i.push({start:e%r,end:o%r,loop:s}),i}function TN(t,e){const n=t.points,s=t.options.spanGaps,r=n.length;if(!r)return[];const i=!!t._loop,{start:o,end:a}=NN(n,r,i,s);if(s===!0)return qg(t,[{start:o,end:a,loop:i}],n,e);const l=a<o?a+r:a,u=!!t._fullLoop&&o===0&&a===r-1;return qg(t,PN(n,o,l,u),n,e)}function qg(t,e,n,s){return!s||!s.setContext||!n?e:ON(t,e,n,s)}function ON(t,e,n,s){const r=t._chart.getContext(),i=Kg(t.options),{_datasetIndex:o,options:{spanGaps:a}}=t,l=n.length,u=[];let d=i,p=e[0].start,g=p;function x(v,k,S,_){const b=a?-1:1;if(v!==k){for(v+=l;n[v%l].skip;)v-=b;for(;n[k%l].skip;)k+=b;v%l!==k%l&&(u.push({start:v%l,end:k%l,loop:S,style:_}),d=_,p=k%l)}}for(const v of e){p=a?p:v.start;let k=n[p%l],S;for(g=p+1;g<=v.end;g++){const _=n[g%l];S=Kg(s.setContext(Vr(r,{type:"segment",p0:k,p1:_,p0DataIndex:(g-1)%l,p1DataIndex:g%l,datasetIndex:o}))),AN(S,d)&&x(p,g-1,v.loop,d),k=_,d=S}p<g-1&&x(p,g-1,v.loop,d)}return u}function Kg(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function AN(t,e){if(!e)return!1;const n=[],s=function(r,i){return ep(i)?(n.includes(i)||n.push(i),n.indexOf(i)):i};return JSON.stringify(t,s)!==JSON.stringify(e,s)}function Ol(t,e,n){return t.options.clip?t[n]:e[n]}function RN(t,e){const{xScale:n,yScale:s}=t;return n&&s?{left:Ol(n,e,"left"),right:Ol(n,e,"right"),top:Ol(s,e,"top"),bottom:Ol(s,e,"bottom")}:e}function __(t,e){const n=e._clip;if(n.disabled)return!1;const s=RN(e,t.chartArea);return{left:n.left===!1?0:s.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:s.right+(n.right===!0?0:n.right),top:n.top===!1?0:s.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:s.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class LN{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,s,r){const i=n.listeners[r],o=n.duration;i.forEach(a=>a({chart:e,initial:n.initial,numSteps:o,currentStep:Math.min(s-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=i_.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((s,r)=>{if(!s.running||!s.items.length)return;const i=s.items;let o=i.length-1,a=!1,l;for(;o>=0;--o)l=i[o],l._active?(l._total>s.duration&&(s.duration=l._total),l.tick(e),a=!0):(i[o]=i[i.length-1],i.pop());a&&(r.draw(),this._notify(r,s,e,"progress")),i.length||(s.running=!1,this._notify(r,s,e,"complete"),s.initial=!1),n+=i.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let s=n.get(e);return s||(s={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,s)),s}listen(e,n,s){this._getAnims(e).listeners[n].push(s)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((s,r)=>Math.max(s,r._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const s=n.items;let r=s.length-1;for(;r>=0;--r)s[r].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var qn=new LN;const Jg="transparent",FN={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const s=$g(t||Jg),r=s.valid&&$g(e||Jg);return r&&r.valid?r.mix(s,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class IN{constructor(e,n,s,r){const i=n[s];r=Nl([e.to,r,i,e.from]);const o=Nl([e.from,i,r]);this._active=!0,this._fn=e.fn||FN[e.type||typeof o],this._easing=Jo[e.easing]||Jo.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=s,this._from=o,this._to=r,this._promises=void 0}active(){return this._active}update(e,n,s){if(this._active){this._notify(!1);const r=this._target[this._prop],i=s-this._start,o=this._duration-i;this._start=s,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=i,this._loop=!!e.loop,this._to=Nl([e.to,n,r,e.from]),this._from=Nl([e.from,r,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,s=this._duration,r=this._prop,i=this._from,o=this._loop,a=this._to;let l;if(this._active=i!==a&&(o||n<s),!this._active){this._target[r]=a,this._notify(!0);return}if(n<0){this._target[r]=i;return}l=n/s%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[r]=this._fn(i,a,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,s)=>{e.push({res:n,rej:s})})}_notify(e){const n=e?"res":"rej",s=this._promises||[];for(let r=0;r<s.length;r++)s[r][n]()}}class w_{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!be(e))return;const n=Object.keys(Qe.animation),s=this._properties;Object.getOwnPropertyNames(e).forEach(r=>{const i=e[r];if(!be(i))return;const o={};for(const a of n)o[a]=i[a];(et(i.properties)&&i.properties||[r]).forEach(a=>{(a===r||!s.has(a))&&s.set(a,o)})})}_animateOptions(e,n){const s=n.options,r=zN(e,s);if(!r)return[];const i=this._createAnimations(r,s);return s.$shared&&$N(e.options.$animations,s).then(()=>{e.options=s},()=>{}),i}_createAnimations(e,n){const s=this._properties,r=[],i=e.$animations||(e.$animations={}),o=Object.keys(n),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const u=o[l];if(u.charAt(0)==="$")continue;if(u==="options"){r.push(...this._animateOptions(e,n));continue}const d=n[u];let p=i[u];const g=s.get(u);if(p)if(g&&p.active()){p.update(g,d,a);continue}else p.cancel();if(!g||!g.duration){e[u]=d;continue}i[u]=p=new IN(g,e,u,d),r.push(p)}return r}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const s=this._createAnimations(e,n);if(s.length)return qn.add(this._chart,s),!0}}function $N(t,e){const n=[],s=Object.keys(e);for(let r=0;r<s.length;r++){const i=t[s[r]];i&&i.active()&&n.push(i.wait())}return Promise.all(n)}function zN(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function Xg(t,e){const n=t&&t.options||{},s=n.reverse,r=n.min===void 0?e:0,i=n.max===void 0?e:0;return{start:s?i:r,end:s?r:i}}function BN(t,e,n){if(n===!1)return!1;const s=Xg(t,n),r=Xg(e,n);return{top:r.end,right:s.end,bottom:r.start,left:s.start}}function UN(t){let e,n,s,r;return be(t)?(e=t.top,n=t.right,s=t.bottom,r=t.left):e=n=s=r=t,{top:e,right:n,bottom:s,left:r,disabled:t===!1}}function b_(t,e){const n=[],s=t._getSortedDatasetMetas(e);let r,i;for(r=0,i=s.length;r<i;++r)n.push(s[r].index);return n}function Qg(t,e,n,s={}){const r=t.keys,i=s.mode==="single";let o,a,l,u;if(e===null)return;let d=!1;for(o=0,a=r.length;o<a;++o){if(l=+r[o],l===n){if(d=!0,s.all)continue;break}u=t.values[l],kt(u)&&(i||e===0||Ln(e)===Ln(u))&&(e+=u)}return!d&&!s.all?0:e}function WN(t,e){const{iScale:n,vScale:s}=e,r=n.axis==="x"?"x":"y",i=s.axis==="x"?"x":"y",o=Object.keys(t),a=new Array(o.length);let l,u,d;for(l=0,u=o.length;l<u;++l)d=o[l],a[l]={[r]:d,[i]:t[d]};return a}function gd(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function HN(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function YN(t){const{min:e,max:n,minDefined:s,maxDefined:r}=t.getUserBounds();return{min:s?e:Number.NEGATIVE_INFINITY,max:r?n:Number.POSITIVE_INFINITY}}function VN(t,e,n){const s=t[e]||(t[e]={});return s[n]||(s[n]={})}function Zg(t,e,n,s){for(const r of e.getMatchingVisibleMetas(s).reverse()){const i=t[r.index];if(n&&i>0||!n&&i<0)return r.index}return null}function e0(t,e){const{chart:n,_cachedMeta:s}=t,r=n._stacks||(n._stacks={}),{iScale:i,vScale:o,index:a}=s,l=i.axis,u=o.axis,d=HN(i,o,s),p=e.length;let g;for(let x=0;x<p;++x){const v=e[x],{[l]:k,[u]:S}=v,_=v._stacks||(v._stacks={});g=_[u]=VN(r,d,k),g[a]=S,g._top=Zg(g,o,!0,s.type),g._bottom=Zg(g,o,!1,s.type);const b=g._visualValues||(g._visualValues={});b[a]=S}}function yd(t,e){const n=t.scales;return Object.keys(n).filter(s=>n[s].axis===e).shift()}function GN(t,e){return Vr(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function qN(t,e,n){return Vr(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function bo(t,e){const n=t.controller.index,s=t.vScale&&t.vScale.axis;if(s){e=e||t._parsed;for(const r of e){const i=r._stacks;if(!i||i[s]===void 0||i[s][n]===void 0)return;delete i[s][n],i[s]._visualValues!==void 0&&i[s]._visualValues[n]!==void 0&&delete i[s]._visualValues[n]}}}const xd=t=>t==="reset"||t==="none",t0=(t,e)=>e?t:Object.assign({},t),KN=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:b_(n,!0),values:null};class Tr{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=gd(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&bo(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,s=this.getDataset(),r=(p,g,x,v)=>p==="x"?g:p==="r"?v:x,i=n.xAxisID=xe(s.xAxisID,yd(e,"x")),o=n.yAxisID=xe(s.yAxisID,yd(e,"y")),a=n.rAxisID=xe(s.rAxisID,yd(e,"r")),l=n.indexAxis,u=n.iAxisID=r(l,i,o,a),d=n.vAxisID=r(l,o,i,a);n.xScale=this.getScaleForId(i),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(u),n.vScale=this.getScaleForId(d)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&Lg(this._data,this),e._stacked&&bo(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),s=this._data;if(be(n)){const r=this._cachedMeta;this._data=WN(n,r)}else if(s!==n){if(s){Lg(s,this);const r=this._cachedMeta;bo(r),r._parsed=[]}n&&Object.isExtensible(n)&&PD(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,s=this.getDataset();let r=!1;this._dataCheck();const i=n._stacked;n._stacked=gd(n.vScale,n),n.stack!==s.stack&&(r=!0,bo(n),n.stack=s.stack),this._resyncElements(e),(r||i!==n._stacked)&&(e0(this,n._parsed),n._stacked=gd(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),s=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(s,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:s,_data:r}=this,{iScale:i,_stacked:o}=s,a=i.axis;let l=e===0&&n===r.length?!0:s._sorted,u=e>0&&s._parsed[e-1],d,p,g;if(this._parsing===!1)s._parsed=r,s._sorted=!0,g=r;else{et(r[e])?g=this.parseArrayData(s,r,e,n):be(r[e])?g=this.parseObjectData(s,r,e,n):g=this.parsePrimitiveData(s,r,e,n);const x=()=>p[a]===null||u&&p[a]<u[a];for(d=0;d<n;++d)s._parsed[d+e]=p=g[d],l&&(x()&&(l=!1),u=p);s._sorted=l}o&&e0(this,g)}parsePrimitiveData(e,n,s,r){const{iScale:i,vScale:o}=e,a=i.axis,l=o.axis,u=i.getLabels(),d=i===o,p=new Array(r);let g,x,v;for(g=0,x=r;g<x;++g)v=g+s,p[g]={[a]:d||i.parse(u[v],v),[l]:o.parse(n[v],v)};return p}parseArrayData(e,n,s,r){const{xScale:i,yScale:o}=e,a=new Array(r);let l,u,d,p;for(l=0,u=r;l<u;++l)d=l+s,p=n[d],a[l]={x:i.parse(p[0],d),y:o.parse(p[1],d)};return a}parseObjectData(e,n,s,r){const{xScale:i,yScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,u=new Array(r);let d,p,g,x;for(d=0,p=r;d<p;++d)g=d+s,x=n[g],u[d]={x:i.parse(Ir(x,a),g),y:o.parse(Ir(x,l),g)};return u}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,s){const r=this.chart,i=this._cachedMeta,o=n[e.axis],a={keys:b_(r,!0),values:n._stacks[e.axis]._visualValues};return Qg(a,o,i.index,{mode:s})}updateRangeFromParsed(e,n,s,r){const i=s[n.axis];let o=i===null?NaN:i;const a=r&&s._stacks[n.axis];r&&a&&(r.values=a,o=Qg(r,i,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,n){const s=this._cachedMeta,r=s._parsed,i=s._sorted&&e===s.iScale,o=r.length,a=this._getOtherScale(e),l=KN(n,s,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:d,max:p}=YN(a);let g,x;function v(){x=r[g];const k=x[a.axis];return!kt(x[e.axis])||d>k||p<k}for(g=0;g<o&&!(!v()&&(this.updateRangeFromParsed(u,e,x,l),i));++g);if(i){for(g=o-1;g>=0;--g)if(!v()){this.updateRangeFromParsed(u,e,x,l);break}}return u}getAllParsedValues(e){const n=this._cachedMeta._parsed,s=[];let r,i,o;for(r=0,i=n.length;r<i;++r)o=n[r][e.axis],kt(o)&&s.push(o);return s}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,s=n.iScale,r=n.vScale,i=this.getParsed(e);return{label:s?""+s.getLabelForValue(i[s.axis]):"",value:r?""+r.getLabelForValue(i[r.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=UN(xe(this.options.clip,BN(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,s=this._cachedMeta,r=s.data||[],i=n.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||r.length-a,u=this.options.drawActiveElementsOnTop;let d;for(s.dataset&&s.dataset.draw(e,i,a,l),d=a;d<a+l;++d){const p=r[d];p.hidden||(p.active&&u?o.push(p):p.draw(e,i))}for(d=0;d<o.length;++d)o[d].draw(e,i)}getStyle(e,n){const s=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(s):this.resolveDataElementOptions(e||0,s)}getContext(e,n,s){const r=this.getDataset();let i;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];i=o.$context||(o.$context=qN(this.getContext(),e,o)),i.parsed=this.getParsed(e),i.raw=r.data[e],i.index=i.dataIndex=e}else i=this.$context||(this.$context=GN(this.chart.getContext(),this.index)),i.dataset=r,i.index=i.datasetIndex=this.index;return i.active=!!n,i.mode=s,i}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",s){const r=n==="active",i=this._cachedDataOpts,o=e+"-"+n,a=i[o],l=this.enableOptionSharing&&ba(s);if(a)return t0(a,l);const u=this.chart.config,d=u.datasetElementScopeKeys(this._type,e),p=r?[`${e}Hover`,"hover",e,""]:[e,""],g=u.getOptionScopes(this.getDataset(),d),x=Object.keys(Qe.elements[e]),v=()=>this.getContext(s,r,n),k=u.resolveNamedOptions(g,x,v,p);return k.$shared&&(k.$shared=l,i[o]=Object.freeze(t0(k,l))),k}_resolveAnimations(e,n,s){const r=this.chart,i=this._cachedDataOpts,o=`animation-${n}`,a=i[o];if(a)return a;let l;if(r.options.animation!==!1){const d=this.chart.config,p=d.datasetAnimationScopeKeys(this._type,n),g=d.getOptionScopes(this.getDataset(),p);l=d.createResolver(g,this.getContext(e,s,n))}const u=new w_(r,l&&l.animations);return l&&l._cacheable&&(i[o]=Object.freeze(u)),u}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||xd(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const s=this.resolveDataElementOptions(e,n),r=this._sharedOptions,i=this.getSharedOptions(s),o=this.includeOptions(n,i)||i!==r;return this.updateSharedOptions(i,n,s),{sharedOptions:i,includeOptions:o}}updateElement(e,n,s,r){xd(r)?Object.assign(e,s):this._resolveAnimations(n,r).update(e,s)}updateSharedOptions(e,n,s){e&&!xd(n)&&this._resolveAnimations(void 0,n).update(e,s)}_setStyle(e,n,s,r){e.active=r;const i=this.getStyle(n,r);this._resolveAnimations(n,s,r).update(e,{options:!r&&this.getSharedOptions(i)||i})}removeHoverStyle(e,n,s){this._setStyle(e,s,"active",!1)}setHoverStyle(e,n,s){this._setStyle(e,s,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,s=this._cachedMeta.data;for(const[a,l,u]of this._syncList)this[a](l,u);this._syncList=[];const r=s.length,i=n.length,o=Math.min(i,r);o&&this.parse(0,o),i>r?this._insertElements(r,i-r,e):i<r&&this._removeElements(i,r-i)}_insertElements(e,n,s=!0){const r=this._cachedMeta,i=r.data,o=e+n;let a;const l=u=>{for(u.length+=n,a=u.length-1;a>=o;a--)u[a]=u[a-n]};for(l(i),a=e;a<o;++a)i[a]=new this.dataElementType;this._parsing&&l(r._parsed),this.parse(e,n),s&&this.updateElements(i,e,n,"reset")}updateElements(e,n,s,r){}_removeElements(e,n){const s=this._cachedMeta;if(this._parsing){const r=s._parsed.splice(e,n);s._stacked&&bo(s,r)}s.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,s,r]=e;this[n](s,r)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const s=arguments.length-2;s&&this._sync(["_insertElements",e,s])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}re(Tr,"defaults",{}),re(Tr,"datasetElementType",null),re(Tr,"dataElementType",null);function JN(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let s=[];for(let r=0,i=n.length;r<i;r++)s=s.concat(n[r].controller.getAllParsedValues(t));t._cache.$bar=r_(s.sort((r,i)=>r-i))}return t._cache.$bar}function XN(t){const e=t.iScale,n=JN(e,t.type);let s=e._length,r,i,o,a;const l=()=>{o===32767||o===-32768||(ba(a)&&(s=Math.min(s,Math.abs(o-a)||s)),a=o)};for(r=0,i=n.length;r<i;++r)o=e.getPixelForValue(n[r]),l();for(a=void 0,r=0,i=e.ticks.length;r<i;++r)o=e.getPixelForTick(r),l();return s}function QN(t,e,n,s){const r=n.barThickness;let i,o;return Me(r)?(i=e.min*n.categoryPercentage,o=n.barPercentage):(i=r*s,o=1),{chunk:i/s,ratio:o,start:e.pixels[t]-i/2}}function ZN(t,e,n,s){const r=e.pixels,i=r[t];let o=t>0?r[t-1]:null,a=t<r.length-1?r[t+1]:null;const l=n.categoryPercentage;o===null&&(o=i-(a===null?e.end-e.start:a-i)),a===null&&(a=i+i-o);const u=i-(i-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/s,ratio:n.barPercentage,start:u}}function eP(t,e,n,s){const r=n.parse(t[0],s),i=n.parse(t[1],s),o=Math.min(r,i),a=Math.max(r,i);let l=o,u=a;Math.abs(o)>Math.abs(a)&&(l=a,u=o),e[n.axis]=u,e._custom={barStart:l,barEnd:u,start:r,end:i,min:o,max:a}}function k_(t,e,n,s){return et(t)?eP(t,e,n,s):e[n.axis]=n.parse(t,s),e}function n0(t,e,n,s){const r=t.iScale,i=t.vScale,o=r.getLabels(),a=r===i,l=[];let u,d,p,g;for(u=n,d=n+s;u<d;++u)g=e[u],p={},p[r.axis]=a||r.parse(o[u],u),l.push(k_(g,p,i,u));return l}function vd(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function tP(t,e,n){return t!==0?Ln(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function nP(t){let e,n,s,r,i;return t.horizontal?(e=t.base>t.x,n="left",s="right"):(e=t.base<t.y,n="bottom",s="top"),e?(r="end",i="start"):(r="start",i="end"),{start:n,end:s,reverse:e,top:r,bottom:i}}function sP(t,e,n,s){let r=e.borderSkipped;const i={};if(!r){t.borderSkipped=i;return}if(r===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:a,reverse:l,top:u,bottom:d}=nP(t);r==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===s?r=u:(n._bottom||0)===s?r=d:(i[s0(d,o,a,l)]=!0,r=u)),i[s0(r,o,a,l)]=!0,t.borderSkipped=i}function s0(t,e,n,s){return s?(t=rP(t,e,n),t=r0(t,n,e)):t=r0(t,e,n),t}function rP(t,e,n){return t===e?n:t===n?e:t}function r0(t,e,n){return t==="start"?e:t==="end"?n:t}function iP(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class Zl extends Tr{parsePrimitiveData(e,n,s,r){return n0(e,n,s,r)}parseArrayData(e,n,s,r){return n0(e,n,s,r)}parseObjectData(e,n,s,r){const{iScale:i,vScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,u=i.axis==="x"?a:l,d=o.axis==="x"?a:l,p=[];let g,x,v,k;for(g=s,x=s+r;g<x;++g)k=n[g],v={},v[i.axis]=i.parse(Ir(k,u),g),p.push(k_(Ir(k,d),v,o,g));return p}updateRangeFromParsed(e,n,s,r){super.updateRangeFromParsed(e,n,s,r);const i=s._custom;i&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,i.min),e.max=Math.max(e.max,i.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:s,vScale:r}=n,i=this.getParsed(e),o=i._custom,a=vd(o)?"["+o.start+", "+o.end+"]":""+r.getLabelForValue(i[r.axis]);return{label:""+s.getLabelForValue(i[s.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,s,r){const i=r==="reset",{index:o,_cachedMeta:{vScale:a}}=this,l=a.getBasePixel(),u=a.isHorizontal(),d=this._getRuler(),{sharedOptions:p,includeOptions:g}=this._getSharedOptions(n,r);for(let x=n;x<n+s;x++){const v=this.getParsed(x),k=i||Me(v[a.axis])?{base:l,head:l}:this._calculateBarValuePixels(x),S=this._calculateBarIndexPixels(x,d),_=(v._stacks||{})[a.axis],b={horizontal:u,base:k.base,enableBorderRadius:!_||vd(v._custom)||o===_._top||o===_._bottom,x:u?k.head:S.center,y:u?S.center:k.head,height:u?S.size:Math.abs(k.size),width:u?Math.abs(k.size):S.size};g&&(b.options=p||this.resolveDataElementOptions(x,e[x].active?"active":r));const j=b.options||e[x].options;sP(b,j,_,o),iP(b,j,d.ratio),this.updateElement(e[x],x,b,r)}}_getStacks(e,n){const{iScale:s}=this._cachedMeta,r=s.getMatchingVisibleMetas(this._type).filter(d=>d.controller.options.grouped),i=s.options.stacked,o=[],a=this._cachedMeta.controller.getParsed(n),l=a&&a[s.axis],u=d=>{const p=d._parsed.find(x=>x[s.axis]===l),g=p&&p[d.vScale.axis];if(Me(g)||isNaN(g))return!0};for(const d of r)if(!(n!==void 0&&u(d))&&((i===!1||o.indexOf(d.stack)===-1||i===void 0&&d.stack===void 0)&&o.push(d.stack),d.index===e))break;return o.length||o.push(void 0),o}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,n,s){const r=this._getStacks(e,s),i=n!==void 0?r.indexOf(n):-1;return i===-1?r.length-1:i}_getRuler(){const e=this.options,n=this._cachedMeta,s=n.iScale,r=[];let i,o;for(i=0,o=n.data.length;i<o;++i)r.push(s.getPixelForValue(this.getParsed(i)[s.axis],i));const a=e.barThickness;return{min:a||XN(n),pixels:r,start:s._startPixel,end:s._endPixel,stackCount:this._getStackCount(),scale:s,grouped:e.grouped,ratio:a?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:s,index:r},options:{base:i,minBarLength:o}}=this,a=i||0,l=this.getParsed(e),u=l._custom,d=vd(u);let p=l[n.axis],g=0,x=s?this.applyStack(n,l,s):p,v,k;x!==p&&(g=x-p,x=p),d&&(p=u.barStart,x=u.barEnd-u.barStart,p!==0&&Ln(p)!==Ln(u.barEnd)&&(g=0),g+=p);const S=!Me(i)&&!d?i:g;let _=n.getPixelForValue(S);if(this.chart.getDataVisibility(e)?v=n.getPixelForValue(g+x):v=_,k=v-_,Math.abs(k)<o){k=tP(k,n,a)*o,p===a&&(_-=k/2);const b=n.getPixelForDecimal(0),j=n.getPixelForDecimal(1),E=Math.min(b,j),M=Math.max(b,j);_=Math.max(Math.min(_,M),E),v=_+k,s&&!d&&(l._stacks[n.axis]._visualValues[r]=n.getValueForPixel(v)-n.getValueForPixel(_))}if(_===n.getPixelForValue(a)){const b=Ln(k)*n.getLineWidthForValue(a)/2;_+=b,k-=b}return{size:k,base:_,head:v,center:v+k/2}}_calculateBarIndexPixels(e,n){const s=n.scale,r=this.options,i=r.skipNull,o=xe(r.maxBarThickness,1/0);let a,l;if(n.grouped){const u=i?this._getStackCount(e):n.stackCount,d=r.barThickness==="flex"?ZN(e,n,r,u):QN(e,n,r,u),p=this._getStackIndex(this.index,this._cachedMeta.stack,i?e:void 0);a=d.start+d.chunk*p+d.chunk/2,l=Math.min(o,d.chunk*d.ratio)}else a=s.getPixelForValue(this.getParsed(e)[s.axis],e),l=Math.min(o,n.min*n.ratio);return{base:a-l/2,head:a+l/2,center:a,size:l}}draw(){const e=this._cachedMeta,n=e.vScale,s=e.data,r=s.length;let i=0;for(;i<r;++i)this.getParsed(i)[n.axis]!==null&&!s[i].hidden&&s[i].draw(this._ctx)}}re(Zl,"id","bar"),re(Zl,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),re(Zl,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function oP(t,e,n){let s=1,r=1,i=0,o=0;if(e<He){const a=t,l=a+e,u=Math.cos(a),d=Math.sin(a),p=Math.cos(l),g=Math.sin(l),x=(j,E,M)=>Sa(j,a,l,!0)?1:Math.max(E,E*n,M,M*n),v=(j,E,M)=>Sa(j,a,l,!0)?-1:Math.min(E,E*n,M,M*n),k=x(0,u,p),S=x(at,d,g),_=v(Je,u,p),b=v(Je+at,d,g);s=(k-_)/2,r=(S-b)/2,i=-(k+_)/2,o=-(S+b)/2}return{ratioX:s,ratioY:r,offsetX:i,offsetY:o}}class ji extends Tr{constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const s=this.getDataset().data,r=this._cachedMeta;if(this._parsing===!1)r._parsed=s;else{let i=l=>+s[l];if(be(s[e])){const{key:l="value"}=this._parsing;i=u=>+Ir(s[u],l)}let o,a;for(o=e,a=e+n;o<a;++o)r._parsed[o]=i(o)}}_getRotation(){return ns(this.options.rotation-90)}_getCircumference(){return ns(this.options.circumference)}_getRotationExtents(){let e=He,n=-He;for(let s=0;s<this.chart.data.datasets.length;++s)if(this.chart.isDatasetVisible(s)&&this.chart.getDatasetMeta(s).type===this._type){const r=this.chart.getDatasetMeta(s).controller,i=r._getRotation(),o=r._getCircumference();e=Math.min(e,i),n=Math.max(n,i+o)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:s}=n,r=this._cachedMeta,i=r.data,o=this.getMaxBorderWidth()+this.getMaxOffset(i)+this.options.spacing,a=Math.max((Math.min(s.width,s.height)-o)/2,0),l=Math.min(pD(this.options.cutout,a),1),u=this._getRingWeight(this.index),{circumference:d,rotation:p}=this._getRotationExtents(),{ratioX:g,ratioY:x,offsetX:v,offsetY:k}=oP(p,d,l),S=(s.width-o)/g,_=(s.height-o)/x,b=Math.max(Math.min(S,_)/2,0),j=Zv(this.options.radius,b),E=Math.max(j*l,0),M=(j-E)/this._getVisibleDatasetWeightTotal();this.offsetX=v*j,this.offsetY=k*j,r.total=this.calculateTotal(),this.outerRadius=j-M*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-M*u,0),this.updateElements(i,0,i.length,e)}_circumference(e,n){const s=this.options,r=this._cachedMeta,i=this._getCircumference();return n&&s.animation.animateRotate||!this.chart.getDataVisibility(e)||r._parsed[e]===null||r.data[e].hidden?0:this.calculateCircumference(r._parsed[e]*i/He)}updateElements(e,n,s,r){const i=r==="reset",o=this.chart,a=o.chartArea,u=o.options.animation,d=(a.left+a.right)/2,p=(a.top+a.bottom)/2,g=i&&u.animateScale,x=g?0:this.innerRadius,v=g?0:this.outerRadius,{sharedOptions:k,includeOptions:S}=this._getSharedOptions(n,r);let _=this._getRotation(),b;for(b=0;b<n;++b)_+=this._circumference(b,i);for(b=n;b<n+s;++b){const j=this._circumference(b,i),E=e[b],M={x:d+this.offsetX,y:p+this.offsetY,startAngle:_,endAngle:_+j,circumference:j,outerRadius:v,innerRadius:x};S&&(M.options=k||this.resolveDataElementOptions(b,E.active?"active":r)),_+=j,this.updateElement(E,b,M,r)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let s=0,r;for(r=0;r<n.length;r++){const i=e._parsed[r];i!==null&&!isNaN(i)&&this.chart.getDataVisibility(r)&&!n[r].hidden&&(s+=Math.abs(i))}return s}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?He*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,s=this.chart,r=s.data.labels||[],i=tp(n._parsed[e],s.options.locale);return{label:r[e]||"",value:i}}getMaxBorderWidth(e){let n=0;const s=this.chart;let r,i,o,a,l;if(!e){for(r=0,i=s.data.datasets.length;r<i;++r)if(s.isDatasetVisible(r)){o=s.getDatasetMeta(r),e=o.data,a=o.controller;break}}if(!e)return 0;for(r=0,i=e.length;r<i;++r)l=a.resolveDataElementOptions(r),l.borderAlign!=="inner"&&(n=Math.max(n,l.borderWidth||0,l.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let s=0,r=e.length;s<r;++s){const i=this.resolveDataElementOptions(s);n=Math.max(n,i.offset||0,i.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let s=0;s<e;++s)this.chart.isDatasetVisible(s)&&(n+=this._getRingWeight(s));return n}_getRingWeight(e){return Math.max(xe(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}re(ji,"id","doughnut"),re(ji,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),re(ji,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),re(ji,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:s,color:r}}=e.legend.options;return n.labels.map((i,o)=>{const l=e.getDatasetMeta(0).controller.getStyle(o);return{text:i,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:r,lineWidth:l.borderWidth,pointStyle:s,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,n,s){s.chart.toggleDataVisibility(n.index),s.chart.update()}}}});class ec extends Tr{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:s,data:r=[],_dataset:i}=n,o=this.chart._animationsDisabled;let{start:a,count:l}=AD(n,r,o);this._drawStart=a,this._drawCount=l,RD(n)&&(a=0,l=r.length),s._chart=this.chart,s._datasetIndex=this.index,s._decimated=!!i._decimated,s.points=r;const u=this.resolveDatasetElementOptions(e);this.options.showLine||(u.borderWidth=0),u.segment=this.options.segment,this.updateElement(s,void 0,{animated:!o,options:u},e),this.updateElements(r,a,l,e)}updateElements(e,n,s,r){const i=r==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:u}=this._cachedMeta,{sharedOptions:d,includeOptions:p}=this._getSharedOptions(n,r),g=o.axis,x=a.axis,{spanGaps:v,segment:k}=this.options,S=ka(v)?v:Number.POSITIVE_INFINITY,_=this.chart._animationsDisabled||i||r==="none",b=n+s,j=e.length;let E=n>0&&this.getParsed(n-1);for(let M=0;M<j;++M){const O=e[M],A=_?O:{};if(M<n||M>=b){A.skip=!0;continue}const T=this.getParsed(M),q=Me(T[x]),z=A[g]=o.getPixelForValue(T[g],M),se=A[x]=i||q?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,T,l):T[x],M);A.skip=isNaN(z)||isNaN(se)||q,A.stop=M>0&&Math.abs(T[g]-E[g])>S,k&&(A.parsed=T,A.raw=u.data[M]),p&&(A.options=d||this.resolveDataElementOptions(M,O.active?"active":r)),_||this.updateElement(O,M,A,r),E=T}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,s=n.options&&n.options.borderWidth||0,r=e.data||[];if(!r.length)return s;const i=r[0].size(this.resolveDataElementOptions(0)),o=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(s,i,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}re(ec,"id","line"),re(ec,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),re(ec,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class Ih extends ji{}re(Ih,"id","pie"),re(Ih,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});function mr(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class lp{constructor(e){re(this,"options");this.options=e||{}}static override(e){Object.assign(lp.prototype,e)}init(){}formats(){return mr()}parse(){return mr()}format(){return mr()}add(){return mr()}diff(){return mr()}startOf(){return mr()}endOf(){return mr()}}var aP={_date:lp};function lP(t,e,n,s){const{controller:r,data:i,_sorted:o}=t,a=r._cachedMeta.iScale,l=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(a&&e===a.axis&&e!=="r"&&o&&i.length){const u=a._reversePixels?DD:Cr;if(s){if(r._sharedOptions){const d=i[0],p=typeof d.getRange=="function"&&d.getRange(e);if(p){const g=u(i,e,n-p),x=u(i,e,n+p);return{lo:g.lo,hi:x.hi}}}}else{const d=u(i,e,n);if(l){const{vScale:p}=r._cachedMeta,{_parsed:g}=t,x=g.slice(0,d.lo+1).reverse().findIndex(k=>!Me(k[p.axis]));d.lo-=Math.max(0,x);const v=g.slice(d.hi).findIndex(k=>!Me(k[p.axis]));d.hi+=Math.max(0,v)}return d}}return{lo:0,hi:i.length-1}}function du(t,e,n,s,r){const i=t.getSortedVisibleDatasetMetas(),o=n[e];for(let a=0,l=i.length;a<l;++a){const{index:u,data:d}=i[a],{lo:p,hi:g}=lP(i[a],e,o,r);for(let x=p;x<=g;++x){const v=d[x];v.skip||s(v,u,x)}}}function cP(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(s,r){const i=e?Math.abs(s.x-r.x):0,o=n?Math.abs(s.y-r.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(o,2))}}function _d(t,e,n,s,r){const i=[];return!r&&!t.isPointInArea(e)||du(t,n,e,function(a,l,u){!r&&!ja(a,t.chartArea,0)||a.inRange(e.x,e.y,s)&&i.push({element:a,datasetIndex:l,index:u})},!0),i}function uP(t,e,n,s){let r=[];function i(o,a,l){const{startAngle:u,endAngle:d}=o.getProps(["startAngle","endAngle"],s),{angle:p}=n_(o,{x:e.x,y:e.y});Sa(p,u,d)&&r.push({element:o,datasetIndex:a,index:l})}return du(t,n,e,i),r}function dP(t,e,n,s,r,i){let o=[];const a=cP(n);let l=Number.POSITIVE_INFINITY;function u(d,p,g){const x=d.inRange(e.x,e.y,r);if(s&&!x)return;const v=d.getCenterPoint(r);if(!(!!i||t.isPointInArea(v))&&!x)return;const S=a(e,v);S<l?(o=[{element:d,datasetIndex:p,index:g}],l=S):S===l&&o.push({element:d,datasetIndex:p,index:g})}return du(t,n,e,u),o}function wd(t,e,n,s,r,i){return!i&&!t.isPointInArea(e)?[]:n==="r"&&!s?uP(t,e,n,r):dP(t,e,n,s,r,i)}function i0(t,e,n,s,r){const i=[],o=n==="x"?"inXRange":"inYRange";let a=!1;return du(t,n,e,(l,u,d)=>{l[o]&&l[o](e[n],r)&&(i.push({element:l,datasetIndex:u,index:d}),a=a||l.inRange(e.x,e.y,r))}),s&&!a?[]:i}var hP={modes:{index(t,e,n,s){const r=vr(e,t),i=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?_d(t,r,i,s,o):wd(t,r,i,!1,s,o),l=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(u=>{const d=a[0].index,p=u.data[d];p&&!p.skip&&l.push({element:p,datasetIndex:u.index,index:d})}),l):[]},dataset(t,e,n,s){const r=vr(e,t),i=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?_d(t,r,i,s,o):wd(t,r,i,!1,s,o);if(a.length>0){const l=a[0].datasetIndex,u=t.getDatasetMeta(l).data;a=[];for(let d=0;d<u.length;++d)a.push({element:u[d],datasetIndex:l,index:d})}return a},point(t,e,n,s){const r=vr(e,t),i=n.axis||"xy",o=n.includeInvisible||!1;return _d(t,r,i,s,o)},nearest(t,e,n,s){const r=vr(e,t),i=n.axis||"xy",o=n.includeInvisible||!1;return wd(t,r,i,n.intersect,s,o)},x(t,e,n,s){const r=vr(e,t);return i0(t,r,"x",n.intersect,s)},y(t,e,n,s){const r=vr(e,t);return i0(t,r,"y",n.intersect,s)}}};const S_=["left","top","right","bottom"];function ko(t,e){return t.filter(n=>n.pos===e)}function o0(t,e){return t.filter(n=>S_.indexOf(n.pos)===-1&&n.box.axis===e)}function So(t,e){return t.sort((n,s)=>{const r=e?s:n,i=e?n:s;return r.weight===i.weight?r.index-i.index:r.weight-i.weight})}function fP(t){const e=[];let n,s,r,i,o,a;for(n=0,s=(t||[]).length;n<s;++n)r=t[n],{position:i,options:{stack:o,stackWeight:a=1}}=r,e.push({index:n,box:r,pos:i,horizontal:r.isHorizontal(),weight:r.weight,stack:o&&i+o,stackWeight:a});return e}function pP(t){const e={};for(const n of t){const{stack:s,pos:r,stackWeight:i}=n;if(!s||!S_.includes(r))continue;const o=e[s]||(e[s]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=i}return e}function mP(t,e){const n=pP(t),{vBoxMaxWidth:s,hBoxMaxHeight:r}=e;let i,o,a;for(i=0,o=t.length;i<o;++i){a=t[i];const{fullSize:l}=a.box,u=n[a.stack],d=u&&a.stackWeight/u.weight;a.horizontal?(a.width=d?d*s:l&&e.availableWidth,a.height=r):(a.width=s,a.height=d?d*r:l&&e.availableHeight)}return n}function gP(t){const e=fP(t),n=So(e.filter(u=>u.box.fullSize),!0),s=So(ko(e,"left"),!0),r=So(ko(e,"right")),i=So(ko(e,"top"),!0),o=So(ko(e,"bottom")),a=o0(e,"x"),l=o0(e,"y");return{fullSize:n,leftAndTop:s.concat(i),rightAndBottom:r.concat(l).concat(o).concat(a),chartArea:ko(e,"chartArea"),vertical:s.concat(r).concat(l),horizontal:i.concat(o).concat(a)}}function a0(t,e,n,s){return Math.max(t[n],e[n])+Math.max(t[s],e[s])}function j_(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function yP(t,e,n,s){const{pos:r,box:i}=n,o=t.maxPadding;if(!be(r)){n.size&&(t[r]-=n.size);const p=s[n.stack]||{size:0,count:1};p.size=Math.max(p.size,n.horizontal?i.height:i.width),n.size=p.size/p.count,t[r]+=n.size}i.getPadding&&j_(o,i.getPadding());const a=Math.max(0,e.outerWidth-a0(o,t,"left","right")),l=Math.max(0,e.outerHeight-a0(o,t,"top","bottom")),u=a!==t.w,d=l!==t.h;return t.w=a,t.h=l,n.horizontal?{same:u,other:d}:{same:d,other:u}}function xP(t){const e=t.maxPadding;function n(s){const r=Math.max(e[s]-t[s],0);return t[s]+=r,r}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function vP(t,e){const n=e.maxPadding;function s(r){const i={left:0,top:0,right:0,bottom:0};return r.forEach(o=>{i[o]=Math.max(e[o],n[o])}),i}return s(t?["left","right"]:["top","bottom"])}function Oo(t,e,n,s){const r=[];let i,o,a,l,u,d;for(i=0,o=t.length,u=0;i<o;++i){a=t[i],l=a.box,l.update(a.width||e.w,a.height||e.h,vP(a.horizontal,e));const{same:p,other:g}=yP(e,n,a,s);u|=p&&r.length,d=d||g,l.fullSize||r.push(a)}return u&&Oo(r,e,n,s)||d}function Al(t,e,n,s,r){t.top=n,t.left=e,t.right=e+s,t.bottom=n+r,t.width=s,t.height=r}function l0(t,e,n,s){const r=n.padding;let{x:i,y:o}=e;for(const a of t){const l=a.box,u=s[a.stack]||{placed:0,weight:1},d=a.stackWeight/u.weight||1;if(a.horizontal){const p=e.w*d,g=u.size||l.height;ba(u.start)&&(o=u.start),l.fullSize?Al(l,r.left,o,n.outerWidth-r.right-r.left,g):Al(l,e.left+u.placed,o,p,g),u.start=o,u.placed+=p,o=l.bottom}else{const p=e.h*d,g=u.size||l.width;ba(u.start)&&(i=u.start),l.fullSize?Al(l,i,r.top,g,n.outerHeight-r.bottom-r.top):Al(l,i,e.top+u.placed,g,p),u.start=i,u.placed+=p,i=l.right}}e.x=i,e.y=o}var on={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,s){if(!t)return;const r=un(t.options.layout.padding),i=Math.max(e-r.width,0),o=Math.max(n-r.height,0),a=gP(t.boxes),l=a.vertical,u=a.horizontal;De(t.boxes,k=>{typeof k.beforeLayout=="function"&&k.beforeLayout()});const d=l.reduce((k,S)=>S.box.options&&S.box.options.display===!1?k:k+1,0)||1,p=Object.freeze({outerWidth:e,outerHeight:n,padding:r,availableWidth:i,availableHeight:o,vBoxMaxWidth:i/2/d,hBoxMaxHeight:o/2}),g=Object.assign({},r);j_(g,un(s));const x=Object.assign({maxPadding:g,w:i,h:o,x:r.left,y:r.top},r),v=mP(l.concat(u),p);Oo(a.fullSize,x,p,v),Oo(l,x,p,v),Oo(u,x,p,v)&&Oo(l,x,p,v),xP(x),l0(a.leftAndTop,x,p,v),x.x+=x.w,x.y+=x.h,l0(a.rightAndBottom,x,p,v),t.chartArea={left:x.left,top:x.top,right:x.left+x.w,bottom:x.top+x.h,height:x.h,width:x.w},De(a.chartArea,k=>{const S=k.box;Object.assign(S,t.chartArea),S.update(x.w,x.h,{left:0,top:0,right:0,bottom:0})})}};class C_{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,s){}removeEventListener(e,n,s){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,s,r){return n=Math.max(0,n||e.width),s=s||e.height,{width:n,height:Math.max(0,r?Math.floor(n/r):s)}}isAttached(e){return!0}updateConfig(e){}}class _P extends C_{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const tc="$chartjs",wP={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},c0=t=>t===null||t==="";function bP(t,e){const n=t.style,s=t.getAttribute("height"),r=t.getAttribute("width");if(t[tc]={initial:{height:s,width:r,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",c0(r)){const i=Vg(t,"width");i!==void 0&&(t.width=i)}if(c0(s))if(t.style.height==="")t.height=t.width/(e||2);else{const i=Vg(t,"height");i!==void 0&&(t.height=i)}return t}const E_=SN?{passive:!0}:!1;function kP(t,e,n){t&&t.addEventListener(e,n,E_)}function SP(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,E_)}function jP(t,e){const n=wP[t.type]||t.type,{x:s,y:r}=vr(t,e);return{type:n,chart:e,native:t,x:s!==void 0?s:null,y:r!==void 0?r:null}}function Ac(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function CP(t,e,n){const s=t.canvas,r=new MutationObserver(i=>{let o=!1;for(const a of i)o=o||Ac(a.addedNodes,s),o=o&&!Ac(a.removedNodes,s);o&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}function EP(t,e,n){const s=t.canvas,r=new MutationObserver(i=>{let o=!1;for(const a of i)o=o||Ac(a.removedNodes,s),o=o&&!Ac(a.addedNodes,s);o&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}const Ea=new Map;let u0=0;function M_(){const t=window.devicePixelRatio;t!==u0&&(u0=t,Ea.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function MP(t,e){Ea.size||window.addEventListener("resize",M_),Ea.set(t,e)}function DP(t){Ea.delete(t),Ea.size||window.removeEventListener("resize",M_)}function NP(t,e,n){const s=t.canvas,r=s&&ap(s);if(!r)return;const i=o_((a,l)=>{const u=r.clientWidth;n(a,l),u<r.clientWidth&&n()},window),o=new ResizeObserver(a=>{const l=a[0],u=l.contentRect.width,d=l.contentRect.height;u===0&&d===0||i(u,d)});return o.observe(r),MP(t,i),o}function bd(t,e,n){n&&n.disconnect(),e==="resize"&&DP(t)}function PP(t,e,n){const s=t.canvas,r=o_(i=>{t.ctx!==null&&n(jP(i,t))},t);return kP(s,e,r),r}class TP extends C_{acquireContext(e,n){const s=e&&e.getContext&&e.getContext("2d");return s&&s.canvas===e?(bP(e,n),s):null}releaseContext(e){const n=e.canvas;if(!n[tc])return!1;const s=n[tc].initial;["height","width"].forEach(i=>{const o=s[i];Me(o)?n.removeAttribute(i):n.setAttribute(i,o)});const r=s.style||{};return Object.keys(r).forEach(i=>{n.style[i]=r[i]}),n.width=n.width,delete n[tc],!0}addEventListener(e,n,s){this.removeEventListener(e,n);const r=e.$proxies||(e.$proxies={}),o={attach:CP,detach:EP,resize:NP}[n]||PP;r[n]=o(e,n,s)}removeEventListener(e,n){const s=e.$proxies||(e.$proxies={}),r=s[n];if(!r)return;({attach:bd,detach:bd,resize:bd}[n]||SP)(e,n,r),s[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,s,r){return kN(e,n,s,r)}isAttached(e){const n=e&&ap(e);return!!(n&&n.isConnected)}}function OP(t){return!op()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?_P:TP}class kn{constructor(){re(this,"x");re(this,"y");re(this,"active",!1);re(this,"options");re(this,"$animations")}tooltipPosition(e){const{x:n,y:s}=this.getProps(["x","y"],e);return{x:n,y:s}}hasValue(){return ka(this.x)&&ka(this.y)}getProps(e,n){const s=this.$animations;if(!n||!s)return this;const r={};return e.forEach(i=>{r[i]=s[i]&&s[i].active()?s[i]._to:this[i]}),r}}re(kn,"defaults",{}),re(kn,"defaultRoutes");function AP(t,e){const n=t.options.ticks,s=RP(t),r=Math.min(n.maxTicksLimit||s,s),i=n.major.enabled?FP(e):[],o=i.length,a=i[0],l=i[o-1],u=[];if(o>r)return IP(e,u,i,o/r),u;const d=LP(i,e,r);if(o>0){let p,g;const x=o>1?Math.round((l-a)/(o-1)):null;for(Rl(e,u,d,Me(x)?0:a-x,a),p=0,g=o-1;p<g;p++)Rl(e,u,d,i[p],i[p+1]);return Rl(e,u,d,l,Me(x)?e.length:l+x),u}return Rl(e,u,d),u}function RP(t){const e=t.options.offset,n=t._tickSize(),s=t._length/n+(e?0:1),r=t._maxLength/n;return Math.floor(Math.min(s,r))}function LP(t,e,n){const s=$P(t),r=e.length/n;if(!s)return Math.max(r,1);const i=bD(s);for(let o=0,a=i.length-1;o<a;o++){const l=i[o];if(l>r)return l}return Math.max(r,1)}function FP(t){const e=[];let n,s;for(n=0,s=t.length;n<s;n++)t[n].major&&e.push(n);return e}function IP(t,e,n,s){let r=0,i=n[0],o;for(s=Math.ceil(s),o=0;o<t.length;o++)o===i&&(e.push(t[o]),r++,i=n[r*s])}function Rl(t,e,n,s,r){const i=xe(s,0),o=Math.min(xe(r,t.length),t.length);let a=0,l,u,d;for(n=Math.ceil(n),r&&(l=r-s,n=l/Math.floor(l/n)),d=i;d<0;)a++,d=Math.round(i+a*n);for(u=Math.max(i,0);u<o;u++)u===d&&(e.push(t[u]),a++,d=Math.round(i+a*n))}function $P(t){const e=t.length;let n,s;if(e<2)return!1;for(s=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==s)return!1;return s}const zP=t=>t==="left"?"right":t==="right"?"left":t,d0=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,h0=(t,e)=>Math.min(e||t,t);function f0(t,e){const n=[],s=t.length/e,r=t.length;let i=0;for(;i<r;i+=s)n.push(t[Math.floor(i)]);return n}function BP(t,e,n){const s=t.ticks.length,r=Math.min(e,s-1),i=t._startPixel,o=t._endPixel,a=1e-6;let l=t.getPixelForTick(r),u;if(!(n&&(s===1?u=Math.max(l-i,o-l):e===0?u=(t.getPixelForTick(1)-l)/2:u=(l-t.getPixelForTick(r-1))/2,l+=r<e?u:-u,l<i-a||l>o+a)))return l}function UP(t,e){De(t,n=>{const s=n.gc,r=s.length/2;let i;if(r>e){for(i=0;i<r;++i)delete n.data[s[i]];s.splice(0,r)}})}function jo(t){return t.drawTicks?t.tickLength:0}function p0(t,e){if(!t.display)return 0;const n=wt(t.font,e),s=un(t.padding);return(et(t.text)?t.text.length:1)*n.lineHeight+s.height}function WP(t,e){return Vr(t,{scale:e,type:"scale"})}function HP(t,e,n){return Vr(t,{tick:n,index:e,type:"tick"})}function YP(t,e,n){let s=Zf(t);return(n&&e!=="right"||!n&&e==="right")&&(s=zP(s)),s}function VP(t,e,n,s){const{top:r,left:i,bottom:o,right:a,chart:l}=t,{chartArea:u,scales:d}=l;let p=0,g,x,v;const k=o-r,S=a-i;if(t.isHorizontal()){if(x=xt(s,i,a),be(n)){const _=Object.keys(n)[0],b=n[_];v=d[_].getPixelForValue(b)+k-e}else n==="center"?v=(u.bottom+u.top)/2+k-e:v=d0(t,n,e);g=a-i}else{if(be(n)){const _=Object.keys(n)[0],b=n[_];x=d[_].getPixelForValue(b)-S+e}else n==="center"?x=(u.left+u.right)/2-S+e:x=d0(t,n,e);v=xt(s,o,r),p=n==="left"?-at:at}return{titleX:x,titleY:v,maxWidth:g,rotation:p}}class Xi extends kn{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:s,_suggestedMax:r}=this;return e=En(e,Number.POSITIVE_INFINITY),n=En(n,Number.NEGATIVE_INFINITY),s=En(s,Number.POSITIVE_INFINITY),r=En(r,Number.NEGATIVE_INFINITY),{min:En(e,s),max:En(n,r),minDefined:kt(e),maxDefined:kt(n)}}getMinMax(e){let{min:n,max:s,minDefined:r,maxDefined:i}=this.getUserBounds(),o;if(r&&i)return{min:n,max:s};const a=this.getMatchingVisibleMetas();for(let l=0,u=a.length;l<u;++l)o=a[l].controller.getMinMax(this,e),r||(n=Math.min(n,o.min)),i||(s=Math.max(s,o.max));return n=i&&n>s?s:n,s=r&&n>s?n:s,{min:En(n,En(s,n)),max:En(s,En(n,s))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Ie(this.options.beforeUpdate,[this])}update(e,n,s){const{beginAtZero:r,grace:i,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=s=Object.assign({left:0,right:0,top:0,bottom:0},s),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+s.left+s.right:this.height+s.top+s.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=tN(this,i,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?f0(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=AP(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,s;this.isHorizontal()?(n=this.left,s=this.right):(n=this.top,s=this.bottom,e=!e),this._startPixel=n,this._endPixel=s,this._reversePixels=e,this._length=s-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Ie(this.options.afterUpdate,[this])}beforeSetDimensions(){Ie(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Ie(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Ie(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Ie(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let s,r,i;for(s=0,r=e.length;s<r;s++)i=e[s],i.label=Ie(n.callback,[i.value,s,e],this)}afterTickToLabelConversion(){Ie(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Ie(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,s=h0(this.ticks.length,e.ticks.maxTicksLimit),r=n.minRotation||0,i=n.maxRotation;let o=r,a,l,u;if(!this._isVisible()||!n.display||r>=i||s<=1||!this.isHorizontal()){this.labelRotation=r;return}const d=this._getLabelSizes(),p=d.widest.width,g=d.highest.height,x=_t(this.chart.width-p,0,this.maxWidth);a=e.offset?this.maxWidth/s:x/(s-1),p+6>a&&(a=x/(s-(e.offset?.5:1)),l=this.maxHeight-jo(e.grid)-n.padding-p0(e.title,this.chart.options.font),u=Math.sqrt(p*p+g*g),o=CD(Math.min(Math.asin(_t((d.highest.height+6)/a,-1,1)),Math.asin(_t(l/u,-1,1))-Math.asin(_t(g/u,-1,1)))),o=Math.max(r,Math.min(i,o))),this.labelRotation=o}afterCalculateLabelRotation(){Ie(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Ie(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:s,title:r,grid:i}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=p0(r,n.options.font);if(a?(e.width=this.maxWidth,e.height=jo(i)+l):(e.height=this.maxHeight,e.width=jo(i)+l),s.display&&this.ticks.length){const{first:u,last:d,widest:p,highest:g}=this._getLabelSizes(),x=s.padding*2,v=ns(this.labelRotation),k=Math.cos(v),S=Math.sin(v);if(a){const _=s.mirror?0:S*p.width+k*g.height;e.height=Math.min(this.maxHeight,e.height+_+x)}else{const _=s.mirror?0:k*p.width+S*g.height;e.width=Math.min(this.maxWidth,e.width+_+x)}this._calculatePadding(u,d,S,k)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,s,r){const{ticks:{align:i,padding:o},position:a}=this.options,l=this.labelRotation!==0,u=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const d=this.getPixelForTick(0)-this.left,p=this.right-this.getPixelForTick(this.ticks.length-1);let g=0,x=0;l?u?(g=r*e.width,x=s*n.height):(g=s*e.height,x=r*n.width):i==="start"?x=n.width:i==="end"?g=e.width:i!=="inner"&&(g=e.width/2,x=n.width/2),this.paddingLeft=Math.max((g-d+o)*this.width/(this.width-d),0),this.paddingRight=Math.max((x-p+o)*this.width/(this.width-p),0)}else{let d=n.height/2,p=e.height/2;i==="start"?(d=0,p=e.height):i==="end"&&(d=n.height,p=0),this.paddingTop=d+o,this.paddingBottom=p+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Ie(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,s;for(n=0,s=e.length;n<s;n++)Me(e[n].label)&&(e.splice(n,1),s--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let s=this.ticks;n<s.length&&(s=f0(s,n)),this._labelSizes=e=this._computeLabelSizes(s,s.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,s){const{ctx:r,_longestTextCache:i}=this,o=[],a=[],l=Math.floor(n/h0(n,s));let u=0,d=0,p,g,x,v,k,S,_,b,j,E,M;for(p=0;p<n;p+=l){if(v=e[p].label,k=this._resolveTickFontOptions(p),r.font=S=k.string,_=i[S]=i[S]||{data:{},gc:[]},b=k.lineHeight,j=E=0,!Me(v)&&!et(v))j=Bg(r,_.data,_.gc,j,v),E=b;else if(et(v))for(g=0,x=v.length;g<x;++g)M=v[g],!Me(M)&&!et(M)&&(j=Bg(r,_.data,_.gc,j,M),E+=b);o.push(j),a.push(E),u=Math.max(j,u),d=Math.max(E,d)}UP(i,n);const O=o.indexOf(u),A=a.indexOf(d),T=q=>({width:o[q]||0,height:a[q]||0});return{first:T(0),last:T(n-1),widest:T(O),highest:T(A),widths:o,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return MD(this._alignToPixels?pr(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const s=n[e];return s.$context||(s.$context=HP(this.getContext(),e,s))}return this.$context||(this.$context=WP(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=ns(this.labelRotation),s=Math.abs(Math.cos(n)),r=Math.abs(Math.sin(n)),i=this._getLabelSizes(),o=e.autoSkipPadding||0,a=i?i.widest.width+o:0,l=i?i.highest.height+o:0;return this.isHorizontal()?l*s>a*r?a/s:l/r:l*r<a*s?l/s:a/r}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,s=this.chart,r=this.options,{grid:i,position:o,border:a}=r,l=i.offset,u=this.isHorizontal(),p=this.ticks.length+(l?1:0),g=jo(i),x=[],v=a.setContext(this.getContext()),k=v.display?v.width:0,S=k/2,_=function(me){return pr(s,me,k)};let b,j,E,M,O,A,T,q,z,se,ae,fe;if(o==="top")b=_(this.bottom),A=this.bottom-g,q=b-S,se=_(e.top)+S,fe=e.bottom;else if(o==="bottom")b=_(this.top),se=e.top,fe=_(e.bottom)-S,A=b+S,q=this.top+g;else if(o==="left")b=_(this.right),O=this.right-g,T=b-S,z=_(e.left)+S,ae=e.right;else if(o==="right")b=_(this.left),z=e.left,ae=_(e.right)-S,O=b+S,T=this.left+g;else if(n==="x"){if(o==="center")b=_((e.top+e.bottom)/2+.5);else if(be(o)){const me=Object.keys(o)[0],ve=o[me];b=_(this.chart.scales[me].getPixelForValue(ve))}se=e.top,fe=e.bottom,A=b+S,q=A+g}else if(n==="y"){if(o==="center")b=_((e.left+e.right)/2);else if(be(o)){const me=Object.keys(o)[0],ve=o[me];b=_(this.chart.scales[me].getPixelForValue(ve))}O=b-S,T=O-g,z=e.left,ae=e.right}const ce=xe(r.ticks.maxTicksLimit,p),pe=Math.max(1,Math.ceil(p/ce));for(j=0;j<p;j+=pe){const me=this.getContext(j),ve=i.setContext(me),G=a.setContext(me),X=ve.lineWidth,te=ve.color,B=G.dash||[],ie=G.dashOffset,P=ve.tickWidth,Y=ve.tickColor,L=ve.tickBorderDash||[],he=ve.tickBorderDashOffset;E=BP(this,j,l),E!==void 0&&(M=pr(s,E,X),u?O=T=z=ae=M:A=q=se=fe=M,x.push({tx1:O,ty1:A,tx2:T,ty2:q,x1:z,y1:se,x2:ae,y2:fe,width:X,color:te,borderDash:B,borderDashOffset:ie,tickWidth:P,tickColor:Y,tickBorderDash:L,tickBorderDashOffset:he}))}return this._ticksLength=p,this._borderValue=b,x}_computeLabelItems(e){const n=this.axis,s=this.options,{position:r,ticks:i}=s,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:u,padding:d,mirror:p}=i,g=jo(s.grid),x=g+d,v=p?-d:x,k=-ns(this.labelRotation),S=[];let _,b,j,E,M,O,A,T,q,z,se,ae,fe="middle";if(r==="top")O=this.bottom-v,A=this._getXAxisLabelAlignment();else if(r==="bottom")O=this.top+v,A=this._getXAxisLabelAlignment();else if(r==="left"){const pe=this._getYAxisLabelAlignment(g);A=pe.textAlign,M=pe.x}else if(r==="right"){const pe=this._getYAxisLabelAlignment(g);A=pe.textAlign,M=pe.x}else if(n==="x"){if(r==="center")O=(e.top+e.bottom)/2+x;else if(be(r)){const pe=Object.keys(r)[0],me=r[pe];O=this.chart.scales[pe].getPixelForValue(me)+x}A=this._getXAxisLabelAlignment()}else if(n==="y"){if(r==="center")M=(e.left+e.right)/2-x;else if(be(r)){const pe=Object.keys(r)[0],me=r[pe];M=this.chart.scales[pe].getPixelForValue(me)}A=this._getYAxisLabelAlignment(g).textAlign}n==="y"&&(l==="start"?fe="top":l==="end"&&(fe="bottom"));const ce=this._getLabelSizes();for(_=0,b=a.length;_<b;++_){j=a[_],E=j.label;const pe=i.setContext(this.getContext(_));T=this.getPixelForTick(_)+i.labelOffset,q=this._resolveTickFontOptions(_),z=q.lineHeight,se=et(E)?E.length:1;const me=se/2,ve=pe.color,G=pe.textStrokeColor,X=pe.textStrokeWidth;let te=A;o?(M=T,A==="inner"&&(_===b-1?te=this.options.reverse?"left":"right":_===0?te=this.options.reverse?"right":"left":te="center"),r==="top"?u==="near"||k!==0?ae=-se*z+z/2:u==="center"?ae=-ce.highest.height/2-me*z+z:ae=-ce.highest.height+z/2:u==="near"||k!==0?ae=z/2:u==="center"?ae=ce.highest.height/2-me*z:ae=ce.highest.height-se*z,p&&(ae*=-1),k!==0&&!pe.showLabelBackdrop&&(M+=z/2*Math.sin(k))):(O=T,ae=(1-se)*z/2);let B;if(pe.showLabelBackdrop){const ie=un(pe.backdropPadding),P=ce.heights[_],Y=ce.widths[_];let L=ae-ie.top,he=0-ie.left;switch(fe){case"middle":L-=P/2;break;case"bottom":L-=P;break}switch(A){case"center":he-=Y/2;break;case"right":he-=Y;break;case"inner":_===b-1?he-=Y:_>0&&(he-=Y/2);break}B={left:he,top:L,width:Y+ie.width,height:P+ie.height,color:pe.backdropColor}}S.push({label:E,font:q,textOffset:ae,options:{rotation:k,color:ve,strokeColor:G,strokeWidth:X,textAlign:te,textBaseline:fe,translation:[M,O],backdrop:B}})}return S}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-ns(this.labelRotation))return e==="top"?"left":"right";let r="center";return n.align==="start"?r="left":n.align==="end"?r="right":n.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:s,mirror:r,padding:i}}=this.options,o=this._getLabelSizes(),a=e+i,l=o.widest.width;let u,d;return n==="left"?r?(d=this.right+i,s==="near"?u="left":s==="center"?(u="center",d+=l/2):(u="right",d+=l)):(d=this.right-a,s==="near"?u="right":s==="center"?(u="center",d-=l/2):(u="left",d=this.left)):n==="right"?r?(d=this.left+i,s==="near"?u="right":s==="center"?(u="center",d-=l/2):(u="left",d-=l)):(d=this.left+a,s==="near"?u="left":s==="center"?(u="center",d+=l/2):(u="right",d=this.right)):u="right",{textAlign:u,x:d}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:s,top:r,width:i,height:o}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(s,r,i,o),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const r=this.ticks.findIndex(i=>i.value===e);return r>=0?n.setContext(this.getContext(r)).lineWidth:0}drawGrid(e){const n=this.options.grid,s=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let i,o;const a=(l,u,d)=>{!d.width||!d.color||(s.save(),s.lineWidth=d.width,s.strokeStyle=d.color,s.setLineDash(d.borderDash||[]),s.lineDashOffset=d.borderDashOffset,s.beginPath(),s.moveTo(l.x,l.y),s.lineTo(u.x,u.y),s.stroke(),s.restore())};if(n.display)for(i=0,o=r.length;i<o;++i){const l=r[i];n.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:s,grid:r}}=this,i=s.setContext(this.getContext()),o=s.display?i.width:0;if(!o)return;const a=r.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let u,d,p,g;this.isHorizontal()?(u=pr(e,this.left,o)-o/2,d=pr(e,this.right,a)+a/2,p=g=l):(p=pr(e,this.top,o)-o/2,g=pr(e,this.bottom,a)+a/2,u=d=l),n.save(),n.lineWidth=i.width,n.strokeStyle=i.color,n.beginPath(),n.moveTo(u,p),n.lineTo(d,g),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const s=this.ctx,r=this._computeLabelArea();r&&lu(s,r);const i=this.getLabelItems(e);for(const o of i){const a=o.options,l=o.font,u=o.label,d=o.textOffset;Ca(s,u,0,d,l,a)}r&&cu(s)}drawTitle(){const{ctx:e,options:{position:n,title:s,reverse:r}}=this;if(!s.display)return;const i=wt(s.font),o=un(s.padding),a=s.align;let l=i.lineHeight/2;n==="bottom"||n==="center"||be(n)?(l+=o.bottom,et(s.text)&&(l+=i.lineHeight*(s.text.length-1))):l+=o.top;const{titleX:u,titleY:d,maxWidth:p,rotation:g}=VP(this,l,n,a);Ca(e,s.text,0,0,i,{color:s.color,maxWidth:p,rotation:g,textAlign:YP(a,n,r),textBaseline:"middle",translation:[u,d]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,s=xe(e.grid&&e.grid.z,-1),r=xe(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Xi.prototype.draw?[{z:n,draw:i=>{this.draw(i)}}]:[{z:s,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:n,draw:i=>{this.drawLabels(i)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),s=this.axis+"AxisID",r=[];let i,o;for(i=0,o=n.length;i<o;++i){const a=n[i];a[s]===this.id&&(!e||a.type===e)&&r.push(a)}return r}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return wt(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Ll{constructor(e,n,s){this.type=e,this.scope=n,this.override=s,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let s;KP(n)&&(s=this.register(n));const r=this.items,i=e.id,o=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+e);return i in r||(r[i]=e,GP(e,o,s),this.override&&Qe.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const n=this.items,s=e.id,r=this.scope;s in n&&delete n[s],r&&s in Qe[r]&&(delete Qe[r][s],this.override&&delete $r[s])}}function GP(t,e,n){const s=wa(Object.create(null),[n?Qe.get(n):{},Qe.get(e),t.defaults]);Qe.set(e,s),t.defaultRoutes&&qP(e,t.defaultRoutes),t.descriptors&&Qe.describe(e,t.descriptors)}function qP(t,e){Object.keys(e).forEach(n=>{const s=n.split("."),r=s.pop(),i=[t].concat(s).join("."),o=e[n].split("."),a=o.pop(),l=o.join(".");Qe.route(i,r,l,a)})}function KP(t){return"id"in t&&"defaults"in t}class JP{constructor(){this.controllers=new Ll(Tr,"datasets",!0),this.elements=new Ll(kn,"elements"),this.plugins=new Ll(Object,"plugins"),this.scales=new Ll(Xi,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,s){[...n].forEach(r=>{const i=s||this._getRegistryForType(r);s||i.isForType(r)||i===this.plugins&&r.id?this._exec(e,i,r):De(r,o=>{const a=s||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,n,s){const r=Xf(e);Ie(s["before"+r],[],s),n[e](s),Ie(s["after"+r],[],s)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const s=this._typedRegistries[n];if(s.isForType(e))return s}return this.plugins}_get(e,n,s){const r=n.get(e);if(r===void 0)throw new Error('"'+e+'" is not a registered '+s+".");return r}}var Pn=new JP;class XP{constructor(){this._init=[]}notify(e,n,s,r){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const i=r?this._descriptors(e).filter(r):this._descriptors(e),o=this._notify(i,e,n,s);return n==="afterDestroy"&&(this._notify(i,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,n,s,r){r=r||{};for(const i of e){const o=i.plugin,a=o[s],l=[n,r,i.options];if(Ie(a,l,o)===!1&&r.cancelable)return!1}return!0}invalidate(){Me(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const s=e&&e.config,r=xe(s.options&&s.options.plugins,{}),i=QP(s);return r===!1&&!n?[]:eT(e,i,r,n)}_notifyStateChanges(e){const n=this._oldCache||[],s=this._cache,r=(i,o)=>i.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(r(n,s),e,"stop"),this._notify(r(s,n),e,"start")}}function QP(t){const e={},n=[],s=Object.keys(Pn.plugins.items);for(let i=0;i<s.length;i++)n.push(Pn.getPlugin(s[i]));const r=t.plugins||[];for(let i=0;i<r.length;i++){const o=r[i];n.indexOf(o)===-1&&(n.push(o),e[o.id]=!0)}return{plugins:n,localIds:e}}function ZP(t,e){return!e&&t===!1?null:t===!0?{}:t}function eT(t,{plugins:e,localIds:n},s,r){const i=[],o=t.getContext();for(const a of e){const l=a.id,u=ZP(s[l],r);u!==null&&i.push({plugin:a,options:tT(t.config,{plugin:a,local:n[l]},u,o)})}return i}function tT(t,{plugin:e,local:n},s,r){const i=t.pluginScopeKeys(e),o=t.getOptionScopes(s,i);return n&&e.defaults&&o.push(e.defaults),t.createResolver(o,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function $h(t,e){const n=Qe.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function nT(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function sT(t,e){return t===e?"_index_":"_value_"}function m0(t){if(t==="x"||t==="y"||t==="r")return t}function rT(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function zh(t,...e){if(m0(t))return t;for(const n of e){const s=n.axis||rT(n.position)||t.length>1&&m0(t[0].toLowerCase());if(s)return s}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function g0(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function iT(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(s=>s.xAxisID===t||s.yAxisID===t);if(n.length)return g0(t,"x",n[0])||g0(t,"y",n[0])}return{}}function oT(t,e){const n=$r[t.type]||{scales:{}},s=e.scales||{},r=$h(t.type,e),i=Object.create(null);return Object.keys(s).forEach(o=>{const a=s[o];if(!be(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=zh(o,a,iT(o,t),Qe.scales[a.type]),u=sT(l,r),d=n.scales||{};i[o]=qo(Object.create(null),[{axis:l},a,d[l],d[u]])}),t.data.datasets.forEach(o=>{const a=o.type||t.type,l=o.indexAxis||$h(a,e),d=($r[a]||{}).scales||{};Object.keys(d).forEach(p=>{const g=nT(p,l),x=o[g+"AxisID"]||g;i[x]=i[x]||Object.create(null),qo(i[x],[{axis:g},s[x],d[p]])})}),Object.keys(i).forEach(o=>{const a=i[o];qo(a,[Qe.scales[a.type],Qe.scale])}),i}function D_(t){const e=t.options||(t.options={});e.plugins=xe(e.plugins,{}),e.scales=oT(t,e)}function N_(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function aT(t){return t=t||{},t.data=N_(t.data),D_(t),t}const y0=new Map,P_=new Set;function Fl(t,e){let n=y0.get(t);return n||(n=e(),y0.set(t,n),P_.add(n)),n}const Co=(t,e,n)=>{const s=Ir(e,n);s!==void 0&&t.add(s)};class lT{constructor(e){this._config=aT(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=N_(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),D_(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Fl(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return Fl(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return Fl(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,s=this.type;return Fl(`${s}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const s=this._scopeCache;let r=s.get(e);return(!r||n)&&(r=new Map,s.set(e,r)),r}getOptionScopes(e,n,s){const{options:r,type:i}=this,o=this._cachedScopes(e,s),a=o.get(n);if(a)return a;const l=new Set;n.forEach(d=>{e&&(l.add(e),d.forEach(p=>Co(l,e,p))),d.forEach(p=>Co(l,r,p)),d.forEach(p=>Co(l,$r[i]||{},p)),d.forEach(p=>Co(l,Qe,p)),d.forEach(p=>Co(l,Lh,p))});const u=Array.from(l);return u.length===0&&u.push(Object.create(null)),P_.has(n)&&o.set(n,u),u}chartOptionScopes(){const{options:e,type:n}=this;return[e,$r[n]||{},Qe.datasets[n]||{},{type:n},Qe,Lh]}resolveNamedOptions(e,n,s,r=[""]){const i={$shared:!0},{resolver:o,subPrefixes:a}=x0(this._resolverCache,e,r);let l=o;if(uT(o,n)){i.$shared=!1,s=Xs(s)?s():s;const u=this.createResolver(e,s,a);l=Hi(o,s,u)}for(const u of n)i[u]=l[u];return i}createResolver(e,n,s=[""],r){const{resolver:i}=x0(this._resolverCache,e,s);return be(n)?Hi(i,n,void 0,r):i}}function x0(t,e,n){let s=t.get(e);s||(s=new Map,t.set(e,s));const r=n.join();let i=s.get(r);return i||(i={resolver:sp(e,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},s.set(r,i)),i}const cT=t=>be(t)&&Object.getOwnPropertyNames(t).some(e=>Xs(t[e]));function uT(t,e){const{isScriptable:n,isIndexable:s}=u_(t);for(const r of e){const i=n(r),o=s(r),a=(o||i)&&t[r];if(i&&(Xs(a)||cT(a))||o&&et(a))return!0}return!1}var dT="4.4.9";const hT=["top","bottom","left","right","chartArea"];function v0(t,e){return t==="top"||t==="bottom"||hT.indexOf(t)===-1&&e==="x"}function _0(t,e){return function(n,s){return n[t]===s[t]?n[e]-s[e]:n[t]-s[t]}}function w0(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),Ie(n&&n.onComplete,[t],e)}function fT(t){const e=t.chart,n=e.options.animation;Ie(n&&n.onProgress,[t],e)}function T_(t){return op()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const nc={},b0=t=>{const e=T_(t);return Object.values(nc).filter(n=>n.canvas===e).pop()};function pT(t,e,n){const s=Object.keys(t);for(const r of s){const i=+r;if(i>=e){const o=t[r];delete t[r],(n>0||i>e)&&(t[i+n]=o)}}}function mT(t,e,n,s){return!n||t.type==="mouseout"?null:s?e:t}var Ss;let Qi=(Ss=class{static register(...e){Pn.add(...e),k0()}static unregister(...e){Pn.remove(...e),k0()}constructor(e,n){const s=this.config=new lT(n),r=T_(e),i=b0(r);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const o=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||OP(r)),this.platform.updateConfig(s);const a=this.platform.acquireContext(r,o.aspectRatio),l=a&&a.canvas,u=l&&l.height,d=l&&l.width;if(this.id=fD(),this.ctx=a,this.canvas=l,this.width=d,this.height=u,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new XP,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=TD(p=>this.update(p),o.resizeDelay||0),this._dataChanges=[],nc[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}qn.listen(this,"complete",w0),qn.listen(this,"progress",fT),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:s,height:r,_aspectRatio:i}=this;return Me(e)?n&&i?i:r?s/r:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Pn}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Yg(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Ug(this.canvas,this.ctx),this}stop(){return qn.stop(this),this}resize(e,n){qn.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const s=this.options,r=this.canvas,i=s.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(r,e,n,i),a=s.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,Yg(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),Ie(s.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};De(n,(s,r)=>{s.id=r})}buildOrUpdateScales(){const e=this.options,n=e.scales,s=this.scales,r=Object.keys(s).reduce((o,a)=>(o[a]=!1,o),{});let i=[];n&&(i=i.concat(Object.keys(n).map(o=>{const a=n[o],l=zh(o,a),u=l==="r",d=l==="x";return{options:a,dposition:u?"chartArea":d?"bottom":"left",dtype:u?"radialLinear":d?"category":"linear"}}))),De(i,o=>{const a=o.options,l=a.id,u=zh(l,a),d=xe(a.type,o.dtype);(a.position===void 0||v0(a.position,u)!==v0(o.dposition))&&(a.position=o.dposition),r[l]=!0;let p=null;if(l in s&&s[l].type===d)p=s[l];else{const g=Pn.getScale(d);p=new g({id:l,type:d,ctx:this.ctx,chart:this}),s[p.id]=p}p.init(a,e)}),De(r,(o,a)=>{o||delete s[a]}),De(s,o=>{on.configure(this,o,o.options),on.addBox(this,o)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,s=e.length;if(e.sort((r,i)=>r.index-i.index),s>n){for(let r=n;r<s;++r)this._destroyDatasetMeta(r);e.splice(n,s-n)}this._sortedMetasets=e.slice(0).sort(_0("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((s,r)=>{n.filter(i=>i===s._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let s,r;for(this._removeUnreferencedMetasets(),s=0,r=n.length;s<r;s++){const i=n[s];let o=this.getDatasetMeta(s);const a=i.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(s),o=this.getDatasetMeta(s)),o.type=a,o.indexAxis=i.indexAxis||$h(a,this.options),o.order=i.order||0,o.index=s,o.label=""+i.label,o.visible=this.isDatasetVisible(s),o.controller)o.controller.updateIndex(s),o.controller.linkScales();else{const l=Pn.getController(a),{datasetElementType:u,dataElementType:d}=Qe.datasets[a];Object.assign(l,{dataElementType:Pn.getElement(d),datasetElementType:u&&Pn.getElement(u)}),o.controller=new l(this,s),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){De(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const s=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!s.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let u=0,d=this.data.datasets.length;u<d;u++){const{controller:p}=this.getDatasetMeta(u),g=!r&&i.indexOf(p)===-1;p.buildOrUpdateElements(g),o=Math.max(+p.getMaxOverflow(),o)}o=this._minPadding=s.layout.autoPadding?o:0,this._updateLayout(o),r||De(i,u=>{u.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(_0("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){De(this.scales,e=>{on.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),s=new Set(e.events);(!Tg(n,s)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:s,start:r,count:i}of n){const o=s==="_removeElements"?-i:i;pT(e,r,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,s=i=>new Set(e.filter(o=>o[0]===i).map((o,a)=>a+","+o.splice(1).join(","))),r=s(0);for(let i=1;i<n;i++)if(!Tg(r,s(i)))return;return Array.from(r).map(i=>i.split(",")).map(i=>({method:i[1],start:+i[2],count:+i[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;on.update(this,this.width,this.height,e);const n=this.chartArea,s=n.width<=0||n.height<=0;this._layers=[],De(this.boxes,r=>{s&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,i)=>{r._idx=i}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,s=this.data.datasets.length;n<s;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,s=this.data.datasets.length;n<s;++n)this._updateDataset(n,Xs(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const s=this.getDatasetMeta(e),r={meta:s,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(s.controller._update(n),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(qn.has(this)?this.attached&&!qn.running(this)&&qn.start(this):(this.draw(),w0({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:s,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(s,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,s=[];let r,i;for(r=0,i=n.length;r<i;++r){const o=n[r];(!e||o.visible)&&s.push(o)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,s={meta:e,index:e.index,cancelable:!0},r=__(this,e);this.notifyPlugins("beforeDatasetDraw",s)!==!1&&(r&&lu(n,r),e.controller.draw(),r&&cu(n),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(e){return ja(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,s,r){const i=hP.modes[n];return typeof i=="function"?i(this,e,s,r):[]}getDatasetMeta(e){const n=this.data.datasets[e],s=this._metasets;let r=s.filter(i=>i&&i._dataset===n).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},s.push(r)),r}getContext(){return this.$context||(this.$context=Vr(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const s=this.getDatasetMeta(e);return typeof s.hidden=="boolean"?!s.hidden:!n.hidden}setDatasetVisibility(e,n){const s=this.getDatasetMeta(e);s.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,s){const r=s?"show":"hide",i=this.getDatasetMeta(e),o=i.controller._resolveAnimations(void 0,r);ba(n)?(i.data[n].hidden=!s,this.update()):(this.setDatasetVisibility(e,s),o.update(i,{visible:s}),this.update(a=>a.datasetIndex===e?r:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),qn.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),Ug(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete nc[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,s=(i,o)=>{n.addEventListener(this,i,o),e[i]=o},r=(i,o,a)=>{i.offsetX=o,i.offsetY=a,this._eventHandler(i)};De(this.options.events,i=>s(i,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,s=(l,u)=>{n.addEventListener(this,l,u),e[l]=u},r=(l,u)=>{e[l]&&(n.removeEventListener(this,l,u),delete e[l])},i=(l,u)=>{this.canvas&&this.resize(l,u)};let o;const a=()=>{r("attach",a),this.attached=!0,this.resize(),s("resize",i),s("detach",o)};o=()=>{this.attached=!1,r("resize",i),this._stop(),this._resize(0,0),s("attach",a)},n.isAttached(this.canvas)?a():o()}unbindEvents(){De(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},De(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,s){const r=s?"set":"remove";let i,o,a,l;for(n==="dataset"&&(i=this.getDatasetMeta(e[0].datasetIndex),i.controller["_"+r+"DatasetHoverStyle"]()),a=0,l=e.length;a<l;++a){o=e[a];const u=o&&this.getDatasetMeta(o.datasetIndex).controller;u&&u[r+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],s=e.map(({datasetIndex:i,index:o})=>{const a=this.getDatasetMeta(i);if(!a)throw new Error("No dataset found at index "+i);return{datasetIndex:i,element:a.data[o],index:o}});!Dc(s,n)&&(this._active=s,this._lastEvent=null,this._updateHoverStyles(s,n))}notifyPlugins(e,n,s){return this._plugins.notify(this,e,n,s)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,s){const r=this.options.hover,i=(l,u)=>l.filter(d=>!u.some(p=>d.datasetIndex===p.datasetIndex&&d.index===p.index)),o=i(n,e),a=s?e:i(e,n);o.length&&this.updateHoverStyle(o,r.mode,!1),a.length&&r.mode&&this.updateHoverStyle(a,r.mode,!0)}_eventHandler(e,n){const s={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},r=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",s,r)===!1)return;const i=this._handleEvent(e,n,s.inChartArea);return s.cancelable=!1,this.notifyPlugins("afterEvent",s,r),(i||s.changed)&&this.render(),this}_handleEvent(e,n,s){const{_active:r=[],options:i}=this,o=n,a=this._getActiveElements(e,r,s,o),l=vD(e),u=mT(e,this._lastEvent,s,l);s&&(this._lastEvent=null,Ie(i.onHover,[e,a,this],this),l&&Ie(i.onClick,[e,a,this],this));const d=!Dc(a,r);return(d||n)&&(this._active=a,this._updateHoverStyles(a,r,n)),this._lastEvent=u,d}_getActiveElements(e,n,s,r){if(e.type==="mouseout")return[];if(!s)return n;const i=this.options.hover;return this.getElementsAtEventForMode(e,i.mode,i,r)}},re(Ss,"defaults",Qe),re(Ss,"instances",nc),re(Ss,"overrides",$r),re(Ss,"registry",Pn),re(Ss,"version",dT),re(Ss,"getChart",b0),Ss);function k0(){return De(Qi.instances,t=>t._plugins.invalidate())}function gT(t,e,n){const{startAngle:s,pixelMargin:r,x:i,y:o,outerRadius:a,innerRadius:l}=e;let u=r/a;t.beginPath(),t.arc(i,o,a,s-u,n+u),l>r?(u=r/l,t.arc(i,o,l,n+u,s-u,!0)):t.arc(i,o,r,n+at,s-at),t.closePath(),t.clip()}function yT(t){return np(t,["outerStart","outerEnd","innerStart","innerEnd"])}function xT(t,e,n,s){const r=yT(t.options.borderRadius),i=(n-e)/2,o=Math.min(i,s*e/2),a=l=>{const u=(n-Math.min(i,l))*s/2;return _t(l,0,Math.min(i,u))};return{outerStart:a(r.outerStart),outerEnd:a(r.outerEnd),innerStart:_t(r.innerStart,0,o),innerEnd:_t(r.innerEnd,0,o)}}function di(t,e,n,s){return{x:n+t*Math.cos(e),y:s+t*Math.sin(e)}}function Rc(t,e,n,s,r,i){const{x:o,y:a,startAngle:l,pixelMargin:u,innerRadius:d}=e,p=Math.max(e.outerRadius+s+n-u,0),g=d>0?d+s+n+u:0;let x=0;const v=r-l;if(s){const pe=d>0?d-s:0,me=p>0?p-s:0,ve=(pe+me)/2,G=ve!==0?v*ve/(ve+s):v;x=(v-G)/2}const k=Math.max(.001,v*p-n/Je)/p,S=(v-k)/2,_=l+S+x,b=r-S-x,{outerStart:j,outerEnd:E,innerStart:M,innerEnd:O}=xT(e,g,p,b-_),A=p-j,T=p-E,q=_+j/A,z=b-E/T,se=g+M,ae=g+O,fe=_+M/se,ce=b-O/ae;if(t.beginPath(),i){const pe=(q+z)/2;if(t.arc(o,a,p,q,pe),t.arc(o,a,p,pe,z),E>0){const X=di(T,z,o,a);t.arc(X.x,X.y,E,z,b+at)}const me=di(ae,b,o,a);if(t.lineTo(me.x,me.y),O>0){const X=di(ae,ce,o,a);t.arc(X.x,X.y,O,b+at,ce+Math.PI)}const ve=(b-O/g+(_+M/g))/2;if(t.arc(o,a,g,b-O/g,ve,!0),t.arc(o,a,g,ve,_+M/g,!0),M>0){const X=di(se,fe,o,a);t.arc(X.x,X.y,M,fe+Math.PI,_-at)}const G=di(A,_,o,a);if(t.lineTo(G.x,G.y),j>0){const X=di(A,q,o,a);t.arc(X.x,X.y,j,_-at,q)}}else{t.moveTo(o,a);const pe=Math.cos(q)*p+o,me=Math.sin(q)*p+a;t.lineTo(pe,me);const ve=Math.cos(z)*p+o,G=Math.sin(z)*p+a;t.lineTo(ve,G)}t.closePath()}function vT(t,e,n,s,r){const{fullCircles:i,startAngle:o,circumference:a}=e;let l=e.endAngle;if(i){Rc(t,e,n,s,l,r);for(let u=0;u<i;++u)t.fill();isNaN(a)||(l=o+(a%He||He))}return Rc(t,e,n,s,l,r),t.fill(),l}function _T(t,e,n,s,r){const{fullCircles:i,startAngle:o,circumference:a,options:l}=e,{borderWidth:u,borderJoinStyle:d,borderDash:p,borderDashOffset:g}=l,x=l.borderAlign==="inner";if(!u)return;t.setLineDash(p||[]),t.lineDashOffset=g,x?(t.lineWidth=u*2,t.lineJoin=d||"round"):(t.lineWidth=u,t.lineJoin=d||"bevel");let v=e.endAngle;if(i){Rc(t,e,n,s,v,r);for(let k=0;k<i;++k)t.stroke();isNaN(a)||(v=o+(a%He||He))}x&&gT(t,e,v),i||(Rc(t,e,n,s,v,r),t.stroke())}class Er extends kn{constructor(n){super();re(this,"circumference");re(this,"endAngle");re(this,"fullCircles");re(this,"innerRadius");re(this,"outerRadius");re(this,"pixelMargin");re(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,s,r){const i=this.getProps(["x","y"],r),{angle:o,distance:a}=n_(i,{x:n,y:s}),{startAngle:l,endAngle:u,innerRadius:d,outerRadius:p,circumference:g}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),x=(this.options.spacing+this.options.borderWidth)/2,v=xe(g,u-l),k=Sa(o,l,u)&&l!==u,S=v>=He||k,_=ss(a,d+x,p+x);return S&&_}getCenterPoint(n){const{x:s,y:r,startAngle:i,endAngle:o,innerRadius:a,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:u,spacing:d}=this.options,p=(i+o)/2,g=(a+l+d+u)/2;return{x:s+Math.cos(p)*g,y:r+Math.sin(p)*g}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:s,circumference:r}=this,i=(s.offset||0)/4,o=(s.spacing||0)/2,a=s.circular;if(this.pixelMargin=s.borderAlign==="inner"?.33:0,this.fullCircles=r>He?Math.floor(r/He):0,r===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const l=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(l)*i,Math.sin(l)*i);const u=1-Math.sin(Math.min(Je,r||0)),d=i*u;n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,vT(n,this,d,o,a),_T(n,this,d,o,a),n.restore()}}re(Er,"id","arc"),re(Er,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),re(Er,"defaultRoutes",{backgroundColor:"backgroundColor"}),re(Er,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function O_(t,e,n=e){t.lineCap=xe(n.borderCapStyle,e.borderCapStyle),t.setLineDash(xe(n.borderDash,e.borderDash)),t.lineDashOffset=xe(n.borderDashOffset,e.borderDashOffset),t.lineJoin=xe(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=xe(n.borderWidth,e.borderWidth),t.strokeStyle=xe(n.borderColor,e.borderColor)}function wT(t,e,n){t.lineTo(n.x,n.y)}function bT(t){return t.stepped?VD:t.tension||t.cubicInterpolationMode==="monotone"?GD:wT}function A_(t,e,n={}){const s=t.length,{start:r=0,end:i=s-1}=n,{start:o,end:a}=e,l=Math.max(r,o),u=Math.min(i,a),d=r<o&&i<o||r>a&&i>a;return{count:s,start:l,loop:e.loop,ilen:u<l&&!d?s+u-l:u-l}}function kT(t,e,n,s){const{points:r,options:i}=e,{count:o,start:a,loop:l,ilen:u}=A_(r,n,s),d=bT(i);let{move:p=!0,reverse:g}=s||{},x,v,k;for(x=0;x<=u;++x)v=r[(a+(g?u-x:x))%o],!v.skip&&(p?(t.moveTo(v.x,v.y),p=!1):d(t,k,v,g,i.stepped),k=v);return l&&(v=r[(a+(g?u:0))%o],d(t,k,v,g,i.stepped)),!!l}function ST(t,e,n,s){const r=e.points,{count:i,start:o,ilen:a}=A_(r,n,s),{move:l=!0,reverse:u}=s||{};let d=0,p=0,g,x,v,k,S,_;const b=E=>(o+(u?a-E:E))%i,j=()=>{k!==S&&(t.lineTo(d,S),t.lineTo(d,k),t.lineTo(d,_))};for(l&&(x=r[b(0)],t.moveTo(x.x,x.y)),g=0;g<=a;++g){if(x=r[b(g)],x.skip)continue;const E=x.x,M=x.y,O=E|0;O===v?(M<k?k=M:M>S&&(S=M),d=(p*d+E)/++p):(j(),t.lineTo(E,M),v=O,p=0,k=S=M),_=M}j()}function Bh(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?ST:kT}function jT(t){return t.stepped?jN:t.tension||t.cubicInterpolationMode==="monotone"?CN:_r}function CT(t,e,n,s){let r=e._path;r||(r=e._path=new Path2D,e.path(r,n,s)&&r.closePath()),O_(t,e.options),t.stroke(r)}function ET(t,e,n,s){const{segments:r,options:i}=e,o=Bh(e);for(const a of r)O_(t,i,a.style),t.beginPath(),o(t,e,a,{start:n,end:n+s-1})&&t.closePath(),t.stroke()}const MT=typeof Path2D=="function";function DT(t,e,n,s){MT&&!e.options.segment?CT(t,e,n,s):ET(t,e,n,s)}class rs extends kn{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const s=this.options;if((s.tension||s.cubicInterpolationMode==="monotone")&&!s.stepped&&!this._pointsUpdated){const r=s.spanGaps?this._loop:this._fullLoop;yN(this._points,s,e,r,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=TN(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,s=e.length;return s&&n[e[s-1].end]}interpolate(e,n){const s=this.options,r=e[n],i=this.points,o=v_(this,{property:n,start:r,end:r});if(!o.length)return;const a=[],l=jT(s);let u,d;for(u=0,d=o.length;u<d;++u){const{start:p,end:g}=o[u],x=i[p],v=i[g];if(x===v){a.push(x);continue}const k=Math.abs((r-x[n])/(v[n]-x[n])),S=l(x,v,k,s.stepped);S[n]=e[n],a.push(S)}return a.length===1?a[0]:a}pathSegment(e,n,s){return Bh(this)(e,this,n,s)}path(e,n,s){const r=this.segments,i=Bh(this);let o=this._loop;n=n||0,s=s||this.points.length-n;for(const a of r)o&=i(e,this,a,{start:n,end:n+s-1});return!!o}draw(e,n,s,r){const i=this.options||{};(this.points||[]).length&&i.borderWidth&&(e.save(),DT(e,this,s,r),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}re(rs,"id","line"),re(rs,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),re(rs,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),re(rs,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function S0(t,e,n,s){const r=t.options,{[n]:i}=t.getProps([n],s);return Math.abs(e-i)<r.radius+r.hitRadius}class Qo extends kn{constructor(n){super();re(this,"parsed");re(this,"skip");re(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,s,r){const i=this.options,{x:o,y:a}=this.getProps(["x","y"],r);return Math.pow(n-o,2)+Math.pow(s-a,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(n,s){return S0(this,n,"x",s)}inYRange(n,s){return S0(this,n,"y",s)}getCenterPoint(n){const{x:s,y:r}=this.getProps(["x","y"],n);return{x:s,y:r}}size(n){n=n||this.options||{};let s=n.radius||0;s=Math.max(s,s&&n.hoverRadius||0);const r=s&&n.borderWidth||0;return(s+r)*2}draw(n,s){const r=this.options;this.skip||r.radius<.1||!ja(this,s,this.size(r)/2)||(n.strokeStyle=r.borderColor,n.lineWidth=r.borderWidth,n.fillStyle=r.backgroundColor,Fh(n,r,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}re(Qo,"id","point"),re(Qo,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),re(Qo,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function R_(t,e){const{x:n,y:s,base:r,width:i,height:o}=t.getProps(["x","y","base","width","height"],e);let a,l,u,d,p;return t.horizontal?(p=o/2,a=Math.min(n,r),l=Math.max(n,r),u=s-p,d=s+p):(p=i/2,a=n-p,l=n+p,u=Math.min(s,r),d=Math.max(s,r)),{left:a,top:u,right:l,bottom:d}}function $s(t,e,n,s){return t?0:_t(e,n,s)}function NT(t,e,n){const s=t.options.borderWidth,r=t.borderSkipped,i=c_(s);return{t:$s(r.top,i.top,0,n),r:$s(r.right,i.right,0,e),b:$s(r.bottom,i.bottom,0,n),l:$s(r.left,i.left,0,e)}}function PT(t,e,n){const{enableBorderRadius:s}=t.getProps(["enableBorderRadius"]),r=t.options.borderRadius,i=Oi(r),o=Math.min(e,n),a=t.borderSkipped,l=s||be(r);return{topLeft:$s(!l||a.top||a.left,i.topLeft,0,o),topRight:$s(!l||a.top||a.right,i.topRight,0,o),bottomLeft:$s(!l||a.bottom||a.left,i.bottomLeft,0,o),bottomRight:$s(!l||a.bottom||a.right,i.bottomRight,0,o)}}function TT(t){const e=R_(t),n=e.right-e.left,s=e.bottom-e.top,r=NT(t,n/2,s/2),i=PT(t,n/2,s/2);return{outer:{x:e.left,y:e.top,w:n,h:s,radius:i},inner:{x:e.left+r.l,y:e.top+r.t,w:n-r.l-r.r,h:s-r.t-r.b,radius:{topLeft:Math.max(0,i.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,i.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,i.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,i.bottomRight-Math.max(r.b,r.r))}}}}function kd(t,e,n,s){const r=e===null,i=n===null,a=t&&!(r&&i)&&R_(t,s);return a&&(r||ss(e,a.left,a.right))&&(i||ss(n,a.top,a.bottom))}function OT(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function AT(t,e){t.rect(e.x,e.y,e.w,e.h)}function Sd(t,e,n={}){const s=t.x!==n.x?-e:0,r=t.y!==n.y?-e:0,i=(t.x+t.w!==n.x+n.w?e:0)-s,o=(t.y+t.h!==n.y+n.h?e:0)-r;return{x:t.x+s,y:t.y+r,w:t.w+i,h:t.h+o,radius:t.radius}}class Zo extends kn{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:s,backgroundColor:r}}=this,{inner:i,outer:o}=TT(this),a=OT(o.radius)?Tc:AT;e.save(),(o.w!==i.w||o.h!==i.h)&&(e.beginPath(),a(e,Sd(o,n,i)),e.clip(),a(e,Sd(i,-n,o)),e.fillStyle=s,e.fill("evenodd")),e.beginPath(),a(e,Sd(i,n)),e.fillStyle=r,e.fill(),e.restore()}inRange(e,n,s){return kd(this,e,n,s)}inXRange(e,n){return kd(this,e,null,n)}inYRange(e,n){return kd(this,null,e,n)}getCenterPoint(e){const{x:n,y:s,base:r,horizontal:i}=this.getProps(["x","y","base","horizontal"],e);return{x:i?(n+r)/2:n,y:i?s:(s+r)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}re(Zo,"id","bar"),re(Zo,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),re(Zo,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function RT(t,e,n){const s=t.segments,r=t.points,i=e.points,o=[];for(const a of s){let{start:l,end:u}=a;u=cp(l,u,r);const d=Uh(n,r[l],r[u],a.loop);if(!e.segments){o.push({source:a,target:d,start:r[l],end:r[u]});continue}const p=v_(e,d);for(const g of p){const x=Uh(n,i[g.start],i[g.end],g.loop),v=x_(a,r,x);for(const k of v)o.push({source:k,target:g,start:{[n]:j0(d,x,"start",Math.max)},end:{[n]:j0(d,x,"end",Math.min)}})}}return o}function Uh(t,e,n,s){if(s)return;let r=e[t],i=n[t];return t==="angle"&&(r=Tn(r),i=Tn(i)),{property:t,start:r,end:i}}function LT(t,e){const{x:n=null,y:s=null}=t||{},r=e.points,i=[];return e.segments.forEach(({start:o,end:a})=>{a=cp(o,a,r);const l=r[o],u=r[a];s!==null?(i.push({x:l.x,y:s}),i.push({x:u.x,y:s})):n!==null&&(i.push({x:n,y:l.y}),i.push({x:n,y:u.y}))}),i}function cp(t,e,n){for(;e>t;e--){const s=n[e];if(!isNaN(s.x)&&!isNaN(s.y))break}return e}function j0(t,e,n,s){return t&&e?s(t[n],e[n]):t?t[n]:e?e[n]:0}function L_(t,e){let n=[],s=!1;return et(t)?(s=!0,n=t):n=LT(t,e),n.length?new rs({points:n,options:{tension:0},_loop:s,_fullLoop:s}):null}function C0(t){return t&&t.fill!==!1}function FT(t,e,n){let r=t[e].fill;const i=[e];let o;if(!n)return r;for(;r!==!1&&i.indexOf(r)===-1;){if(!kt(r))return r;if(o=t[r],!o)return!1;if(o.visible)return r;i.push(r),r=o.fill}return!1}function IT(t,e,n){const s=UT(t);if(be(s))return isNaN(s.value)?!1:s;let r=parseFloat(s);return kt(r)&&Math.floor(r)===r?$T(s[0],e,r,n):["origin","start","end","stack","shape"].indexOf(s)>=0&&s}function $T(t,e,n,s){return(t==="-"||t==="+")&&(n=e+n),n===e||n<0||n>=s?!1:n}function zT(t,e){let n=null;return t==="start"?n=e.bottom:t==="end"?n=e.top:be(t)?n=e.getPixelForValue(t.value):e.getBasePixel&&(n=e.getBasePixel()),n}function BT(t,e,n){let s;return t==="start"?s=n:t==="end"?s=e.options.reverse?e.min:e.max:be(t)?s=t.value:s=e.getBaseValue(),s}function UT(t){const e=t.options,n=e.fill;let s=xe(n&&n.target,n);return s===void 0&&(s=!!e.backgroundColor),s===!1||s===null?!1:s===!0?"origin":s}function WT(t){const{scale:e,index:n,line:s}=t,r=[],i=s.segments,o=s.points,a=HT(e,n);a.push(L_({x:null,y:e.bottom},s));for(let l=0;l<i.length;l++){const u=i[l];for(let d=u.start;d<=u.end;d++)YT(r,o[d],a)}return new rs({points:r,options:{}})}function HT(t,e){const n=[],s=t.getMatchingVisibleMetas("line");for(let r=0;r<s.length;r++){const i=s[r];if(i.index===e)break;i.hidden||n.unshift(i.dataset)}return n}function YT(t,e,n){const s=[];for(let r=0;r<n.length;r++){const i=n[r],{first:o,last:a,point:l}=VT(i,e,"x");if(!(!l||o&&a)){if(o)s.unshift(l);else if(t.push(l),!a)break}}t.push(...s)}function VT(t,e,n){const s=t.interpolate(e,n);if(!s)return{};const r=s[n],i=t.segments,o=t.points;let a=!1,l=!1;for(let u=0;u<i.length;u++){const d=i[u],p=o[d.start][n],g=o[d.end][n];if(ss(r,p,g)){a=r===p,l=r===g;break}}return{first:a,last:l,point:s}}class F_{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,n,s){const{x:r,y:i,radius:o}=this;return n=n||{start:0,end:He},e.arc(r,i,o,n.end,n.start,!0),!s.bounds}interpolate(e){const{x:n,y:s,radius:r}=this,i=e.angle;return{x:n+Math.cos(i)*r,y:s+Math.sin(i)*r,angle:i}}}function GT(t){const{chart:e,fill:n,line:s}=t;if(kt(n))return qT(e,n);if(n==="stack")return WT(t);if(n==="shape")return!0;const r=KT(t);return r instanceof F_?r:L_(r,s)}function qT(t,e){const n=t.getDatasetMeta(e);return n&&t.isDatasetVisible(e)?n.dataset:null}function KT(t){return(t.scale||{}).getPointPositionForValue?XT(t):JT(t)}function JT(t){const{scale:e={},fill:n}=t,s=zT(n,e);if(kt(s)){const r=e.isHorizontal();return{x:r?s:null,y:r?null:s}}return null}function XT(t){const{scale:e,fill:n}=t,s=e.options,r=e.getLabels().length,i=s.reverse?e.max:e.min,o=BT(n,e,i),a=[];if(s.grid.circular){const l=e.getPointPositionForValue(0,i);return new F_({x:l.x,y:l.y,radius:e.getDistanceFromCenterForValue(o)})}for(let l=0;l<r;++l)a.push(e.getPointPositionForValue(l,o));return a}function jd(t,e,n){const s=GT(e),{chart:r,index:i,line:o,scale:a,axis:l}=e,u=o.options,d=u.fill,p=u.backgroundColor,{above:g=p,below:x=p}=d||{},v=r.getDatasetMeta(i),k=__(r,v);s&&o.points.length&&(lu(t,n),QT(t,{line:o,target:s,above:g,below:x,area:n,scale:a,axis:l,clip:k}),cu(t))}function QT(t,e){const{line:n,target:s,above:r,below:i,area:o,scale:a,clip:l}=e,u=n._loop?"angle":e.axis;t.save(),u==="x"&&i!==r&&(E0(t,s,o.top),M0(t,{line:n,target:s,color:r,scale:a,property:u,clip:l}),t.restore(),t.save(),E0(t,s,o.bottom)),M0(t,{line:n,target:s,color:i,scale:a,property:u,clip:l}),t.restore()}function E0(t,e,n){const{segments:s,points:r}=e;let i=!0,o=!1;t.beginPath();for(const a of s){const{start:l,end:u}=a,d=r[l],p=r[cp(l,u,r)];i?(t.moveTo(d.x,d.y),i=!1):(t.lineTo(d.x,n),t.lineTo(d.x,d.y)),o=!!e.pathSegment(t,a,{move:o}),o?t.closePath():t.lineTo(p.x,n)}t.lineTo(e.first().x,n),t.closePath(),t.clip()}function M0(t,e){const{line:n,target:s,property:r,color:i,scale:o,clip:a}=e,l=RT(n,s,r);for(const{source:u,target:d,start:p,end:g}of l){const{style:{backgroundColor:x=i}={}}=u,v=s!==!0;t.save(),t.fillStyle=x,ZT(t,o,a,v&&Uh(r,p,g)),t.beginPath();const k=!!n.pathSegment(t,u);let S;if(v){k?t.closePath():D0(t,s,g,r);const _=!!s.pathSegment(t,d,{move:k,reverse:!0});S=k&&_,S||D0(t,s,p,r)}t.closePath(),t.fill(S?"evenodd":"nonzero"),t.restore()}}function ZT(t,e,n,s){const r=e.chart.chartArea,{property:i,start:o,end:a}=s||{};if(i==="x"||i==="y"){let l,u,d,p;i==="x"?(l=o,u=r.top,d=a,p=r.bottom):(l=r.left,u=o,d=r.right,p=a),t.beginPath(),n&&(l=Math.max(l,n.left),d=Math.min(d,n.right),u=Math.max(u,n.top),p=Math.min(p,n.bottom)),t.rect(l,u,d-l,p-u),t.clip()}}function D0(t,e,n,s){const r=e.interpolate(n,s);r&&t.lineTo(r.x,r.y)}var I_={id:"filler",afterDatasetsUpdate(t,e,n){const s=(t.data.datasets||[]).length,r=[];let i,o,a,l;for(o=0;o<s;++o)i=t.getDatasetMeta(o),a=i.dataset,l=null,a&&a.options&&a instanceof rs&&(l={visible:t.isDatasetVisible(o),index:o,fill:IT(a,o,s),chart:t,axis:i.controller.options.indexAxis,scale:i.vScale,line:a}),i.$filler=l,r.push(l);for(o=0;o<s;++o)l=r[o],!(!l||l.fill===!1)&&(l.fill=FT(r,o,n.propagate))},beforeDraw(t,e,n){const s=n.drawTime==="beforeDraw",r=t.getSortedVisibleDatasetMetas(),i=t.chartArea;for(let o=r.length-1;o>=0;--o){const a=r[o].$filler;a&&(a.line.updateControlPoints(i,a.axis),s&&a.fill&&jd(t.ctx,a,i))}},beforeDatasetsDraw(t,e,n){if(n.drawTime!=="beforeDatasetsDraw")return;const s=t.getSortedVisibleDatasetMetas();for(let r=s.length-1;r>=0;--r){const i=s[r].$filler;C0(i)&&jd(t.ctx,i,t.chartArea)}},beforeDatasetDraw(t,e,n){const s=e.meta.$filler;!C0(s)||n.drawTime!=="beforeDatasetDraw"||jd(t.ctx,s,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const N0=(t,e)=>{let{boxHeight:n=e,boxWidth:s=e}=t;return t.usePointStyle&&(n=Math.min(n,e),s=t.pointStyleWidth||Math.min(s,e)),{boxWidth:s,boxHeight:n,itemHeight:Math.max(e,n)}},eO=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class P0 extends kn{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,s){this.maxWidth=e,this.maxHeight=n,this._margins=s,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=Ie(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(s=>e.filter(s,this.chart.data))),e.sort&&(n=n.sort((s,r)=>e.sort(s,r,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const s=e.labels,r=wt(s.font),i=r.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=N0(s,i);let u,d;n.font=r.string,this.isHorizontal()?(u=this.maxWidth,d=this._fitRows(o,i,a,l)+10):(d=this.maxHeight,u=this._fitCols(o,r,a,l)+10),this.width=Math.min(u,e.maxWidth||this.maxWidth),this.height=Math.min(d,e.maxHeight||this.maxHeight)}_fitRows(e,n,s,r){const{ctx:i,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],u=this.lineWidths=[0],d=r+a;let p=e;i.textAlign="left",i.textBaseline="middle";let g=-1,x=-d;return this.legendItems.forEach((v,k)=>{const S=s+n/2+i.measureText(v.text).width;(k===0||u[u.length-1]+S+2*a>o)&&(p+=d,u[u.length-(k>0?0:1)]=0,x+=d,g++),l[k]={left:0,top:x,row:g,width:S,height:r},u[u.length-1]+=S+a}),p}_fitCols(e,n,s,r){const{ctx:i,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],u=this.columnSizes=[],d=o-e;let p=a,g=0,x=0,v=0,k=0;return this.legendItems.forEach((S,_)=>{const{itemWidth:b,itemHeight:j}=tO(s,n,i,S,r);_>0&&x+j+2*a>d&&(p+=g+a,u.push({width:g,height:x}),v+=g+a,k++,g=x=0),l[_]={left:v,top:x,col:k,width:b,height:j},g=Math.max(g,b),x+=j+a}),p+=g,u.push({width:g,height:x}),p}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:s,labels:{padding:r},rtl:i}}=this,o=Ai(i,this.left,this.width);if(this.isHorizontal()){let a=0,l=xt(s,this.left+r,this.right-this.lineWidths[a]);for(const u of n)a!==u.row&&(a=u.row,l=xt(s,this.left+r,this.right-this.lineWidths[a])),u.top+=this.top+e+r,u.left=o.leftForLtr(o.x(l),u.width),l+=u.width+r}else{let a=0,l=xt(s,this.top+e+r,this.bottom-this.columnSizes[a].height);for(const u of n)u.col!==a&&(a=u.col,l=xt(s,this.top+e+r,this.bottom-this.columnSizes[a].height)),u.top=l,u.left+=this.left+r,u.left=o.leftForLtr(o.x(u.left),u.width),l+=u.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;lu(e,this),this._draw(),cu(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:s,ctx:r}=this,{align:i,labels:o}=e,a=Qe.color,l=Ai(e.rtl,this.left,this.width),u=wt(o.font),{padding:d}=o,p=u.size,g=p/2;let x;this.drawTitle(),r.textAlign=l.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=u.string;const{boxWidth:v,boxHeight:k,itemHeight:S}=N0(o,p),_=function(O,A,T){if(isNaN(v)||v<=0||isNaN(k)||k<0)return;r.save();const q=xe(T.lineWidth,1);if(r.fillStyle=xe(T.fillStyle,a),r.lineCap=xe(T.lineCap,"butt"),r.lineDashOffset=xe(T.lineDashOffset,0),r.lineJoin=xe(T.lineJoin,"miter"),r.lineWidth=q,r.strokeStyle=xe(T.strokeStyle,a),r.setLineDash(xe(T.lineDash,[])),o.usePointStyle){const z={radius:k*Math.SQRT2/2,pointStyle:T.pointStyle,rotation:T.rotation,borderWidth:q},se=l.xPlus(O,v/2),ae=A+g;l_(r,z,se,ae,o.pointStyleWidth&&v)}else{const z=A+Math.max((p-k)/2,0),se=l.leftForLtr(O,v),ae=Oi(T.borderRadius);r.beginPath(),Object.values(ae).some(fe=>fe!==0)?Tc(r,{x:se,y:z,w:v,h:k,radius:ae}):r.rect(se,z,v,k),r.fill(),q!==0&&r.stroke()}r.restore()},b=function(O,A,T){Ca(r,T.text,O,A+S/2,u,{strikethrough:T.hidden,textAlign:l.textAlign(T.textAlign)})},j=this.isHorizontal(),E=this._computeTitleHeight();j?x={x:xt(i,this.left+d,this.right-s[0]),y:this.top+d+E,line:0}:x={x:this.left+d,y:xt(i,this.top+E+d,this.bottom-n[0].height),line:0},m_(this.ctx,e.textDirection);const M=S+d;this.legendItems.forEach((O,A)=>{r.strokeStyle=O.fontColor,r.fillStyle=O.fontColor;const T=r.measureText(O.text).width,q=l.textAlign(O.textAlign||(O.textAlign=o.textAlign)),z=v+g+T;let se=x.x,ae=x.y;l.setWidth(this.width),j?A>0&&se+z+d>this.right&&(ae=x.y+=M,x.line++,se=x.x=xt(i,this.left+d,this.right-s[x.line])):A>0&&ae+M>this.bottom&&(se=x.x=se+n[x.line].width+d,x.line++,ae=x.y=xt(i,this.top+E+d,this.bottom-n[x.line].height));const fe=l.x(se);if(_(fe,ae,O),se=OD(q,se+v+g,j?se+z:this.right,e.rtl),b(l.x(se),ae,O),j)x.x+=z+d;else if(typeof O.text!="string"){const ce=u.lineHeight;x.y+=$_(O,ce)+d}else x.y+=M}),g_(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,s=wt(n.font),r=un(n.padding);if(!n.display)return;const i=Ai(e.rtl,this.left,this.width),o=this.ctx,a=n.position,l=s.size/2,u=r.top+l;let d,p=this.left,g=this.width;if(this.isHorizontal())g=Math.max(...this.lineWidths),d=this.top+u,p=xt(e.align,p,this.right-g);else{const v=this.columnSizes.reduce((k,S)=>Math.max(k,S.height),0);d=u+xt(e.align,this.top,this.bottom-v-e.labels.padding-this._computeTitleHeight())}const x=xt(a,p,p+g);o.textAlign=i.textAlign(Zf(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=s.string,Ca(o,n.text,x,d,s)}_computeTitleHeight(){const e=this.options.title,n=wt(e.font),s=un(e.padding);return e.display?n.lineHeight+s.height:0}_getLegendItemAt(e,n){let s,r,i;if(ss(e,this.left,this.right)&&ss(n,this.top,this.bottom)){for(i=this.legendHitBoxes,s=0;s<i.length;++s)if(r=i[s],ss(e,r.left,r.left+r.width)&&ss(n,r.top,r.top+r.height))return this.legendItems[s]}return null}handleEvent(e){const n=this.options;if(!rO(e.type,n))return;const s=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const r=this._hoveredItem,i=eO(r,s);r&&!i&&Ie(n.onLeave,[e,r,this],this),this._hoveredItem=s,s&&!i&&Ie(n.onHover,[e,s,this],this)}else s&&Ie(n.onClick,[e,s,this],this)}}function tO(t,e,n,s,r){const i=nO(s,t,e,n),o=sO(r,s,e.lineHeight);return{itemWidth:i,itemHeight:o}}function nO(t,e,n,s){let r=t.text;return r&&typeof r!="string"&&(r=r.reduce((i,o)=>i.length>o.length?i:o)),e+n.size/2+s.measureText(r).width}function sO(t,e,n){let s=t;return typeof e.text!="string"&&(s=$_(e,n)),s}function $_(t,e){const n=t.text?t.text.length:0;return e*n}function rO(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var up={id:"legend",_element:P0,start(t,e,n){const s=t.legend=new P0({ctx:t.ctx,options:n,chart:t});on.configure(t,s,n),on.addBox(t,s)},stop(t){on.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const s=t.legend;on.configure(t,s,n),s.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const s=e.datasetIndex,r=n.chart;r.isDatasetVisible(s)?(r.hide(s),e.hidden=!0):(r.show(s),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:s,textAlign:r,color:i,useBorderRadius:o,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map(l=>{const u=l.controller.getStyle(n?0:void 0),d=un(u.borderWidth);return{text:e[l.index].label,fillStyle:u.backgroundColor,fontColor:i,hidden:!l.visible,lineCap:u.borderCapStyle,lineDash:u.borderDash,lineDashOffset:u.borderDashOffset,lineJoin:u.borderJoinStyle,lineWidth:(d.width+d.height)/4,strokeStyle:u.borderColor,pointStyle:s||u.pointStyle,rotation:u.rotation,textAlign:r||u.textAlign,borderRadius:o&&(a||u.borderRadius),datasetIndex:l.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class z_ extends kn{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const s=this.options;if(this.left=0,this.top=0,!s.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const r=et(s.text)?s.text.length:1;this._padding=un(s.padding);const i=r*wt(s.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:s,bottom:r,right:i,options:o}=this,a=o.align;let l=0,u,d,p;return this.isHorizontal()?(d=xt(a,s,i),p=n+e,u=i-s):(o.position==="left"?(d=s+e,p=xt(a,r,n),l=Je*-.5):(d=i-e,p=xt(a,n,r),l=Je*.5),u=r-n),{titleX:d,titleY:p,maxWidth:u,rotation:l}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const s=wt(n.font),i=s.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:u}=this._drawArgs(i);Ca(e,n.text,0,0,s,{color:n.color,maxWidth:l,rotation:u,textAlign:Zf(n.align),textBaseline:"middle",translation:[o,a]})}}function iO(t,e){const n=new z_({ctx:t.ctx,options:e,chart:t});on.configure(t,n,e),on.addBox(t,n),t.titleBlock=n}var dp={id:"title",_element:z_,start(t,e,n){iO(t,n)},stop(t){const e=t.titleBlock;on.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const s=t.titleBlock;on.configure(t,s,n),s.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Ao={average(t){if(!t.length)return!1;let e,n,s=new Set,r=0,i=0;for(e=0,n=t.length;e<n;++e){const a=t[e].element;if(a&&a.hasValue()){const l=a.tooltipPosition();s.add(l.x),r+=l.y,++i}}return i===0||s.size===0?!1:{x:[...s].reduce((a,l)=>a+l)/s.size,y:r/i}},nearest(t,e){if(!t.length)return!1;let n=e.x,s=e.y,r=Number.POSITIVE_INFINITY,i,o,a;for(i=0,o=t.length;i<o;++i){const l=t[i].element;if(l&&l.hasValue()){const u=l.getCenterPoint(),d=Rh(e,u);d<r&&(r=d,a=l)}}if(a){const l=a.tooltipPosition();n=l.x,s=l.y}return{x:n,y:s}}};function Dn(t,e){return e&&(et(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Kn(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function oO(t,e){const{element:n,datasetIndex:s,index:r}=e,i=t.getDatasetMeta(s).controller,{label:o,value:a}=i.getLabelAndValue(r);return{chart:t,label:o,parsed:i.getParsed(r),raw:t.data.datasets[s].data[r],formattedValue:a,dataset:i.getDataset(),dataIndex:r,datasetIndex:s,element:n}}function T0(t,e){const n=t.chart.ctx,{body:s,footer:r,title:i}=t,{boxWidth:o,boxHeight:a}=e,l=wt(e.bodyFont),u=wt(e.titleFont),d=wt(e.footerFont),p=i.length,g=r.length,x=s.length,v=un(e.padding);let k=v.height,S=0,_=s.reduce((E,M)=>E+M.before.length+M.lines.length+M.after.length,0);if(_+=t.beforeBody.length+t.afterBody.length,p&&(k+=p*u.lineHeight+(p-1)*e.titleSpacing+e.titleMarginBottom),_){const E=e.displayColors?Math.max(a,l.lineHeight):l.lineHeight;k+=x*E+(_-x)*l.lineHeight+(_-1)*e.bodySpacing}g&&(k+=e.footerMarginTop+g*d.lineHeight+(g-1)*e.footerSpacing);let b=0;const j=function(E){S=Math.max(S,n.measureText(E).width+b)};return n.save(),n.font=u.string,De(t.title,j),n.font=l.string,De(t.beforeBody.concat(t.afterBody),j),b=e.displayColors?o+2+e.boxPadding:0,De(s,E=>{De(E.before,j),De(E.lines,j),De(E.after,j)}),b=0,n.font=d.string,De(t.footer,j),n.restore(),S+=v.width,{width:S,height:k}}function aO(t,e){const{y:n,height:s}=e;return n<s/2?"top":n>t.height-s/2?"bottom":"center"}function lO(t,e,n,s){const{x:r,width:i}=s,o=n.caretSize+n.caretPadding;if(t==="left"&&r+i+o>e.width||t==="right"&&r-i-o<0)return!0}function cO(t,e,n,s){const{x:r,width:i}=n,{width:o,chartArea:{left:a,right:l}}=t;let u="center";return s==="center"?u=r<=(a+l)/2?"left":"right":r<=i/2?u="left":r>=o-i/2&&(u="right"),lO(u,t,e,n)&&(u="center"),u}function O0(t,e,n){const s=n.yAlign||e.yAlign||aO(t,n);return{xAlign:n.xAlign||e.xAlign||cO(t,e,n,s),yAlign:s}}function uO(t,e){let{x:n,width:s}=t;return e==="right"?n-=s:e==="center"&&(n-=s/2),n}function dO(t,e,n){let{y:s,height:r}=t;return e==="top"?s+=n:e==="bottom"?s-=r+n:s-=r/2,s}function A0(t,e,n,s){const{caretSize:r,caretPadding:i,cornerRadius:o}=t,{xAlign:a,yAlign:l}=n,u=r+i,{topLeft:d,topRight:p,bottomLeft:g,bottomRight:x}=Oi(o);let v=uO(e,a);const k=dO(e,l,u);return l==="center"?a==="left"?v+=u:a==="right"&&(v-=u):a==="left"?v-=Math.max(d,g)+r:a==="right"&&(v+=Math.max(p,x)+r),{x:_t(v,0,s.width-e.width),y:_t(k,0,s.height-e.height)}}function Il(t,e,n){const s=un(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-s.right:t.x+s.left}function R0(t){return Dn([],Kn(t))}function hO(t,e,n){return Vr(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function L0(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const B_={beforeTitle:Gn,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,s=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(s>0&&e.dataIndex<s)return n[e.dataIndex]}return""},afterTitle:Gn,beforeBody:Gn,beforeLabel:Gn,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return Me(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Gn,afterBody:Gn,beforeFooter:Gn,footer:Gn,afterFooter:Gn};function Lt(t,e,n,s){const r=t[e].call(n,s);return typeof r>"u"?B_[e].call(n,s):r}class Wh extends kn{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,s=this.options.setContext(this.getContext()),r=s.enabled&&n.options.animation&&s.animations,i=new w_(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=hO(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:s}=n,r=Lt(s,"beforeTitle",this,e),i=Lt(s,"title",this,e),o=Lt(s,"afterTitle",this,e);let a=[];return a=Dn(a,Kn(r)),a=Dn(a,Kn(i)),a=Dn(a,Kn(o)),a}getBeforeBody(e,n){return R0(Lt(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:s}=n,r=[];return De(e,i=>{const o={before:[],lines:[],after:[]},a=L0(s,i);Dn(o.before,Kn(Lt(a,"beforeLabel",this,i))),Dn(o.lines,Lt(a,"label",this,i)),Dn(o.after,Kn(Lt(a,"afterLabel",this,i))),r.push(o)}),r}getAfterBody(e,n){return R0(Lt(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:s}=n,r=Lt(s,"beforeFooter",this,e),i=Lt(s,"footer",this,e),o=Lt(s,"afterFooter",this,e);let a=[];return a=Dn(a,Kn(r)),a=Dn(a,Kn(i)),a=Dn(a,Kn(o)),a}_createItems(e){const n=this._active,s=this.chart.data,r=[],i=[],o=[];let a=[],l,u;for(l=0,u=n.length;l<u;++l)a.push(oO(this.chart,n[l]));return e.filter&&(a=a.filter((d,p,g)=>e.filter(d,p,g,s))),e.itemSort&&(a=a.sort((d,p)=>e.itemSort(d,p,s))),De(a,d=>{const p=L0(e.callbacks,d);r.push(Lt(p,"labelColor",this,d)),i.push(Lt(p,"labelPointStyle",this,d)),o.push(Lt(p,"labelTextColor",this,d))}),this.labelColors=r,this.labelPointStyles=i,this.labelTextColors=o,this.dataPoints=a,a}update(e,n){const s=this.options.setContext(this.getContext()),r=this._active;let i,o=[];if(!r.length)this.opacity!==0&&(i={opacity:0});else{const a=Ao[s.position].call(this,r,this._eventPosition);o=this._createItems(s),this.title=this.getTitle(o,s),this.beforeBody=this.getBeforeBody(o,s),this.body=this.getBody(o,s),this.afterBody=this.getAfterBody(o,s),this.footer=this.getFooter(o,s);const l=this._size=T0(this,s),u=Object.assign({},a,l),d=O0(this.chart,s,u),p=A0(s,u,d,this.chart);this.xAlign=d.xAlign,this.yAlign=d.yAlign,i={opacity:1,x:p.x,y:p.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,i&&this._resolveAnimations().update(this,i),e&&s.external&&s.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,s,r){const i=this.getCaretPosition(e,s,r);n.lineTo(i.x1,i.y1),n.lineTo(i.x2,i.y2),n.lineTo(i.x3,i.y3)}getCaretPosition(e,n,s){const{xAlign:r,yAlign:i}=this,{caretSize:o,cornerRadius:a}=s,{topLeft:l,topRight:u,bottomLeft:d,bottomRight:p}=Oi(a),{x:g,y:x}=e,{width:v,height:k}=n;let S,_,b,j,E,M;return i==="center"?(E=x+k/2,r==="left"?(S=g,_=S-o,j=E+o,M=E-o):(S=g+v,_=S+o,j=E-o,M=E+o),b=S):(r==="left"?_=g+Math.max(l,d)+o:r==="right"?_=g+v-Math.max(u,p)-o:_=this.caretX,i==="top"?(j=x,E=j-o,S=_-o,b=_+o):(j=x+k,E=j+o,S=_+o,b=_-o),M=j),{x1:S,x2:_,x3:b,y1:j,y2:E,y3:M}}drawTitle(e,n,s){const r=this.title,i=r.length;let o,a,l;if(i){const u=Ai(s.rtl,this.x,this.width);for(e.x=Il(this,s.titleAlign,s),n.textAlign=u.textAlign(s.titleAlign),n.textBaseline="middle",o=wt(s.titleFont),a=s.titleSpacing,n.fillStyle=s.titleColor,n.font=o.string,l=0;l<i;++l)n.fillText(r[l],u.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+a,l+1===i&&(e.y+=s.titleMarginBottom-a)}}_drawColorBox(e,n,s,r,i){const o=this.labelColors[s],a=this.labelPointStyles[s],{boxHeight:l,boxWidth:u}=i,d=wt(i.bodyFont),p=Il(this,"left",i),g=r.x(p),x=l<d.lineHeight?(d.lineHeight-l)/2:0,v=n.y+x;if(i.usePointStyle){const k={radius:Math.min(u,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},S=r.leftForLtr(g,u)+u/2,_=v+l/2;e.strokeStyle=i.multiKeyBackground,e.fillStyle=i.multiKeyBackground,Fh(e,k,S,_),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,Fh(e,k,S,_)}else{e.lineWidth=be(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const k=r.leftForLtr(g,u),S=r.leftForLtr(r.xPlus(g,1),u-2),_=Oi(o.borderRadius);Object.values(_).some(b=>b!==0)?(e.beginPath(),e.fillStyle=i.multiKeyBackground,Tc(e,{x:k,y:v,w:u,h:l,radius:_}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),Tc(e,{x:S,y:v+1,w:u-2,h:l-2,radius:_}),e.fill()):(e.fillStyle=i.multiKeyBackground,e.fillRect(k,v,u,l),e.strokeRect(k,v,u,l),e.fillStyle=o.backgroundColor,e.fillRect(S,v+1,u-2,l-2))}e.fillStyle=this.labelTextColors[s]}drawBody(e,n,s){const{body:r}=this,{bodySpacing:i,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:u,boxPadding:d}=s,p=wt(s.bodyFont);let g=p.lineHeight,x=0;const v=Ai(s.rtl,this.x,this.width),k=function(T){n.fillText(T,v.x(e.x+x),e.y+g/2),e.y+=g+i},S=v.textAlign(o);let _,b,j,E,M,O,A;for(n.textAlign=o,n.textBaseline="middle",n.font=p.string,e.x=Il(this,S,s),n.fillStyle=s.bodyColor,De(this.beforeBody,k),x=a&&S!=="right"?o==="center"?u/2+d:u+2+d:0,E=0,O=r.length;E<O;++E){for(_=r[E],b=this.labelTextColors[E],n.fillStyle=b,De(_.before,k),j=_.lines,a&&j.length&&(this._drawColorBox(n,e,E,v,s),g=Math.max(p.lineHeight,l)),M=0,A=j.length;M<A;++M)k(j[M]),g=p.lineHeight;De(_.after,k)}x=0,g=p.lineHeight,De(this.afterBody,k),e.y-=i}drawFooter(e,n,s){const r=this.footer,i=r.length;let o,a;if(i){const l=Ai(s.rtl,this.x,this.width);for(e.x=Il(this,s.footerAlign,s),e.y+=s.footerMarginTop,n.textAlign=l.textAlign(s.footerAlign),n.textBaseline="middle",o=wt(s.footerFont),n.fillStyle=s.footerColor,n.font=o.string,a=0;a<i;++a)n.fillText(r[a],l.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+s.footerSpacing}}drawBackground(e,n,s,r){const{xAlign:i,yAlign:o}=this,{x:a,y:l}=e,{width:u,height:d}=s,{topLeft:p,topRight:g,bottomLeft:x,bottomRight:v}=Oi(r.cornerRadius);n.fillStyle=r.backgroundColor,n.strokeStyle=r.borderColor,n.lineWidth=r.borderWidth,n.beginPath(),n.moveTo(a+p,l),o==="top"&&this.drawCaret(e,n,s,r),n.lineTo(a+u-g,l),n.quadraticCurveTo(a+u,l,a+u,l+g),o==="center"&&i==="right"&&this.drawCaret(e,n,s,r),n.lineTo(a+u,l+d-v),n.quadraticCurveTo(a+u,l+d,a+u-v,l+d),o==="bottom"&&this.drawCaret(e,n,s,r),n.lineTo(a+x,l+d),n.quadraticCurveTo(a,l+d,a,l+d-x),o==="center"&&i==="left"&&this.drawCaret(e,n,s,r),n.lineTo(a,l+p),n.quadraticCurveTo(a,l,a+p,l),n.closePath(),n.fill(),r.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,s=this.$animations,r=s&&s.x,i=s&&s.y;if(r||i){const o=Ao[e.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=T0(this,e),l=Object.assign({},o,this._size),u=O0(n,e,l),d=A0(e,l,u,n);(r._to!==d.x||i._to!==d.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,d))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let s=this.opacity;if(!s)return;this._updateAnimationTarget(n);const r={width:this.width,height:this.height},i={x:this.x,y:this.y};s=Math.abs(s)<.001?0:s;const o=un(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(e.save(),e.globalAlpha=s,this.drawBackground(i,e,r,n),m_(e,n.textDirection),i.y+=o.top,this.drawTitle(i,e,n),this.drawBody(i,e,n),this.drawFooter(i,e,n),g_(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const s=this._active,r=e.map(({datasetIndex:a,index:l})=>{const u=this.chart.getDatasetMeta(a);if(!u)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:u.data[l],index:l}}),i=!Dc(s,r),o=this._positionChanged(r,n);(i||o)&&(this._active=r,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,s=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,i=this._active||[],o=this._getActiveElements(e,i,n,s),a=this._positionChanged(o,e),l=n||!Dc(o,i)||a;return l&&(this._active=o,(r.enabled||r.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),l}_getActiveElements(e,n,s,r){const i=this.options;if(e.type==="mouseout")return[];if(!r)return n.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,i.mode,i,s);return i.reverse&&o.reverse(),o}_positionChanged(e,n){const{caretX:s,caretY:r,options:i}=this,o=Ao[i.position].call(this,e,n);return o!==!1&&(s!==o.x||r!==o.y)}}re(Wh,"positioners",Ao);var hp={id:"tooltip",_element:Wh,positioners:Ao,afterInit(t,e,n){n&&(t.tooltip=new Wh({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:B_},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const fO=(t,e,n,s)=>(typeof e=="string"?(n=t.push(e)-1,s.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function pO(t,e,n,s){const r=t.indexOf(e);if(r===-1)return fO(t,e,n,s);const i=t.lastIndexOf(e);return r!==i?n:r}const mO=(t,e)=>t===null?null:_t(Math.round(t),0,e);function F0(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class Ma extends Xi{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const s=this.getLabels();for(const{index:r,label:i}of n)s[r]===i&&s.splice(r,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(Me(e))return null;const s=this.getLabels();return n=isFinite(n)&&s[n]===e?n:pO(s,e,xe(n,e),this._addedLabels),mO(n,s.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:s,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(s=0),n||(r=this.getLabels().length-1)),this.min=s,this.max=r}buildTicks(){const e=this.min,n=this.max,s=this.options.offset,r=[];let i=this.getLabels();i=e===0&&n===i.length-1?i:i.slice(e,n+1),this._valueRange=Math.max(i.length-(s?0:1),1),this._startValue=this.min-(s?.5:0);for(let o=e;o<=n;o++)r.push({value:o});return r}getLabelForValue(e){return F0.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}re(Ma,"id","category"),re(Ma,"defaults",{ticks:{callback:F0}});function gO(t,e){const n=[],{bounds:r,step:i,min:o,max:a,precision:l,count:u,maxTicks:d,maxDigits:p,includeBounds:g}=t,x=i||1,v=d-1,{min:k,max:S}=e,_=!Me(o),b=!Me(a),j=!Me(u),E=(S-k)/(p+1);let M=Ag((S-k)/v/x)*x,O,A,T,q;if(M<1e-14&&!_&&!b)return[{value:k},{value:S}];q=Math.ceil(S/M)-Math.floor(k/M),q>v&&(M=Ag(q*M/v/x)*x),Me(l)||(O=Math.pow(10,l),M=Math.ceil(M*O)/O),r==="ticks"?(A=Math.floor(k/M)*M,T=Math.ceil(S/M)*M):(A=k,T=S),_&&b&&i&&SD((a-o)/i,M/1e3)?(q=Math.round(Math.min((a-o)/M,d)),M=(a-o)/q,A=o,T=a):j?(A=_?o:A,T=b?a:T,q=u-1,M=(T-A)/q):(q=(T-A)/M,Ko(q,Math.round(q),M/1e3)?q=Math.round(q):q=Math.ceil(q));const z=Math.max(Rg(M),Rg(A));O=Math.pow(10,Me(l)?z:l),A=Math.round(A*O)/O,T=Math.round(T*O)/O;let se=0;for(_&&(g&&A!==o?(n.push({value:o}),A<o&&se++,Ko(Math.round((A+se*M)*O)/O,o,I0(o,E,t))&&se++):A<o&&se++);se<q;++se){const ae=Math.round((A+se*M)*O)/O;if(b&&ae>a)break;n.push({value:ae})}return b&&g&&T!==a?n.length&&Ko(n[n.length-1].value,a,I0(a,E,t))?n[n.length-1].value=a:n.push({value:a}):(!b||T===a)&&n.push({value:T}),n}function I0(t,e,{horizontal:n,minRotation:s}){const r=ns(s),i=(n?Math.sin(r):Math.cos(r))||.001,o=.75*e*(""+t).length;return Math.min(e/i,o)}class yO extends Xi{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return Me(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:s}=this.getUserBounds();let{min:r,max:i}=this;const o=l=>r=n?r:l,a=l=>i=s?i:l;if(e){const l=Ln(r),u=Ln(i);l<0&&u<0?a(0):l>0&&u>0&&o(0)}if(r===i){let l=i===0?1:Math.abs(i*.05);a(i+l),e||o(r-l)}this.min=r,this.max=i}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:s}=e,r;return s?(r=Math.ceil(this.max/s)-Math.floor(this.min/s)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${s} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),n=n||11),n&&(r=Math.min(n,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let s=this.getTickLimit();s=Math.max(2,s);const r={maxTicks:s,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},i=this._range||this,o=gO(r,i);return e.bounds==="ticks"&&jD(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let n=this.min,s=this.max;if(super.configure(),this.options.offset&&e.length){const r=(s-n)/Math.max(e.length-1,1)/2;n-=r,s+=r}this._startValue=n,this._endValue=s,this._valueRange=s-n}getLabelForValue(e){return tp(e,this.chart.options.locale,this.options.ticks.format)}}class Da extends yO{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=kt(e)?e:0,this.max=kt(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,s=ns(this.options.ticks.minRotation),r=(e?Math.sin(s):Math.cos(s))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,i.lineHeight/r))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}re(Da,"id","linear"),re(Da,"defaults",{ticks:{callback:a_.formatters.numeric}});const hu={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},$t=Object.keys(hu);function $0(t,e){return t-e}function z0(t,e){if(Me(e))return null;const n=t._adapter,{parser:s,round:r,isoWeekday:i}=t._parseOpts;let o=e;return typeof s=="function"&&(o=s(o)),kt(o)||(o=typeof s=="string"?n.parse(o,s):n.parse(o)),o===null?null:(r&&(o=r==="week"&&(ka(i)||i===!0)?n.startOf(o,"isoWeek",i):n.startOf(o,r)),+o)}function B0(t,e,n,s){const r=$t.length;for(let i=$t.indexOf(t);i<r-1;++i){const o=hu[$t[i]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-e)/(a*o.size))<=s)return $t[i]}return $t[r-1]}function xO(t,e,n,s,r){for(let i=$t.length-1;i>=$t.indexOf(n);i--){const o=$t[i];if(hu[o].common&&t._adapter.diff(r,s,o)>=e-1)return o}return $t[n?$t.indexOf(n):0]}function vO(t){for(let e=$t.indexOf(t)+1,n=$t.length;e<n;++e)if(hu[$t[e]].common)return $t[e]}function U0(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:s,hi:r}=Qf(n,e),i=n[s]>=e?n[s]:n[r];t[i]=!0}}function _O(t,e,n,s){const r=t._adapter,i=+r.startOf(e[0].value,s),o=e[e.length-1].value;let a,l;for(a=i;a<=o;a=+r.add(a,1,s))l=n[a],l>=0&&(e[l].major=!0);return e}function W0(t,e,n){const s=[],r={},i=e.length;let o,a;for(o=0;o<i;++o)a=e[o],r[a]=o,s.push({value:a,major:!1});return i===0||!n?s:_O(t,s,r,n)}class Lc extends Xi{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const s=e.time||(e.time={}),r=this._adapter=new aP._date(e.adapters.date);r.init(n),qo(s.displayFormats,r.formats()),this._parseOpts={parser:s.parser,round:s.round,isoWeekday:s.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:z0(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,s=e.time.unit||"day";let{min:r,max:i,minDefined:o,maxDefined:a}=this.getUserBounds();function l(u){!o&&!isNaN(u.min)&&(r=Math.min(r,u.min)),!a&&!isNaN(u.max)&&(i=Math.max(i,u.max))}(!o||!a)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),r=kt(r)&&!isNaN(r)?r:+n.startOf(Date.now(),s),i=kt(i)&&!isNaN(i)?i:+n.endOf(Date.now(),s)+1,this.min=Math.min(r,i-1),this.max=Math.max(r+1,i)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],s=e[e.length-1]),{min:n,max:s}}buildTicks(){const e=this.options,n=e.time,s=e.ticks,r=s.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const i=this.min,o=this.max,a=ND(r,i,o);return this._unit=n.unit||(s.autoSkip?B0(n.minUnit,this.min,this.max,this._getLabelCapacity(i)):xO(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!s.major.enabled||this._unit==="year"?void 0:vO(this._unit),this.initOffsets(r),e.reverse&&a.reverse(),W0(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,s=0,r,i;this.options.offset&&e.length&&(r=this.getDecimalForValue(e[0]),e.length===1?n=1-r:n=(this.getDecimalForValue(e[1])-r)/2,i=this.getDecimalForValue(e[e.length-1]),e.length===1?s=i:s=(i-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;n=_t(n,0,o),s=_t(s,0,o),this._offsets={start:n,end:s,factor:1/(n+1+s)}}_generate(){const e=this._adapter,n=this.min,s=this.max,r=this.options,i=r.time,o=i.unit||B0(i.minUnit,n,s,this._getLabelCapacity(n)),a=xe(r.ticks.stepSize,1),l=o==="week"?i.isoWeekday:!1,u=ka(l)||l===!0,d={};let p=n,g,x;if(u&&(p=+e.startOf(p,"isoWeek",l)),p=+e.startOf(p,u?"day":o),e.diff(s,n,o)>1e5*a)throw new Error(n+" and "+s+" are too far apart with stepSize of "+a+" "+o);const v=r.ticks.source==="data"&&this.getDataTimestamps();for(g=p,x=0;g<s;g=+e.add(g,a,o),x++)U0(d,g,v);return(g===s||r.bounds==="ticks"||x===1)&&U0(d,g,v),Object.keys(d).sort($0).map(k=>+k)}getLabelForValue(e){const n=this._adapter,s=this.options.time;return s.tooltipFormat?n.format(e,s.tooltipFormat):n.format(e,s.displayFormats.datetime)}format(e,n){const r=this.options.time.displayFormats,i=this._unit,o=n||r[i];return this._adapter.format(e,o)}_tickFormatFunction(e,n,s,r){const i=this.options,o=i.ticks.callback;if(o)return Ie(o,[e,n,s],this);const a=i.time.displayFormats,l=this._unit,u=this._majorUnit,d=l&&a[l],p=u&&a[u],g=s[n],x=u&&p&&g&&g.major;return this._adapter.format(e,r||(x?p:d))}generateTickLabels(e){let n,s,r;for(n=0,s=e.length;n<s;++n)r=e[n],r.label=this._tickFormatFunction(r.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,s=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+s)*n.factor)}getValueForPixel(e){const n=this._offsets,s=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+s*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,s=this.ctx.measureText(e).width,r=ns(this.isHorizontal()?n.maxRotation:n.minRotation),i=Math.cos(r),o=Math.sin(r),a=this._resolveTickFontOptions(0).size;return{w:s*i+a*o,h:s*o+a*i}}_getLabelCapacity(e){const n=this.options.time,s=n.displayFormats,r=s[n.unit]||s.millisecond,i=this._tickFormatFunction(e,0,W0(this,[e],this._majorUnit),r),o=this._getLabelSize(i),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],n,s;if(e.length)return e;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(n=0,s=r.length;n<s;++n)e=e.concat(r[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,s;if(e.length)return e;const r=this.getLabels();for(n=0,s=r.length;n<s;++n)e.push(z0(this,r[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return r_(e.sort($0))}}re(Lc,"id","time"),re(Lc,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function $l(t,e,n){let s=0,r=t.length-1,i,o,a,l;n?(e>=t[s].pos&&e<=t[r].pos&&({lo:s,hi:r}=Cr(t,"pos",e)),{pos:i,time:a}=t[s],{pos:o,time:l}=t[r]):(e>=t[s].time&&e<=t[r].time&&({lo:s,hi:r}=Cr(t,"time",e)),{time:i,pos:a}=t[s],{time:o,pos:l}=t[r]);const u=o-i;return u?a+(l-a)*(e-i)/u:a}class H0 extends Lc{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=$l(n,this.min),this._tableRange=$l(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:s}=this,r=[],i=[];let o,a,l,u,d;for(o=0,a=e.length;o<a;++o)u=e[o],u>=n&&u<=s&&r.push(u);if(r.length<2)return[{time:n,pos:0},{time:s,pos:1}];for(o=0,a=r.length;o<a;++o)d=r[o+1],l=r[o-1],u=r[o],Math.round((d+l)/2)!==u&&i.push({time:u,pos:o/(a-1)});return i}_generate(){const e=this.min,n=this.max;let s=super.getDataTimestamps();return(!s.includes(e)||!s.length)&&s.splice(0,0,e),(!s.includes(n)||s.length===1)&&s.push(n),s.sort((r,i)=>r-i)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),s=this.getLabelTimestamps();return n.length&&s.length?e=this.normalize(n.concat(s)):e=n.length?n:s,e=this._cache.all=e,e}getDecimalForValue(e){return($l(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,s=this.getDecimalForPixel(e)/n.factor-n.end;return $l(this._table,s*this._tableRange+this._minPos,!0)}}re(H0,"id","timeseries"),re(H0,"defaults",Lc.defaults);const wO="#FFFFFF",U_=({className:t="w-8 h-8",stroke:e=wO,strokeWidth:n=2})=>f.jsxs("svg",{className:t,viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:e,strokeWidth:n,strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M20 6C14 6 8 12 8 22C8 38 12 58 20 58C24 58 24 46 32 46C40 46 40 58 44 58C52 58 56 38 56 22C56 12 50 6 44 6C38 6 36 18 32 18C28 18 26 6 20 6Z"}),f.jsx("path",{d:"M46 14C48 16 50 18 50 20",strokeWidth:"1.5"})]});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var bO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kO=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),fp=(t,e)=>{const n=D.forwardRef(({color:s="currentColor",size:r=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:a="",children:l,...u},d)=>D.createElement("svg",{ref:d,...bO,width:r,height:r,stroke:s,strokeWidth:o?Number(i)*24/Number(r):i,className:["lucide",`lucide-${kO(t)}`,a].join(" "),...u},[...e.map(([p,g])=>D.createElement(p,g)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SO=fp("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jO=fp("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CO=fp("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);function EO(){const[t,e]=D.useState(""),[n,s]=D.useState(""),[r,i]=D.useState(!1),[o,a]=D.useState(!1),l=async u=>{u.preventDefault(),a(!0);try{const{error:d}=await Oe.auth.signInWithPassword({email:t,password:n});if(d)throw d}catch(d){console.error("Error signing in:",d);const p=d instanceof Error&&d.message.includes("Invalid login credentials")?"Credenciales inválidas. Verifique su correo y contraseña.":"Error al iniciar sesión. Intente nuevamente.";ue.error(p)}finally{a(!1)}};return f.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gradient-to-br from-[#F0E6ED] via-white to-[#F8F5F7] p-4",children:[f.jsxs("div",{className:"max-w-md w-full bg-white p-8 sm:p-10 rounded-2xl shadow-2xl border border-[#E0CDD9] transform transition-all duration-500 hover:scale-[1.01]",children:[f.jsxs("div",{className:"flex flex-col items-center mb-8",children:[f.jsx("div",{className:"p-3 bg-gradient-to-br from-[#9D1C7A] to-[#6a1152] rounded-full shadow-lg mb-4 transform transition-transform duration-300 hover:rotate-6",children:f.jsx(U_,{className:"h-16 w-16 text-white"})}),f.jsx("h1",{className:"text-3xl font-bold text-center text-[#5A0D45]",children:"Andrew's Dental Group"}),f.jsx("p",{className:"mt-2 text-center text-sm text-gray-500",children:"Sistema de gestión de la clínica dental"})]}),f.jsxs("form",{className:"space-y-6",onSubmit:l,children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"email-address",className:"block text-sm font-medium text-[#801461] mb-1",children:"Correo Electrónico"}),f.jsx("input",{id:"email-address",name:"email",type:"email",autoComplete:"email",required:!0,value:t,onChange:u=>e(u.target.value),className:"appearance-none relative block w-full px-4 py-3 border border-[#E0CDD9] placeholder-gray-400 text-gray-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#B58AAD] focus:border-[#801461] sm:text-sm transition-all duration-200 shadow-sm hover:shadow-md",placeholder:"su.correo@ejemplo.com"})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-[#801461] mb-1",children:"Contraseña"}),f.jsxs("div",{className:"relative",children:[f.jsx("input",{id:"password",name:"password",type:r?"text":"password",autoComplete:"current-password",required:!0,value:n,onChange:u=>s(u.target.value),className:"appearance-none relative block w-full px-4 py-3 border border-[#E0CDD9] placeholder-gray-400 text-gray-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#B58AAD] focus:border-[#801461] sm:text-sm transition-all duration-200 shadow-sm hover:shadow-md pr-12",placeholder:"••••••••"}),f.jsx("button",{type:"button",onClick:()=>i(!r),className:"absolute inset-y-0 right-3 flex items-center text-gray-500 hover:text-gray-700 focus:outline-none",children:r?f.jsx(SO,{size:20}):f.jsx(jO,{size:20})})]})]}),f.jsx("div",{className:"pt-2",children:f.jsx("button",{type:"submit",disabled:o,className:`w-full flex justify-center py-3 px-4 border border-transparent text-base font-medium rounded-lg text-white bg-gradient-to-r from-[#9D1C7A] to-[#801461] hover:from-[#801461] hover:to-[#6a1152] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#801461] transition-all duration-300 transform hover:scale-[1.03] shadow-lg hover:shadow-xl ${o?"opacity-70 cursor-not-allowed":""}`,children:o?f.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):"Iniciar Sesión"})})]})]}),f.jsxs("div",{className:"mt-6 text-sm text-gray-400",children:["Desarrollado por"," ",f.jsx("a",{href:"https://grupoarkham.com/",target:"_blank",rel:"noopener noreferrer",className:"text-[#801461] hover:underline font-semibold",children:"Arkham Tech"})]})]})}const W_="label";function Y0(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function MO(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function H_(t,e){t.labels=e}function Y_(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:W_;const s=[];t.datasets=e.map(r=>{const i=t.datasets.find(o=>o[n]===r[n]);return!i||!r.data||s.includes(i)?{...r}:(s.push(i),Object.assign(i,r),i)})}function DO(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:W_;const n={labels:[],datasets:[]};return H_(n,t.labels),Y_(n,t.datasets,e),n}function NO(t,e){const{height:n=150,width:s=300,redraw:r=!1,datasetIdKey:i,type:o,data:a,options:l,plugins:u=[],fallbackContent:d,updateMode:p,...g}=t,x=D.useRef(null),v=D.useRef(null),k=()=>{x.current&&(v.current=new Qi(x.current,{type:o,data:DO(a,i),options:l&&{...l},plugins:u}),Y0(e,v.current))},S=()=>{Y0(e,null),v.current&&(v.current.destroy(),v.current=null)};return D.useEffect(()=>{!r&&v.current&&l&&MO(v.current,l)},[r,l]),D.useEffect(()=>{!r&&v.current&&H_(v.current.config.data,a.labels)},[r,a.labels]),D.useEffect(()=>{!r&&v.current&&a.datasets&&Y_(v.current.config.data,a.datasets,i)},[r,a.datasets]),D.useEffect(()=>{v.current&&(r?(S(),setTimeout(k)):v.current.update(p))},[r,l,a.labels,a.datasets,p]),D.useEffect(()=>{v.current&&(S(),setTimeout(k))},[o]),D.useEffect(()=>(k(),()=>S()),[]),qh.createElement("canvas",{ref:x,role:"img",height:n,width:s,...g},d)}const PO=D.forwardRef(NO);function fu(t,e){return Qi.register(e),D.forwardRef((n,s)=>qh.createElement(PO,{...n,ref:s,type:t}))}const TO=fu("line",ec),V0=fu("bar",Zl),G0=fu("doughnut",ji),Cd=fu("pie",Ih);Qi.register(Ma,Da,Qo,rs,Er,dp,hp,up,I_);function V_({userId:t,userRole:e}){var ye,Zr,Ee,gs,Ha,cr,st,Zt,Yt,qe,At,en,jn,Ya,Va,ys;const[n,s]=D.useState([]),[r,i]=D.useState(new Date().toISOString().split("T")[0]),[o,a]=D.useState(""),[l,u]=D.useState(""),[d,p]=D.useState(""),[g,x]=D.useState(!1),[v,k]=D.useState(!1),[S,_]=D.useState(0),[b,j]=D.useState("Ingreso"),[E,M]=D.useState(null),[O,A]=D.useState([]),[T,q]=D.useState(!1),[z,se]=D.useState({anos:[],balanceTotalPeriodo:0}),[ae,fe]=D.useState(null),[ce,pe]=D.useState("EFECTIVO"),[me,ve]=D.useState([]),[G,X]=D.useState(""),[te,B]=D.useState(null),[ie,P]=D.useState([]),[Y,L]=D.useState("SOLES"),[he,Ue]=D.useState(0),[St,hs]=D.useState(""),[Gr,Fn]=D.useState(!1),[Tt,Zi]=D.useState(""),[Sn,eo]=D.useState(""),[sr,Ba]=D.useState(""),[rr,Ua]=D.useState(""),[fs,jt]=D.useState(""),[In,Wa]=D.useState(""),[ir,to]=D.useState(""),[nt,no]=D.useState(""),[or,ps]=D.useState(""),[Pe,ar]=D.useState(!1),[Ge,ms]=D.useState({ingresosPorCategoria:{labels:[],datasets:[]},egresosPorCategoria:{labels:[],datasets:[]},distribucionGeneral:{labels:[],datasets:[]},balanceEvolucion:{labels:[],datasets:[]}});D.useMemo(()=>e==="admin",[e]);const qr=3.7,Ct=(N,$="PEN")=>{const F={style:"currency",currency:$,minimumFractionDigits:2,maximumFractionDigits:2},K=new Intl.NumberFormat($==="PEN"?"es-PE":"en-US",F).format(N);return $==="PEN"?K.replace("PEN","S/"):K},$n=(N,$)=>$==="Ingreso"||$==="Ajuste"&&N>0?"text-green-600":$==="Egreso"||$==="Ajuste"&&N<0?"text-red-600":"text-gray-700",Kr=(N,$)=>{const F=Math.abs(N);return $==="Ingreso"?`+${Ct(F)}`:$==="Egreso"?`-${Ct(F)}`:$==="Ajuste"&&N>0?`+${Ct(N)}`:Ct(N)},Jr=N=>{if(!N)return{fecha:"-",hora:"-"};try{const $=new Date(N);if(isNaN($.getTime()))throw new Error("Invalid Date");return{fecha:$.toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric"}),hora:$.toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"})}}catch($){return console.error("Error formatting date:",N,$),{fecha:"Inválida",hora:"Inválida"}}},Xr=N=>new Date(2e3,N,1).toLocaleString("es-ES",{month:"long"});D.useEffect(()=>{(async()=>{var $;try{const[F,K,J]=await Promise.all([Oe.from("tipos_movimiento").select("*").eq("activo",!0),Oe.from("pacientes").select("id, nombres, apellido_paterno, apellido_materno").eq("activo",!0),Oe.from("medicos").select("id, nombre").eq("activo",!0).order("nombre",{ascending:!0})]);if(F.error)throw F.error;if(A(F.data||[]),(($=F.data)==null?void 0:$.length)>0&&!E){const I=F.data.find(ne=>ne.tipo===b)||F.data[0];M(I.id)}if(K.error)throw K.error;const V=(K.data||[]).map(I=>({...I,nombre:`${I.nombres||""} ${I.apellido_paterno||""} ${I.apellido_materno||""}`.trim()}));if(P(V),J.error)throw J.error;ve(J.data||[])}catch(F){console.error("Error al cargar datos esenciales:",F),ue.error("Error al cargar datos iniciales (categorías, pacientes, médicos).")}})()},[]),D.useEffect(()=>{(async()=>{var $;if(b)try{x(!0);const{data:F,error:K}=await Oe.from("tipos_movimiento").select("*").eq("activo",!0).eq("tipo",b);if(K)throw K;A(F||[]),M((($=F==null?void 0:F[0])==null?void 0:$.id)||null)}catch(F){console.error(`Error al cargar categorías para ${b}:`,F),ue.error(`Error al cargar categorías de ${b}.`)}finally{x(!1)}})()},[b]);const so=async N=>{if(N){x(!0);try{const $=`${N}T00:00:00`,F=`${N}T23:59:59`,{data:K,error:J}=await Oe.from("registros_caja").select(`
                    *,
                    tipo_movimiento:tipos_movimiento(id, nombre, tipo),
                    usuario:users(id, nombre),
                    medico:medicos(id, nombre),
                    paciente:pacientes(id, nombres, apellido_paterno, apellido_materno)
                `).gte("fecha",$).lte("fecha",F).order("created_at",{ascending:!1});if(J)throw J;const V=(K||[]).map(I=>({...I,tipo_movimiento:I.tipo_movimiento||void 0,usuario:I.usuario||void 0,medico:I.medico||void 0,paciente:I.paciente?{...I.paciente,nombreCompleto:`${I.paciente.nombres||""} ${I.paciente.apellido_paterno||""}`.trim()}:void 0}));s(V),lr(V)}catch($){console.error("Error cargando registros del día:",$),ue.error(`Error al cargar registros del día: ${$.message}`),s([]),_(0)}finally{x(!1)}}},lr=N=>{const $=N.reduce((F,K)=>F+(K.valor||0),0);_($)};D.useEffect(()=>{so(r)},[r,t]),D.useEffect(()=>{const N=new Date,$=new Date(N.getFullYear(),N.getMonth(),1).toISOString().split("T")[0],F=new Date(N.getFullYear(),N.getMonth()+1,0).toISOString().split("T")[0];Tt||Zi($),Sn||eo(F)},[]);const dn=async N=>{if(!N.fechaInicio||!N.fechaFin){ue.error("Se requieren fechas de inicio y fin para el historial.");return}k(!0);try{const $=`${N.fechaInicio}T00:00:00`,F=`${N.fechaFin}T23:59:59`;let K=Oe.from("registros_caja").select(`
                  id, fecha, descripcion, valor, numero_factura, forma_pago, moneda, created_at,
                  tipo_movimiento:tipos_movimiento(id, nombre, tipo),
                  usuario:users(id, nombre),
                  medico:medicos(id, nombre),
                  paciente:pacientes(id, nombres, apellido_paterno, apellido_materno)
              `).gte("fecha",$).lte("fecha",F).order("fecha",{ascending:!0});N.usuario&&(K=K.eq("user_id",t)),N.tipo&&(K=K.eq("tipo_movimiento.tipo",N.tipo)),N.categoria&&(K=K.eq("tipo_movimiento_id",N.categoria)),N.paciente&&(K=K.eq("paciente_id",N.paciente)),N.medico&&(K=K.eq("medico_id",N.medico)),N.formaPago&&(K=K.eq("forma_pago",N.formaPago));const{data:J,error:V}=await K;if(V)throw V;const I=(J||[]).map(le=>({...le,tipo_movimiento:le.tipo_movimiento||void 0,usuario:le.usuario||void 0,medico:le.medico||void 0,paciente:le.paciente?{...le.paciente,nombreCompleto:`${le.paciente.nombres||""} ${le.paciente.apellido_paterno||""} ${le.paciente.apellido_materno||""}`.trim()}:void 0})),ne=ro(I);se(ne);const H=Qr(I);ms(H)}catch($){console.error("Error cargando historial:",$),ue.error(`Error al cargar historial: ${$.message}`),se({anos:[],balanceTotalPeriodo:0}),ms({ingresosPorCategoria:{labels:[],datasets:[]},egresosPorCategoria:{labels:[],datasets:[]},distribucionGeneral:{labels:[],datasets:[]},balanceEvolucion:{labels:[],datasets:[]}})}finally{k(!1)}},ro=N=>{const $={};let F=0;return N.forEach(V=>{try{const I=new Date(V.fecha);if(isNaN(I.getTime()))throw new Error("Invalid date in record");const ne=I.getFullYear(),H=I.getMonth();$[ne]||($[ne]={}),$[ne][H]||($[ne][H]={registros:[],balanceMes:0}),$[ne][H].registros.push(V),$[ne][H].balanceMes+=V.valor||0,F+=V.valor||0}catch(I){console.error("Error processing record date:",V,I)}}),{anos:Object.keys($).map(Number).sort((V,I)=>V-I).map(V=>{const I=Object.keys($[V]).map(Number).sort((le,oe)=>le-oe);let ne=0;const H=I.map(le=>{const oe=$[V][le];return ne+=oe.balanceMes,oe.registros.sort((rt,mt)=>new Date(mt.fecha).getTime()-new Date(rt.fecha).getTime()),{mes:le+1,nombreMes:Xr(le),registros:oe.registros,balanceMes:oe.balanceMes}});return{ano:V,meses:H,balanceAnual:ne}}),balanceTotalPeriodo:F}},Qr=N=>{const $=N.filter(Re=>{var lt,fn;return((lt=Re.tipo_movimiento)==null?void 0:lt.tipo)==="Ingreso"||((fn=Re.tipo_movimiento)==null?void 0:fn.tipo)==="Ajuste"&&Re.valor>=0}),F=N.filter(Re=>{var lt,fn;return((lt=Re.tipo_movimiento)==null?void 0:lt.tipo)==="Egreso"||((fn=Re.tipo_movimiento)==null?void 0:fn.tipo)==="Ajuste"&&Re.valor<0}),K=Re=>Re.reduce((lt,fn)=>{var oo;const io=((oo=fn.tipo_movimiento)==null?void 0:oo.nombre)||(fn.valor>=0?"Otros Ingresos/Ajustes":"Otros Egresos/Ajustes");return lt[io]=(lt[io]||0)+Math.abs(fn.valor||0),lt},{}),J=K($),V=K(F),I=Object.values(J).reduce((Re,lt)=>Re+lt,0),ne=Object.values(V).reduce((Re,lt)=>Re+lt,0);let H=0;const oe=N.map(Re=>(H+=Re.valor||0,{fecha:Jr(Re.fecha).fecha,balance:H})).reduce((Re,lt)=>(Re[lt.fecha]=lt.balance,Re),{}),rt=Object.keys(oe),mt=Object.values(oe),xs=["#b0005a","#ffc4e0","#8b0046","#ffe7f3","#4c0026"],vs=["#10B981","#34D399","#6EE7B7","#A7F3D0"],ei=["#EF4444","#F87171","#FCA5A5","#FECACA"];return{ingresosPorCategoria:{labels:Object.keys(J),datasets:[{data:Object.values(J),backgroundColor:vs.slice(0,Object.keys(J).length),borderColor:"#ffffff",borderWidth:1}]},egresosPorCategoria:{labels:Object.keys(V),datasets:[{data:Object.values(V),backgroundColor:ei.slice(0,Object.keys(V).length),borderColor:"#ffffff",borderWidth:1}]},distribucionGeneral:{labels:["Ingresos","Egresos"],datasets:[{data:[I,ne],backgroundColor:[vs[1],ei[1]],borderColor:"#ffffff",borderWidth:1}]},balanceEvolucion:{labels:rt,datasets:[{label:"Balance Acumulado",data:mt,borderColor:xs[0],backgroundColor:"rgba(176, 0, 90, 0.1)",fill:!0,tension:.3,pointBackgroundColor:xs[0],pointRadius:3,pointHoverRadius:5}]}}};D.useEffect(()=>{T&&Tt&&Sn&&dn({fechaInicio:Tt,fechaFin:Sn,usuario:sr,tipo:rr,categoria:fs,paciente:In,medico:ir,formaPago:nt}),T||(se({anos:[],balanceTotalPeriodo:0}),ms({ingresosPorCategoria:{labels:[],datasets:[]},egresosPorCategoria:{labels:[],datasets:[]},distribucionGeneral:{labels:[],datasets:[]},balanceEvolucion:{labels:[],datasets:[]}}))},[T,Tt,Sn,sr,rr,fs,In,ir,nt]);const Q=N=>{const $=N.target.value;u($);try{const F=parseFloat($);isNaN(F)?Ue(0):Ue(Y==="USD"?F*qr:F)}catch{Ue(0)}},pu=N=>{const $=N.target.value;L($);try{const F=parseFloat(l);isNaN(F)||Ue($==="USD"?F*qr:F)}catch{}},mu=async()=>{var K;if(!l||isNaN(parseFloat(l))){ue.error("El valor debe ser un número válido.");return}if(!E){ue.error("Debe seleccionar una categoría.");return}if(!r){ue.error("Debe seleccionar una fecha.");return}let N=he;const $=(K=O.find(J=>J.id===E))==null?void 0:K.tipo;if($==="Ingreso"&&N<0){ue.error("Los ingresos deben ser valores positivos.");return}if($==="Egreso"&&N>0&&(N=-Math.abs(N)),$==="Egreso"&&N===0){ue.error("Los egresos deben tener un valor.");return}const F=new Date(r+"T12:00:00");if(isNaN(F.getTime())){ue.error("Fecha no válida.");return}x(!0);try{const J={fecha:F.toISOString(),tipo_movimiento_id:E,descripcion:o.trim()||" ",valor:N,numero_factura:d.trim()||null,user_id:t,medico_id:ae||null,forma_pago:ce,paciente_id:te||null,moneda:Y},{data:V,error:I}=await Oe.from("registros_caja").insert([J]).select("id").single();if(I)throw I;let ne=!1;if($==="Ingreso"&&ce==="TARJETA"&&N>0){const H=parseFloat((N*.05).toFixed(2)),le=116;if(H>0&&le){const{error:oe}=await Oe.from("registros_caja").insert([{fecha:F.toISOString(),tipo_movimiento_id:le,descripcion:`Comisión tarjeta (${o?o.substring(0,30)+"...":"Ingreso"})`,valor:-H,user_id:t,medico_id:ae||null,forma_pago:"TARJETA",paciente_id:te||null,moneda:"SOLES"}]);oe?(console.error("Error al insertar comisión:",oe),ue.error(`Ingreso registrado, pero falló la comisión: ${oe.message}`)):ne=!0}}ne?ue.success("Ingreso y comisión registrados."):ue.success("Registro agregado correctamente."),a(""),u(""),Ue(0),p(""),fe(null),ps(""),B(null),X(""),L("SOLES"),pe("EFECTIVO"),so(r)}catch(J){console.error("Error agregando registro:",J),ue.error(`Error al agregar registro: ${J.message}`)}finally{x(!1)}},hn=async N=>{if(!N){ue.error("ID inválido.");return}if(window.confirm("¿Estás seguro de eliminar este registro? Esta acción no se puede deshacer.")){x(!0);try{const{error:$}=await Oe.from("registros_caja").delete().eq("id",N);if($)throw $;ue.success("Registro eliminado."),so(r),T&&dn({fechaInicio:Tt,fechaFin:Sn,usuario:sr,tipo:rr,categoria:fs,paciente:In,medico:ir,formaPago:nt})}catch($){console.error("Error eliminando registro:",$),ue.error(`Error al eliminar: ${$.message}`)}finally{x(!1)}}},Ot=()=>{const[N,$]=D.useState([]),[F,K]=D.useState([]),[J,V]=D.useState([]),[I,ne]=D.useState([]);D.useEffect(()=>{(async()=>{try{const[rt,mt,xs,vs]=await Promise.all([Oe.from("users").select("id, nombre"),Oe.from("tipos_movimiento").select("id, nombre, tipo").eq("activo",!0),Oe.from("medicos").select("id, nombre").eq("activo",!0),Oe.from("pacientes").select("id, nombres, apellido_paterno").eq("activo",!0)]);if(rt.error)throw rt.error;if($(rt.data||[]),mt.error)throw mt.error;if(K(mt.data||[]),xs.error)throw xs.error;if(V(xs.data||[]),vs.error)throw vs.error;const ei=(vs.data||[]).map(Re=>({...Re,nombreCompleto:`${Re.nombres} ${Re.apellido_paterno}`.trim()}));ne(ei)}catch(rt){console.error("Error fetching filter options:",rt),ue.error(`Error al cargar opciones de filtro: ${rt.message}`)}})()},[]);const H=()=>{if(!Tt||!Sn){ue.error("Se requieren fechas de inicio y fin.");return}dn({fechaInicio:Tt,fechaFin:Sn,usuario:sr,tipo:rr,categoria:fs,paciente:In,medico:ir,formaPago:nt})},le=()=>{const oe=new Date,rt=new Date(oe.getFullYear(),oe.getMonth(),1).toISOString().split("T")[0],mt=new Date(oe.getFullYear(),oe.getMonth()+1,0).toISOString().split("T")[0];Zi(rt),eo(mt),Ba(""),Ua(""),jt(""),Wa(""),to(""),no(""),dn({fechaInicio:rt,fechaFin:mt})};return f.jsx("div",{className:"p-4 bg-gray-50 rounded-lg shadow-sm border border-gray-200 mb-6",children:f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"fechaInicioHist",className:"block text-xs font-medium text-gray-600 mb-1",children:"Inicio"}),f.jsx("input",{id:"fechaInicioHist",type:"date",value:Tt,onChange:oe=>Zi(oe.target.value),className:"w-full text-sm rounded-md border-gray-300 shadow-sm p-2 border focus:ring-raspberry-500 focus:border-raspberry-500"})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"fechaFinHist",className:"block text-xs font-medium text-gray-600 mb-1",children:"Fin"}),f.jsx("input",{id:"fechaFinHist",type:"date",value:Sn,onChange:oe=>eo(oe.target.value),min:Tt,className:"w-full text-sm rounded-md border-gray-300 shadow-sm p-2 border focus:ring-raspberry-500 focus:border-raspberry-500"})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"usuarioFiltro",className:"block text-xs font-medium text-gray-600 mb-1",children:"Usuario"}),f.jsxs("select",{id:"usuarioFiltro",value:sr,onChange:oe=>Ba(oe.target.value),className:"w-full text-sm rounded-md border-gray-300 shadow-sm p-2 border focus:ring-raspberry-500 focus:border-raspberry-500 bg-white",children:[f.jsx("option",{value:"",children:"Todos"}),N.map(oe=>f.jsx("option",{value:oe.id,children:oe.nombre},oe.id))]})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"tipoFiltro",className:"block text-xs font-medium text-gray-600 mb-1",children:"Tipo"}),f.jsxs("select",{id:"tipoFiltro",value:rr,onChange:oe=>Ua(oe.target.value),className:"w-full text-sm rounded-md border-gray-300 shadow-sm p-2 border focus:ring-raspberry-500 focus:border-raspberry-500 bg-white",children:[f.jsx("option",{value:"",children:"Todos"}),f.jsx("option",{value:"Ingreso",children:"Ingreso"}),f.jsx("option",{value:"Egreso",children:"Egreso"}),f.jsx("option",{value:"Ajuste",children:"Ajuste"})]})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"categoriaFiltro",className:"block text-xs font-medium text-gray-600 mb-1",children:"Categoría"}),f.jsxs("select",{id:"categoriaFiltro",value:fs,onChange:oe=>jt(oe.target.value),className:"w-full text-sm rounded-md border-gray-300 shadow-sm p-2 border focus:ring-raspberry-500 focus:border-raspberry-500 bg-white",children:[f.jsx("option",{value:"",children:"Todas"}),F.map(oe=>f.jsx("option",{value:oe.id,children:oe.nombre},oe.id))]})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"pacienteFiltro",className:"block text-xs font-medium text-gray-600 mb-1",children:"Paciente"}),f.jsxs("select",{id:"pacienteFiltro",value:In,onChange:oe=>Wa(oe.target.value),className:"w-full text-sm rounded-md border-gray-300 shadow-sm p-2 border focus:ring-raspberry-500 focus:border-raspberry-500 bg-white",children:[f.jsx("option",{value:"",children:"Todos"}),I.map(oe=>f.jsx("option",{value:oe.id,children:oe.nombreCompleto},oe.id))]})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"medicoFiltro",className:"block text-xs font-medium text-gray-600 mb-1",children:"Médico"}),f.jsxs("select",{id:"medicoFiltro",value:ir,onChange:oe=>to(oe.target.value),className:"w-full text-sm rounded-md border-gray-300 shadow-sm p-2 border focus:ring-raspberry-500 focus:border-raspberry-500 bg-white",children:[f.jsx("option",{value:"",children:"Todos"}),J.map(oe=>f.jsx("option",{value:oe.id,children:oe.nombre},oe.id))]})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"formaPagoFiltro",className:"block text-xs font-medium text-gray-600 mb-1",children:"Forma Pago"}),f.jsxs("select",{id:"formaPagoFiltro",value:nt,onChange:oe=>no(oe.target.value),className:"w-full text-sm rounded-md border-gray-300 shadow-sm p-2 border focus:ring-raspberry-500 focus:border-raspberry-500 bg-white",children:[f.jsx("option",{value:"",children:"Todas"}),f.jsx("option",{value:"EFECTIVO",children:"Efectivo"}),f.jsx("option",{value:"TARJETA",children:"Tarjeta"}),f.jsx("option",{value:"TRANSFERENCIA",children:"Transferencia"}),f.jsx("option",{value:"YAPE",children:"Yape"}),f.jsx("option",{value:"PLIN",children:"Plin"}),f.jsx("option",{value:"OTROS",children:"Otros"})]})]}),f.jsxs("div",{className:"flex items-end gap-2 col-span-full sm:col-span-1 md:col-span-1 lg:col-span-1 xl:col-span-2",children:[f.jsx("button",{onClick:H,disabled:v,className:"flex-1 px-4 py-2 bg-raspberry-700 text-white rounded-md hover:bg-raspberry-900 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-raspberry-500 disabled:opacity-50 text-sm font-medium transition-colors",children:v?"Buscando...":"Aplicar"}),f.jsx("button",{onClick:le,disabled:v,className:"flex-1 px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-400 disabled:opacity-50 text-sm font-medium transition-colors",children:"Limpiar"})]})]})})};return f.jsxs("div",{className:"bg-gray-50 rounded-lg shadow-md overflow-hidden transition-all duration-300",children:[f.jsxs("div",{className:"bg-gray-50 rounded-lg shadow-md overflow-hidden transition-all duration-300",children:[f.jsxs("div",{className:"bg-gradient-to-r from-[#801461] to-[#5A0D45] p-6 text-white",children:[f.jsx("h1",{className:"text-xl md:text-2xl font-bold",children:"Gestión Financiera"}),f.jsx("div",{className:"w-full flex justify-end mb-4",children:f.jsx("button",{onClick:()=>q(!T),className:`px-4 py-2 text-sm font-medium rounded-md flex items-center transition-colors duration-200 ${T?"bg-white text-[#801461] hover:bg-gray-100":"bg-[#F0E6ED] text-[#801461] hover:bg-[#E0CDD9]"}`,children:T?f.jsxs(f.Fragment,{children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),"Ocultar Historial"]}):f.jsxs(f.Fragment,{children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"Ver Historial y Gráficos"]})})})]}),f.jsxs("div",{className:"p-4 md:p-6 space-y-6",children:[f.jsxs("div",{className:"max-w-xs",children:[f.jsx("label",{htmlFor:"fechaDiaria",className:"block text-sm font-medium text-gray-700 mb-1",children:"Fecha de Registro:"}),f.jsx("input",{id:"fechaDiaria",type:"date",value:r,onChange:N=>i(N.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-raspberry-500 focus:ring-raspberry-500 p-2 border text-sm"})]}),f.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg shadow-sm border border-gray-200",children:[f.jsx("h2",{className:"text-lg font-semibold text-raspberry-900 mb-4",children:"Registro Diario"}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"tipoMov",className:"block text-xs font-medium text-gray-600 mb-1",children:"Tipo*"}),f.jsxs("select",{id:"tipoMov",value:b,onChange:N=>j(N.target.value),className:"w-full text-sm rounded-md border-gray-300 shadow-sm p-2 border focus:ring-raspberry-500 focus:border-raspberry-500 bg-white",children:[f.jsx("option",{value:"Ingreso",children:"Ingreso"}),f.jsx("option",{value:"Egreso",children:"Egreso"}),f.jsx("option",{value:"Ajuste",children:"Ajuste"})]})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"categoriaMov",className:"block text-xs font-medium text-gray-600 mb-1",children:"Categoría*"}),f.jsx("select",{id:"categoriaMov",value:E||"",onChange:N=>M(Number(N.target.value)||null),className:"w-full text-sm rounded-md border-gray-300 shadow-sm p-2 border focus:ring-raspberry-500 focus:border-raspberry-500 bg-white",disabled:g||O.length===0,children:g?f.jsx("option",{children:"Cargando..."}):O.length===0?f.jsx("option",{children:"No hay"}):f.jsxs(f.Fragment,{children:[f.jsx("option",{value:"",children:"Seleccione..."}),O.map(N=>f.jsx("option",{value:N.id,children:N.nombre},N.id))]})})]}),f.jsxs("div",{className:"relative",children:[f.jsx("label",{htmlFor:"medicoReg",className:"block text-xs font-medium text-gray-600 mb-1",children:"Médico"}),f.jsx("input",{id:"medicoReg",type:"text",placeholder:"Buscar...",value:or,onChange:N=>{ps(N.target.value),ar(!0),N.target.value||fe(null)},onFocus:()=>ar(!0),onBlur:()=>setTimeout(()=>ar(!1),150),className:"w-full text-sm rounded-md border-gray-300 shadow-sm p-2 border focus:ring-raspberry-500 focus:border-raspberry-500"}),Pe&&me.filter(N=>N.nombre.toLowerCase().includes(or.toLowerCase())).length>0&&f.jsx("ul",{className:"absolute z-20 w-full bg-white border border-gray-300 rounded-md shadow-lg mt-1 max-h-40 overflow-y-auto",children:me.filter(N=>N.nombre.toLowerCase().includes(or.toLowerCase())).slice(0,10).map(N=>f.jsx("li",{className:"px-3 py-1.5 text-sm hover:bg-raspberry-50 cursor-pointer",onMouseDown:()=>{fe(N.id),ps(N.nombre),ar(!1)},children:N.nombre},N.id))}),ae&&f.jsx("span",{className:"text-xs text-green-600 block mt-0.5",children:"✓ Seleccionado"})]}),f.jsxs("div",{className:"relative",children:[f.jsx("label",{htmlFor:"pacienteReg",className:"block text-xs font-medium text-gray-600 mb-1",children:"Paciente"}),f.jsx("input",{id:"pacienteReg",type:"text",placeholder:"Buscar...",value:G,onChange:N=>{X(N.target.value),hs(N.target.value),Fn(!0),N.target.value||B(null)},onFocus:()=>Fn(!0),onBlur:()=>setTimeout(()=>Fn(!1),150),className:"w-full text-sm rounded-md border-gray-300 shadow-sm p-2 border focus:ring-raspberry-500 focus:border-raspberry-500"}),Gr&&ie.filter(N=>N.nombre.toLowerCase().includes(St.toLowerCase())).length>0&&f.jsx("ul",{className:"absolute z-20 w-full bg-white border border-gray-300 rounded-md shadow-lg mt-1 max-h-40 overflow-y-auto",children:ie.filter(N=>N.nombre.toLowerCase().includes(St.toLowerCase())).slice(0,10).map(N=>f.jsx("li",{className:"px-3 py-1.5 text-sm hover:bg-raspberry-50 cursor-pointer",onMouseDown:()=>{B(N.id),X(N.nombre),hs(N.nombre),Fn(!1)},children:N.nombre},N.id))}),te&&f.jsx("span",{className:"text-xs text-green-600 block mt-0.5",children:"✓ Seleccionado"})]})]}),f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"formaPagoMov",className:"block text-xs font-medium text-gray-600 mb-1",children:"Forma Pago*"}),f.jsxs("select",{id:"formaPagoMov",value:ce,onChange:N=>pe(N.target.value),className:"w-full text-sm rounded-md border-gray-300 shadow-sm p-2 border focus:ring-raspberry-500 focus:border-raspberry-500 bg-white",children:[f.jsx("option",{value:"EFECTIVO",children:"Efectivo"}),f.jsx("option",{value:"TARJETA",children:"Tarjeta"}),f.jsx("option",{value:"TRANSFERENCIA",children:"Transferencia"}),f.jsx("option",{value:"YAPE",children:"Yape"}),f.jsx("option",{value:"PLIN",children:"Plin"}),f.jsx("option",{value:"OTROS",children:"Otros"})]})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"descripcionMov",className:"block text-xs font-medium text-gray-600 mb-1",children:"Descripción"}),f.jsx("input",{id:"descripcionMov",type:"text",value:o,onChange:N=>a(N.target.value||"Sin descripción"),placeholder:"Detalles del movimiento",className:"w-full text-sm rounded-md border-gray-300 shadow-sm p-2 border focus:ring-raspberry-500 focus:border-raspberry-500"})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"valorMov",className:"block text-xs font-medium text-gray-600 mb-1",children:"Valor*"}),f.jsxs("div",{className:"flex gap-2",children:[f.jsxs("select",{value:Y,onChange:pu,"aria-label":"Tipo de Moneda",className:"text-sm rounded-md border-gray-300 shadow-sm p-2 border focus:ring-raspberry-500 focus:border-raspberry-500 bg-white",children:[f.jsx("option",{value:"SOLES",children:"S/"}),f.jsx("option",{value:"USD",children:"$"})]}),f.jsx("input",{id:"valorMov",type:"number",step:"0.01",value:l,onChange:Q,placeholder:"0.00",required:!0,className:"flex-grow text-sm rounded-md border-gray-300 shadow-sm p-2 border focus:ring-raspberry-500 focus:border-raspberry-500"})]}),Y==="USD"&&he>0&&f.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["≈ ",Ct(he,"PEN")]})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"numFactura",className:"block text-xs font-medium text-gray-600 mb-1",children:"Nº Factura"}),f.jsx("input",{id:"numFactura",type:"text",value:d,onChange:N=>p(N.target.value),placeholder:"Ej: F001-123",className:"w-full text-sm rounded-md border-gray-300 shadow-sm p-2 border focus:ring-raspberry-500 focus:border-raspberry-500"})]})]}),f.jsx("div",{className:"pt-2 flex justify-center",children:f.jsx("button",{onClick:mu,disabled:g||!l||!E,className:"px-6 py-2 bg-raspberry-700 text-white rounded-md hover:bg-raspberry-900 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-raspberry-500 disabled:opacity-60 disabled:cursor-not-allowed transition-colors text-sm font-medium shadow-sm",children:g?f.jsxs("span",{className:"flex items-center justify-center",children:[f.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Agregando..."]}):"Agregar Registro"})})]})]}),f.jsxs("div",{className:"mt-6",children:[f.jsxs("h2",{className:"text-lg font-semibold text-raspberry-900 mb-3",children:["Registros del Día (",Jr(r).fecha,")"]}),f.jsx("div",{className:"overflow-x-auto shadow rounded-lg border border-gray-200 bg-white",children:f.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[f.jsx("thead",{className:"bg-gray-50",children:f.jsxs("tr",{children:[f.jsx("th",{className:"px-3 py-2.5 text-right text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"User"}),f.jsx("th",{className:"px-3 py-2.5 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Hora"}),f.jsx("th",{className:"px-3 py-2.5 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Tipo"}),f.jsx("th",{className:"px-3 py-2.5 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Categoría"}),f.jsx("th",{className:"px-3 py-2.5 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Descripción"}),f.jsx("th",{className:"px-3 py-2.5 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Paciente"}),f.jsx("th",{className:"px-3 py-2.5 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Médico"}),f.jsx("th",{className:"px-3 py-2.5 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Forma Pago"}),f.jsx("th",{className:"px-3 py-2.5 text-right text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Valor"}),f.jsx("th",{className:"px-3 py-2.5 text-center text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Acción"})]})}),f.jsxs("tbody",{className:"divide-y divide-gray-200",children:[g&&f.jsx("tr",{children:f.jsx("td",{colSpan:9,className:"py-4 text-center text-sm text-gray-500 italic",children:"Cargando registros..."})}),!g&&n.length===0&&f.jsx("tr",{children:f.jsx("td",{colSpan:9,className:"py-4 text-center text-sm text-gray-500 italic",children:"No hay registros para esta fecha."})}),!g&&n.map(N=>{var H,le,oe,rt,mt;const{hora:$}=Jr(N.created_at),F=(H=N.tipo_movimiento)==null?void 0:H.tipo,K=$n(N.valor,F),J=Kr(N.valor,F),V=((le=N.paciente)==null?void 0:le.nombres)||"N/A",I=((oe=N.medico)==null?void 0:oe.nombre)||"N/A";let ne="bg-gray-100 text-gray-800";return F==="Ingreso"?ne="bg-green-100 text-green-800":F==="Egreso"?ne="bg-red-100 text-red-800":F==="Ajuste"&&(ne="bg-yellow-100 text-yellow-800"),f.jsxs("tr",{className:"hover:bg-gray-50 transition-colors duration-100",children:[f.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-gray-600",children:((rt=N.usuario)==null?void 0:rt.nombre)||"N/A"}),f.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-gray-500",children:$}),f.jsx("td",{className:"px-3 py-2 whitespace-nowrap",children:f.jsx("span",{className:`px-2 py-0.5 inline-flex text-xs leading-5 font-semibold rounded-full ${ne}`,children:F||"N/A"})}),f.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-gray-800",children:((mt=N.tipo_movimiento)==null?void 0:mt.nombre)||"N/A"}),f.jsx("td",{className:"px-3 py-2 text-sm text-gray-600 max-w-xs truncate",title:N.descripcion,children:N.descripcion||"-"}),f.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-gray-600",children:V}),f.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-gray-600",children:I}),f.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-gray-600",children:N.forma_pago||"N/A"}),f.jsx("td",{className:`px-3 py-2 whitespace-nowrap text-sm text-right font-medium ${K}`,children:J}),f.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-center text-sm font-medium",children:f.jsx("button",{onClick:()=>hn(N.id),disabled:g,title:"Eliminar Registro",className:"text-red-500 hover:text-red-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})})]},N.id)})]}),f.jsx("tfoot",{className:"bg-gray-150",children:f.jsxs("tr",{children:[f.jsx("td",{colSpan:8,className:"px-3 py-2 text-right text-sm font-semibold text-gray-700",children:"Total del Día:"}),f.jsx("td",{className:`px-3 py-2 text-right text-sm font-bold ${S>=0?"text-green-700":"text-red-700"}`,children:Ct(S)}),f.jsx("td",{className:"px-3 py-3"})]})})]})})]})]})]}),T&&f.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-200 space-y-6",children:[f.jsx("h2",{className:"overflow-x-auto text-lg font-semibold text-raspberry-900 mb-3",children:"   Historial y Análisis"}),f.jsx(Ot,{}),v&&f.jsx("div",{className:"text-center py-10",children:f.jsx("p",{className:"text-sm text-gray-500 italic",children:"Cargando historial..."})}),!v&&z.anos.length===0&&f.jsxs("div",{className:"text-center py-10 bg-white rounded-lg shadow border border-gray-200",children:[f.jsx("p",{className:"text-md text-gray-600",children:"No se encontraron registros para el período y filtros seleccionados."}),f.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Intente ajustar las fechas o los filtros."})]}),!v&&z.anos.length>0&&f.jsxs("div",{className:"space-y-8",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6 items-stretch",children:[f.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-md border border-gray-200 flex flex-col h-full",children:[f.jsx("h3",{className:"text-lg font-bold text-gray-800 text-center mb-4",children:" Ingresos por Categoría"}),((gs=(Ee=(Zr=(ye=Ge.ingresosPorCategoria)==null?void 0:ye.datasets)==null?void 0:Zr[0])==null?void 0:Ee.data)==null?void 0:gs.length)>0?f.jsxs("div",{className:"space-y-6 flex flex-col flex-grow",children:[f.jsx("div",{className:"h-48 flex-shrink-0",children:f.jsx(Cd,{data:Ge.ingresosPorCategoria,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{callbacks:{label:function(N){const $=N.dataset.data.reduce((J,V)=>J+V,0),F=N.raw,K=$>0?Math.round(F/$*100):0;return`${N.label}: $${F.toLocaleString()} (${K}%)`}}}}}})}),f.jsx("div",{className:"overflow-x-auto rounded-lg border border-gray-100 flex-shrink-0",children:f.jsxs("table",{className:"min-w-full text-sm divide-y divide-gray-200",children:[f.jsx("thead",{className:"bg-gray-50",children:f.jsxs("tr",{children:[f.jsx("th",{className:"px-4 py-2 text-left font-semibold text-gray-600",children:"Categoría"}),f.jsx("th",{className:"px-4 py-2 text-right font-semibold text-gray-600",children:"Monto"}),f.jsx("th",{className:"px-4 py-2 text-right font-semibold text-gray-600",children:"% del Total"})]})}),f.jsx("tbody",{className:"divide-y divide-gray-100",children:(()=>{const N=Ge.ingresosPorCategoria,$=N.labels||[],F=N.datasets[0].data||[],K=F.reduce((V,I)=>V+I,0),J=$.map((V,I)=>({label:V,value:F[I],percentage:K>0?F[I]/K*100:0})).sort((V,I)=>I.value-V.value);return f.jsxs(f.Fragment,{children:[J.map((V,I)=>f.jsxs("tr",{className:I%2===0?"bg-white":"bg-gray-50",children:[f.jsx("td",{className:"px-4 py-2 font-medium text-gray-700",children:V.label}),f.jsxs("td",{className:"px-4 py-2 text-right",children:["$",V.value.toLocaleString()]}),f.jsxs("td",{className:"px-4 py-2 text-right",children:[V.percentage.toFixed(1),"%"]})]},I)),K>0&&f.jsxs("tr",{className:"bg-green-50 font-semibold text-green-800",children:[f.jsx("td",{className:"px-4 py-2",children:"Total Ingresos"}),f.jsxs("td",{className:"px-4 py-2 text-right",children:["$",K.toLocaleString()]}),f.jsx("td",{className:"px-4 py-2 text-right",children:"100%"})]})]})})()})]})}),f.jsxs("div",{className:"p-4 bg-green-50 border border-green-200 rounded-xl mt-auto flex-shrink-0",children:[f.jsx("h4",{className:"text-green-900 font-bold mb-2",children:"💡 Insights de Ingresos:"}),f.jsx("ul",{className:"space-y-2 text-green-800 text-sm",children:(()=>{const N=Ge.ingresosPorCategoria,$=N.labels||[],F=N.datasets[0].data||[],K=F.reduce((I,ne)=>I+ne,0);if(K===0)return f.jsx("li",{children:"No hay datos para generar insights."});const J=$.map((I,ne)=>({label:I,value:F[ne],percentage:K>0?F[ne]/K*100:0})).sort((I,ne)=>ne.value-I.value),V=[];if(J.length>0&&V.push(`✅ La categoría principal es **${J[0].label}**, aportando el ${J[0].percentage.toFixed(1)}% del total ($${J[0].value.toLocaleString()}).`),J.length>=3){const I=J.slice(0,3).reduce((ne,H)=>ne+H.percentage,0);I>80?V.push(`⚠️ Más del 80% de los ingresos (${I.toFixed(1)}%) proviene de solo **${J.slice(0,3).map(ne=>ne.label).join(", ")}**. Considera diversificar.`):V.push(`📌 Buena diversificación: Las 3 categorías principales suman el ${I.toFixed(1)}% del total.`)}else J.length>0&&V.push(`📌 Los ingresos se concentran en ${J.length} categorí${J.length>1?"as":"a"}.`);if(J.length>=2){const I=J[1].value>0?J[0].value/J[1].value:1/0;I>=2&&I!==1/0&&V.push(`📈 **${J[0].label}** genera ${I.toFixed(1)} veces más ingresos que **${J[1].label}**.`)}return V.push(`💰 **Total de ingresos:** $${K.toLocaleString()}`),V.map((I,ne)=>f.jsxs("li",{className:"flex items-start gap-1.5",children:[f.jsx("span",{className:"mt-0.5 text-base",children:"•"}),f.jsx("span",{dangerouslySetInnerHTML:{__html:I}})]},ne))})()})]})]}):f.jsx("p",{className:"text-sm text-gray-500 text-center italic mt-8 flex-grow flex items-center justify-center",children:"No hay datos de ingresos por categoría disponibles"})]}),f.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-md border border-gray-200 flex flex-col h-full",children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-800 text-center mb-4",children:"Egresos por Categoría"}),((Zt=(st=(cr=(Ha=Ge.egresosPorCategoria)==null?void 0:Ha.datasets)==null?void 0:cr[0])==null?void 0:st.data)==null?void 0:Zt.length)>0?f.jsxs("div",{className:"space-y-6 flex flex-col flex-grow",children:[f.jsx("div",{className:"h-48 flex-shrink-0",children:f.jsx(Cd,{data:Ge.egresosPorCategoria,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{callbacks:{label:function(N){const $=N.dataset.data.reduce((J,V)=>J+V,0),F=N.raw,K=$>0?Math.round(F/$*100):0;return`${N.label}: $${F.toLocaleString()} (${K}%)`}}}}}})}),f.jsx("div",{className:"overflow-x-auto rounded-lg border border-gray-100 flex-shrink-0",children:f.jsxs("table",{className:"min-w-full text-sm divide-y divide-gray-200",children:[f.jsx("thead",{className:"bg-gray-50",children:f.jsxs("tr",{children:[f.jsx("th",{className:"px-4 py-2 text-left font-semibold text-gray-600",children:"Categoría"}),f.jsx("th",{className:"px-4 py-2 text-right font-semibold text-gray-600",children:"Monto"}),f.jsx("th",{className:"px-4 py-2 text-right font-semibold text-gray-600",children:"% del Total"})]})}),f.jsx("tbody",{className:"divide-y divide-gray-100",children:(()=>{const N=Ge.egresosPorCategoria,$=N.labels||[],F=N.datasets[0].data||[],K=F.reduce((V,I)=>V+I,0),J=$.map((V,I)=>({label:V,value:F[I],percentage:K>0?F[I]/K*100:0})).sort((V,I)=>I.value-V.value);return f.jsxs(f.Fragment,{children:[J.map((V,I)=>f.jsxs("tr",{className:I%2===0?"bg-white":"bg-gray-50",children:[f.jsx("td",{className:"px-4 py-2 font-medium text-gray-700",children:V.label}),f.jsxs("td",{className:"px-4 py-2 text-right",children:["$",V.value.toLocaleString()]}),f.jsxs("td",{className:"px-4 py-2 text-right",children:[V.percentage.toFixed(1),"%"]})]},I)),K>0&&f.jsxs("tr",{className:"bg-red-50 font-semibold text-red-800",children:[f.jsx("td",{className:"px-4 py-2",children:"Total Egresos"}),f.jsxs("td",{className:"px-4 py-2 text-right",children:["$",K.toLocaleString()]}),f.jsx("td",{className:"px-4 py-2 text-right",children:"100%"})]})]})})()})]})}),f.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4 mt-auto flex-shrink-0",children:[f.jsx("h4",{className:"font-semibold text-red-900 mb-2",children:"🔍 Análisis de Gastos"}),f.jsx("ul",{className:"space-y-2 text-sm text-red-800",children:(()=>{const N=Ge.egresosPorCategoria,$=N.labels||[],F=N.datasets[0].data||[],K=F.reduce((I,ne)=>I+ne,0);if(K===0)return f.jsx("li",{children:"No hay datos para generar insights."});const J=$.map((I,ne)=>({label:I,value:F[ne],percentage:K>0?F[ne]/K*100:0})).sort((I,ne)=>ne.value-I.value),V=[];if(J.length>0&&V.push(`❗️ El mayor gasto es **${J[0].label}**, representando el ${J[0].percentage.toFixed(1)}% del total ($${J[0].value.toLocaleString()}).`),J.length>=3){const I=J.slice(0,3).reduce((ne,H)=>ne+H.percentage,0);I>75?V.push(`⚠️ El ${I.toFixed(1)}% de los gastos se concentra en **${J.slice(0,3).map(ne=>ne.label).join(", ")}**. Evalúa si es posible optimizar.`):V.push(`📊 Gastos diversificados: Las 3 categorías principales suman el ${I.toFixed(1)}%.`)}else J.length>0&&V.push(`📊 Los gastos se distribuyen en ${J.length} categorí${J.length>1?"as":"a"}.`);if(J.length>1){const I=J[J.length-1];I&&I.percentage<5&&V.push(`📉 **${I.label}** tiene un impacto bajo en los gastos (${I.percentage.toFixed(1)}%).`)}return V.push(`💸 **Total de egresos:** $${K.toLocaleString()}`),V.map((I,ne)=>f.jsxs("li",{className:"flex items-start gap-1.5",children:[f.jsx("span",{className:"mt-0.5 text-base",children:"•"}),f.jsx("span",{dangerouslySetInnerHTML:{__html:I}})]},ne))})()})]})]}):f.jsx("p",{className:"text-sm text-gray-500 text-center italic mt-8 flex-grow flex items-center justify-center",children:"No hay datos de egresos por categoría disponibles"})]}),f.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-md border border-gray-200 flex flex-col h-full md:col-span-2 xl:col-span-1",children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-800 text-center mb-4",children:"Ingresos vs Egresos"}),(en=(At=(qe=(Yt=Ge.distribucionGeneral)==null?void 0:Yt.datasets)==null?void 0:qe[0])==null?void 0:At.data)!=null&&en.some(N=>N>0)?f.jsxs("div",{className:"space-y-6 flex flex-col flex-grow",children:[f.jsx("div",{className:"h-48 flex-shrink-0",children:f.jsx(Cd,{data:Ge.distribucionGeneral,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom",labels:{padding:15,boxWidth:12}},tooltip:{callbacks:{label:function(N){const $=N.dataset.data.reduce((J,V)=>J+V,0),F=N.raw,K=$>0?Math.round(F/$*100):0;return`${N.label}: $${F.toLocaleString()} (${K}%)`}}}}}})}),f.jsx("div",{className:"overflow-x-auto rounded-lg border border-gray-100 flex-shrink-0",children:f.jsxs("table",{className:"min-w-full text-sm divide-y divide-gray-200",children:[f.jsx("thead",{className:"bg-gray-50",children:f.jsxs("tr",{children:[f.jsx("th",{className:"px-4 py-2 text-left font-semibold text-gray-600",children:"Concepto"}),f.jsx("th",{className:"px-4 py-2 text-right font-semibold text-gray-600",children:"Monto"}),f.jsx("th",{className:"px-4 py-2 text-right font-semibold text-gray-600",children:"% del Total"})]})}),f.jsx("tbody",{className:"divide-y divide-gray-100",children:(()=>{var I,ne;const N=Ge.distribucionGeneral,$=N.labels||[],F=N.datasets[0].data||[],K=F.reduce((H,le)=>H+le,0),J=$.map((H,le)=>({label:H,value:F[le],percentage:K>0?F[le]/K*100:0,bgColor:/ingreso/i.test(H)?"bg-green-50":/egreso/i.test(H)?"bg-red-50":"bg-white",textColor:/ingreso/i.test(H)?"text-green-800":/egreso/i.test(H)?"text-red-800":"text-gray-700"})).sort((H,le)=>le.value-H.value),V=(((I=J.find(H=>/ingreso/i.test(H.label)))==null?void 0:I.value)||0)-(((ne=J.find(H=>/egreso/i.test(H.label)))==null?void 0:ne.value)||0);return f.jsxs(f.Fragment,{children:[J.map((H,le)=>f.jsxs("tr",{className:`${H.bgColor} hover:bg-gray-100`,children:[f.jsx("td",{className:`px-4 py-2 font-medium ${H.textColor}`,children:H.label}),f.jsxs("td",{className:`px-4 py-2 text-right ${H.textColor}`,children:["$",H.value.toLocaleString()]}),f.jsxs("td",{className:`px-4 py-2 text-right ${H.textColor}`,children:[H.percentage.toFixed(1),"%"]})]},le)),f.jsxs("tr",{className:`font-semibold ${V>=0?"bg-green-100 text-green-900":"bg-red-100 text-red-900"}`,children:[f.jsx("td",{className:"px-4 py-2",children:"Balance (Ingresos - Egresos)"}),f.jsxs("td",{className:"px-4 py-2 text-right",colSpan:2,children:["$",V.toLocaleString()]})]})]})})()})]})}),f.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-xl p-4 mt-auto flex-shrink-0",children:[f.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"⚖️ Análisis de Balance"}),f.jsx("ul",{className:"space-y-2 text-sm text-gray-700",children:(()=>{const N=Ge.distribucionGeneral,$=N.labels||[],F=N.datasets[0].data||[],K=F.reduce((H,le)=>H+le,0);if(K===0)return f.jsx("li",{children:"No hay datos para generar insights."});const J=$.map((H,le)=>({label:H,value:F[le],percentage:K>0?F[le]/K*100:0})).sort((H,le)=>le.value-H.value),V=[],I=J.find(H=>/ingreso/i.test(H.label)),ne=J.find(H=>/egreso/i.test(H.label));if(I&&ne){const H=I.value-ne.value,le=H>=0?"+":"-",oe=H>=0?"text-green-700 font-semibold":"text-red-700 font-semibold";V.push(`📊 Comparativa: Ingresos (${I.percentage.toFixed(1)}%) vs Egresos (${ne.percentage.toFixed(1)}%).`),V.push(H>=0?`✅ ¡Superávit! El balance es <span class="${oe}">${le}$${Math.abs(H).toLocaleString()}</span>.`:`⚠️ ¡Déficit! El balance es <span class="${oe}">${le}$${Math.abs(H).toLocaleString()}</span>. Revisa tus gastos.`)}else I?V.push(`✅ Solo se registraron ingresos por $${I.value.toLocaleString()}.`):ne&&V.push(`⚠️ Solo se registraron egresos por $${ne.value.toLocaleString()}.`);return V.push(`💰 **Flujo total (Ingresos + Egresos):** $${K.toLocaleString()}`),V.map((H,le)=>f.jsxs("li",{className:"flex items-start gap-1.5",children:[f.jsx("span",{className:"mt-0.5 text-base",children:"•"}),f.jsx("span",{dangerouslySetInnerHTML:{__html:H}})]},le))})()})]})]}):f.jsx("p",{className:"text-sm text-gray-500 text-center italic mt-8 flex-grow flex items-center justify-center",children:"Sin datos para comparar Ingresos vs Egresos"})]}),f.jsxs("div",{className:"md:col-span-2 xl:col-span-3 bg-white p-6 rounded-lg shadow border border-gray-200 space-y-6",children:[f.jsx("h3",{className:"text-md font-semibold text-gray-700 mb-3",children:"Evolución del Balance"}),((ys=(Va=(Ya=(jn=Ge.balanceEvolucion)==null?void 0:jn.datasets)==null?void 0:Ya[0])==null?void 0:Va.data)==null?void 0:ys.length)>0?f.jsx(f.Fragment,{children:f.jsx("div",{className:"h-60",children:f.jsx(TO,{data:{...Ge.balanceEvolucion,datasets:[...Ge.balanceEvolucion.datasets||[],Ge.ingresosAcumulado&&{label:"Ingresos Acumulados",data:Ge.ingresosAcumulado.datasets[0].data,borderColor:"rgb(34, 197, 94)",backgroundColor:"rgba(34, 197, 94, 0.1)",fill:!1,tension:.3,yAxisID:"y"},Ge.egresosAcumulado&&{label:"Egresos Acumulados",data:Ge.egresosAcumulado.datasets[0].data,borderColor:"rgb(239, 68, 68)",backgroundColor:"rgba(239, 68, 68, 0.1)",fill:!1,tension:.3,yAxisID:"y"}].filter(Boolean)},options:{responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},scales:{y:{beginAtZero:!0,position:"left",title:{display:!0,text:"Monto Acumulado"}},x:{title:{display:!0,text:"Fecha"}}},plugins:{legend:{display:!0,position:"bottom"},tooltip:{callbacks:{label:N=>`${N.dataset.label}: $${N.parsed.y.toLocaleString()}`}}}}})})}):f.jsx("p",{className:"text-sm text-gray-500 text-center italic mt-8",children:"Datos insuficientes para mostrar la evolución"})]})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-lg font-semibold text-raspberry-900 mb-4",children:"Detalle del Historial"}),f.jsx("div",{className:"space-y-6",children:z.anos.map(N=>f.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border border-gray-200",children:[f.jsxs("h4",{className:"text-lg font-semibold text-gray-800 mb-3 flex justify-between items-center",children:[f.jsxs("span",{children:["Año ",N.ano]}),f.jsxs("span",{className:`text-sm font-bold ${N.balanceAnual>=0?"text-green-600":"text-red-600"}`,children:["Balance Anual: ",Ct(N.balanceAnual)]})]}),f.jsx("div",{className:"space-y-4",children:N.meses.map($=>f.jsxs("details",{className:"border-b border-gray-100 last:border-b-0 pb-2 mb-2",children:[f.jsxs("summary",{className:"cursor-pointer text-md font-medium text-gray-700 hover:text-raspberry-800 flex justify-between items-center py-1",children:[f.jsx("span",{className:"capitalize",children:$.nombreMes}),f.jsxs("span",{className:`text-sm font-semibold ${$.balanceMes>=0?"text-green-600":"text-red-600"}`,children:["Balance Mes: ",Ct($.balanceMes)]})]}),$.registros.length>0?f.jsx("div",{className:"overflow-x-auto mt-2 pl-4 pr-1",children:f.jsxs("table",{className:"min-w-full divide-y divide-gray-200 text-sm",children:[f.jsx("thead",{className:"bg-gray-50",children:f.jsxs("tr",{children:[f.jsx("th",{className:"px-2 py-1.5 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fecha"}),f.jsx("th",{className:"px-2 py-1.5 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tipo"}),f.jsx("th",{className:"px-2 py-1.5 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cat."}),f.jsx("th",{className:"px-2 py-1.5 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Desc."}),f.jsx("th",{className:"px-2 py-1.5 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Paciente"}),f.jsx("th",{className:"px-2 py-1.5 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Médico"}),f.jsx("th",{className:"px-2 py-1.5 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Valor"})]})}),f.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:$.registros.map(F=>{var I,ne,H,le;const{fecha:K}=Jr(F.fecha),J=(I=F.tipo_movimiento)==null?void 0:I.tipo,V=$n(F.valor,J);return f.jsxs("tr",{className:"hover:bg-gray-50",children:[f.jsx("td",{className:"px-2 py-1.5 whitespace-nowrap",children:K}),f.jsx("td",{className:"px-2 py-1.5",children:f.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${J==="Ingreso"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:J})}),f.jsx("td",{className:"px-2 py-1.5",children:((ne=F.categoria)==null?void 0:ne.nombre)||"-"}),f.jsx("td",{className:"px-2 py-1.5 truncate max-w-xs",title:F.descripcion,children:F.descripcion||"-"}),f.jsx("td",{className:"px-2 py-1.5",children:((H=F.paciente)==null?void 0:H.nombre)||"-"}),f.jsx("td",{className:"px-2 py-1.5",children:((le=F.medico)==null?void 0:le.nombre)||"-"}),f.jsx("td",{className:`px-2 py-1.5 text-right whitespace-nowrap font-medium ${V}`,children:Ct(F.valor)})]},F.id)})})]})}):f.jsx("p",{className:"text-xs text-gray-400 italic pl-4 mt-1",children:"No hay registros para este mes."})]},$.mes))})]},N.ano))})]})]})]})]})}Qi.register(Er,hp,up,Ma,Da,Zo,dp);const G_=({activeTab:t})=>{const[e,n]=D.useState([]),[s,r]=D.useState(!0),[i,o]=D.useState(!1),[a,l]=D.useState(null),[u,d]=D.useState(""),[p,g]=D.useState(!1),[x,v]=D.useState(!1),[k,S]=D.useState([]),[_,b]=D.useState([]),[j,E]=D.useState({dni:"",nombres:"",apellido_paterno:"",apellido_materno:"",fecha_nacimiento:"",sexo:"M",celular:"",telefono_fijo:"",correo:"",direccion:"",distrito:"",grupo_sanguineo:"",alergias:"",enfermedades_cronicas:"",medicamentos_actuales:"",seguro_medico:"",estado_civil:"",ocupacion:"",referencia:"",historial_dental:""}),M=P=>{if(!P)return"N/A";const Y=new Date(P),L=new Date;let he=L.getFullYear()-Y.getFullYear();const Ue=L.getMonth()-Y.getMonth();return(Ue<0||Ue===0&&L.getDate()<Y.getDate())&&he--,`${he} años`},O=()=>{const P=[{range:"0-18 años",min:0,max:18,count:0},{range:"19-30 años",min:19,max:30,count:0},{range:"31-45 años",min:31,max:45,count:0},{range:"46-60 años",min:46,max:60,count:0},{range:"60+ años",min:61,max:200,count:0}];return e.forEach(Y=>{if(!Y.fecha_nacimiento)return;const L=new Date(Y.fecha_nacimiento),he=new Date().getFullYear()-L.getFullYear(),Ue=P.find(St=>he>=St.min&&he<=St.max);Ue&&Ue.count++}),P},A=()=>{const P={};return e.forEach(Y=>{const L=Y.distrito||"No especificado";P[L]=(P[L]||0)+1}),Object.entries(P).map(([Y,L])=>({name:Y,count:L})).sort((Y,L)=>L.count-Y.count)},T=()=>{const P={M:0,F:0,O:0};return e.forEach(Y=>{P[Y.sexo]++}),Object.entries(P).map(([Y,L])=>({type:Y,count:L}))},q=()=>{const P={};return e.forEach(Y=>{const L=Y.ciudad||"No especificado";P[L]=(P[L]||0)+1}),Object.entries(P).map(([Y,L])=>({name:Y,count:L})).sort((Y,L)=>L.count-Y.count)};D.useEffect(()=>{t==="pacientes"&&z()},[t]);const z=async()=>{try{r(!0);const{data:P,error:Y}=await Oe.from("pacientes").select("*").order("nombres",{ascending:!0});if(Y)throw Y;n(P||[])}catch(P){console.error("Error al cargar pacientes:",P),ue.error("Error al cargar lista de pacientes")}finally{r(!1)}},se=async()=>["Ancón","Ate","Barranco","Breña","Carabayllo","Chaclacayo","Chorrillos","Cieneguilla","Comas","El Agustino","Independencia","Jesús María","La Molina","La Victoria","Lima (Cercado)","Lince","Los Olivos","Lurigancho-Chosica","Lurín","Magdalena del Mar","Miraflores","Pachacámac","Pucusana","Pueblo Libre","Puente Piedra","Punta Hermosa","Punta Negra","Rímac","San Bartolo","San Borja","San Isidro","San Juan de Lurigancho","San Juan de Miraflores","San Luis","San Martín de Porres","San Miguel","Santa Anita","Santa María del Mar","Santa Rosa","Santiago de Surco","Surquillo","Villa El Salvador","Villa María del Triunfo","Surco","Otros"].sort((P,Y)=>P.localeCompare(Y)),ae=async()=>["Abancay","Arequipa","Ayacucho","Cajamarca","Callao","Cerro de Pasco","Chachapoyas","Chiclayo","Cusco","Huacho","Huancavelica","Huancayo","Huaraz","Huánuco","Ica","Iquitos","Lima","Moquegua","Moyobamba","Piura","Puerto Maldonado","Pucallpa","Puno","Tacna","Trujillo","Tumbes"].sort((P,Y)=>P.localeCompare(Y));D.useEffect(()=>{(async()=>{const[Y,L]=await Promise.all([se(),ae()]);S(Y),b(L)})()},[]),D.useEffect(()=>{z()},[]);const fe=P=>{l(P),v(!0)},ce=P=>{const{name:Y,value:L}=P.target;E(he=>({...he,[Y]:L}))},pe=P=>{P.preventDefault(),me()},me=async()=>{try{r(!0);const P={...j,activo:!0};let Y;if(a){const{data:L,error:he}=await Oe.from("pacientes").update(P).eq("id",a.id).select();if(he)throw he;Y=L,ue.success("Paciente actualizado correctamente")}else{const{data:L,error:he}=await Oe.from("pacientes").insert([P]).select();if(he)throw he.code==="23505"?new Error("Ya existe un paciente con este DNI"):he;Y=L,ue.success("Paciente guardado correctamente")}z(),X(),o(!1)}catch(P){console.error("Error al guardar paciente:",P),ue.error(P.message||"Error al guardar paciente")}finally{r(!1)}},ve=P=>{E({dni:P.dni||"",nombres:P.nombres,apellido_paterno:P.apellido_paterno,apellido_materno:P.apellido_materno||"",fecha_nacimiento:P.fecha_nacimiento||"",sexo:P.sexo||"M",celular:P.celular||"",telefono_fijo:P.telefono_fijo||"",correo:P.correo||"",direccion:P.direccion||"",ciudad:P.ciudad||"",distrito:P.distrito||"",grupo_sanguineo:P.grupo_sanguineo||"",alergias:P.alergias||"",enfermedades_cronicas:P.enfermedades_cronicas||"",medicamentos_actuales:P.medicamentos_actuales||"",seguro_medico:P.seguro_medico||"",estado_civil:P.estado_civil||"",ocupacion:P.ocupacion||"",referencia:P.referencia||"",historial_dental:P.historial_dental||""}),l(P),o(!0)},G=async P=>{if(window.confirm("¿Está seguro de eliminar este paciente?"))try{const{error:Y}=await Oe.from("pacientes").delete().eq("id",P);if(Y)throw Y;ue.success("Paciente eliminado correctamente"),z(),(a==null?void 0:a.id)===P&&l(null)}catch(Y){console.error("Error al eliminar paciente:",Y),ue.error(Y.message||"Error al eliminar paciente")}},X=()=>{E({dni:"",nombres:"",apellido_paterno:"",apellido_materno:"",fecha_nacimiento:"",sexo:"M",celular:"",telefono_fijo:"",correo:"",direccion:"",ciudad:"",distrito:"",grupo_sanguineo:"",alergias:"",enfermedades_cronicas:"",medicamentos_actuales:"",seguro_medico:"",estado_civil:"",ocupacion:"",referencia:"",historial_dental:""}),l(null)},te=D.useMemo(()=>e.filter(P=>{var L,he,Ue,St,hs,Gr,Fn,Tt;const Y=u.toLowerCase();return P.nombres.toLowerCase().includes(Y)||P.apellido_paterno.toLowerCase().includes(Y)||((he=(L=P.apellido_materno)==null?void 0:L.toLowerCase())==null?void 0:he.includes(Y))||!1||((St=(Ue=P.dni)==null?void 0:Ue.toLowerCase())==null?void 0:St.includes(Y))||!1||((Gr=(hs=P.celular)==null?void 0:hs.toLowerCase())==null?void 0:Gr.includes(Y))||!1||((Tt=(Fn=P.correo)==null?void 0:Fn.toLowerCase())==null?void 0:Tt.includes(Y))||!1}),[e,u]),B=p?te:te.slice(0,15),ie=()=>{g(!p)};return f.jsxs("div",{className:"bg-gray-50 rounded-lg shadow-md overflow-hidden transition-all duration-300",children:[f.jsx("div",{className:"bg-gradient-to-r from-[#801461] to-[#5A0D45] p-6 text-white",children:f.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center space-y-4 sm:space-y-0",children:[f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx("h2",{className:"text-xl font-bold",children:"Gestión de Pacientes"}),f.jsxs("span",{className:"bg-white text-[#5A0D45] px-2 py-1 rounded-full text-xs font-semibold",children:[e.filter(P=>P.activo).length," activos"]})]}),f.jsxs("button",{onClick:()=>{X(),o(!0)},className:"px-4 py-2 text-sm font-medium text-white rounded-md bg-[#9D1C7A] hover:bg-[#801461] transition-all duration-300 shadow-md flex items-center justify-center",children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Nuevo Paciente"]})]})}),f.jsx("div",{className:"px-4 py-6 mx-auto max-w-7xl sm:px-6 lg:px-8",children:f.jsxs("div",{className:"mb-6 flex flex-col sm:flex-row gap-4",children:[f.jsx("div",{className:"flex-1",children:f.jsx("input",{type:"text",placeholder:"Buscar pacientes...",value:u,onChange:P=>d(P.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})}),f.jsx("button",{onClick:ie,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 flex items-center justify-center",children:p?"Mostrar Menos":"Mostrar Todos"})]})}),f.jsx("div",{className:"overflow-x-auto bg-white rounded-b-lg",children:f.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[f.jsx("thead",{className:"bg-[#F8F5F7]",children:f.jsxs("tr",{children:[f.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-[#801461] uppercase tracking-wider",children:"Paciente"}),f.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-[#801461] uppercase tracking-wider hidden sm:table-cell",children:"DNI"}),f.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-[#801461] uppercase tracking-wider hidden md:table-cell",children:"Edad"}),f.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-[#801461] uppercase tracking-wider hidden lg:table-cell",children:"Teléfono"}),f.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-[#801461] uppercase tracking-wider hidden xl:table-cell",children:"Acciones"})]})}),f.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.length===0?f.jsx("tr",{children:f.jsx("td",{colSpan:6,className:"px-6 py-4 text-center text-sm text-gray-500",children:f.jsxs("div",{className:"flex flex-col items-center justify-center py-6",children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 text-[#B58AAD] mb-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),f.jsx("p",{className:"text-[#5A0D45]",children:"No se encontraron pacientes"}),f.jsx("button",{onClick:()=>{X(),o(!0)},className:"mt-2 text-sm text-[#801461] hover:text-[#5A0D45] font-medium underline",children:"Agregar nuevo paciente"})]})})}):B.map(P=>f.jsxs("tr",{className:"hover:bg-[#F8F5F7] transition-colors duration-150 cursor-pointer",onClick:()=>fe(P),children:[f.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:`${P.nombres} ${P.apellido_paterno} ${P.apellido_materno||""}`}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 hidden sm:table-cell",children:P.dni||"-"}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 hidden md:table-cell",children:P.fecha_nacimiento?M(P.fecha_nacimiento):"N/A"}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 hidden lg:table-cell",children:P.celular||"-"}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium hidden xl:table-cell",children:f.jsxs("div",{className:"flex justify-center space-x-2",children:[f.jsx("button",{onClick:Y=>{Y.stopPropagation(),ve(P)},className:"text-primary-600 hover:text-primary-900",style:{color:"#801461"},children:f.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),f.jsx("button",{onClick:Y=>{Y.stopPropagation(),G(P.id)},className:"text-red-600 hover:text-red-900",children:f.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})})]},P.id))})]})}),i&&f.jsx("div",{className:"fixed inset-0 bg-[#595959] bg-opacity-60 flex items-center justify-center p-4 z-50 backdrop-blur-sm",children:f.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl max-h-[90vh] overflow-y-auto flex flex-col border border-[#E0CDD9]",children:[f.jsxs("div",{className:"sticky top-0 px-6 py-4 border-b border-[#E0CDD9] bg-gradient-to-r from-[#801461] to-[#5A0D45] z-10 flex justify-between items-center",children:[f.jsxs("h2",{className:"text-lg font-medium text-white flex items-center",children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"})}),a?"Editar Paciente":"Nuevo Paciente"]}),f.jsx("button",{onClick:()=>{o(!1),X()},className:"text-white hover:text-[#E0CDD9] transition-colors duration-200",children:f.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),f.jsxs("form",{onSubmit:pe,className:"p-6",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsxs("div",{className:"space-y-4",children:[f.jsx("h3",{className:"text-lg font-medium text-[#5A0D45]",children:"Información Personal"}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-[#5A0D45]",children:"DNI *"}),f.jsx("input",{type:"text",name:"dni",value:j.dni,onChange:ce,className:"mt-1 block w-full rounded-md border-[#E0CDD9] shadow-sm focus:border-[#801461] focus:ring-[#801461]",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-[#5A0D45]",children:"Nombres *"}),f.jsx("input",{type:"text",name:"nombres",value:j.nombres,onChange:ce,className:"mt-1 block w-full rounded-md border-[#E0CDD9] shadow-sm focus:border-[#801461] focus:ring-[#801461]",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-[#5A0D45]",children:"Apellido Paterno *"}),f.jsx("input",{type:"text",name:"apellido_paterno",value:j.apellido_paterno,onChange:ce,className:"mt-1 block w-full rounded-md border-[#E0CDD9] shadow-sm focus:border-[#801461] focus:ring-[#801461]",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-[#5A0D45]",children:"Apellido Materno"}),f.jsx("input",{type:"text",name:"apellido_materno",value:j.apellido_materno||"",onChange:ce,className:"mt-1 block w-full rounded-md border-[#E0CDD9] shadow-sm focus:border-[#801461] focus:ring-[#801461]"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-[#5A0D45]",children:"Fecha de Nacimiento "}),f.jsx("input",{type:"date",name:"fecha_nacimiento",value:j.fecha_nacimiento||"",onChange:ce,className:"mt-1 block w-full rounded-md border-[#E0CDD9] shadow-sm focus:border-[#801461] focus:ring-[#801461]"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-[#5A0D45]",children:"Sexo *"}),f.jsxs("select",{name:"sexo",value:j.sexo,onChange:ce,className:"mt-1 block w-full rounded-md border-[#E0CDD9] shadow-sm focus:border-[#801461] focus:ring-[#801461]",required:!0,children:[f.jsx("option",{value:"M",children:"Masculino"}),f.jsx("option",{value:"F",children:"Femenino"}),f.jsx("option",{value:"O",children:"Otro"})]})]})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsx("h3",{className:"text-lg font-medium text-[#5A0D45]",children:"Información de Contacto"}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-[#5A0D45]",children:"Celular"}),f.jsx("input",{type:"tel",name:"celular",value:j.celular||"",onChange:ce,className:"mt-1 block w-full rounded-md border-[#E0CDD9] shadow-sm focus:border-[#801461] focus:ring-[#801461]"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-[#5A0D45]",children:"Teléfono Fijo"}),f.jsx("input",{type:"tel",name:"telefono_fijo",value:j.telefono_fijo||"",onChange:ce,className:"mt-1 block w-full rounded-md border-[#E0CDD9] shadow-sm focus:border-[#801461] focus:ring-[#801461]"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-[#5A0D45]",children:"Correo Electrónico"}),f.jsx("input",{type:"email",name:"correo",value:j.correo||"",onChange:ce,className:"mt-1 block w-full rounded-md border-[#E0CDD9] shadow-sm focus:border-[#801461] focus:ring-[#801461]"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-[#5A0D45]",children:"Ciudad *"}),f.jsxs("select",{name:"ciudad",value:j.ciudad||"",onChange:ce,className:"mt-1 block w-full rounded-md border-[#E0CDD9] shadow-sm focus:border-[#801461] focus:ring-[#801461]",required:!0,children:[f.jsx("option",{value:"",children:"Seleccione una ciudad"}),_.map(P=>f.jsx("option",{value:P,children:P},P))]})]}),j.ciudad==="Lima"?f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-[#5A0D45]",children:"Distrito"}),f.jsxs("select",{name:"distrito",value:j.distrito||"",onChange:ce,className:"mt-1 block w-full rounded-md border-[#E0CDD9] shadow-sm focus:border-[#801461] focus:ring-[#801461]",children:[f.jsx("option",{value:"",children:"Seleccione un distrito"}),k.map(P=>f.jsx("option",{value:P,children:P},P))]})]}):f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-[#5A0D45]",children:j.ciudad?`Distrito de ${j.ciudad}`:"Distrito"}),f.jsx("input",{type:"text",name:"distrito",value:j.distrito||"",onChange:ce,className:"mt-1 block w-full rounded-md border-[#E0CDD9] shadow-sm focus:border-[#801461] focus:ring-[#801461]",disabled:!j.ciudad})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-[#5A0D45]",children:"Dirección"}),f.jsx("input",{type:"text",name:"direccion",value:j.direccion||"",onChange:ce,className:"mt-1 block w-full rounded-md border-[#E0CDD9] shadow-sm focus:border-[#801461] focus:ring-[#801461]"})]})]})]}),f.jsxs("div",{className:"mt-6 space-y-4",children:[f.jsx("h3",{className:"text-lg font-medium text-[#5A0D45]",children:"Información Médica"}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-[#5A0D45]",children:"Grupo Sanguíneo"}),f.jsx("input",{type:"text",name:"grupo_sanguineo",value:j.grupo_sanguineo||"",onChange:ce,className:"mt-1 block w-full rounded-md border-[#E0CDD9] shadow-sm focus:border-[#801461] focus:ring-[#801461]"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-[#5A0D45]",children:"Alergias"}),f.jsx("textarea",{name:"alergias",value:j.alergias||"",onChange:ce,rows:2,className:"mt-1 block w-full rounded-md border-[#E0CDD9] shadow-sm focus:border-[#801461] focus:ring-[#801461]"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-[#5A0D45]",children:"Enfermedades Crónicas"}),f.jsx("textarea",{name:"enfermedades_cronicas",value:j.enfermedades_cronicas||"",onChange:ce,rows:2,className:"mt-1 block w-full rounded-md border-[#E0CDD9] shadow-sm focus:border-[#801461] focus:ring-[#801461]"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-[#5A0D45]",children:"Medicamentos Actuales"}),f.jsx("textarea",{name:"medicamentos_actuales",value:j.medicamentos_actuales||"",onChange:ce,rows:2,className:"mt-1 block w-full rounded-md border-[#E0CDD9] shadow-sm focus:border-[#801461] focus:ring-[#801461]"})]})]})]}),f.jsxs("div",{className:"mt-6 space-y-4",children:[f.jsx("h3",{className:"text-lg font-medium text-[#5A0D45]",children:"Información Adicional"}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-[#5A0D45]",children:"Seguro Médico"}),f.jsx("input",{type:"text",name:"seguro_medico",value:j.seguro_medico||"",onChange:ce,className:"mt-1 block w-full rounded-md border-[#E0CDD9] shadow-sm focus:border-[#801461] focus:ring-[#801461]"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-[#5A0D45]",children:"Estado Civil"}),f.jsxs("select",{name:"estado_civil",value:j.estado_civil||"",onChange:ce,className:"mt-1 block w-full rounded-md border-[#E0CDD9] shadow-sm focus:border-[#801461] focus:ring-[#801461]",children:[f.jsx("option",{value:"",children:"Seleccionar..."}),f.jsx("option",{value:"Soltero",children:"Soltero(a)"}),f.jsx("option",{value:"Casado",children:"Casado(a)"}),f.jsx("option",{value:"Divorciado",children:"Divorciado(a)"}),f.jsx("option",{value:"Viudo",children:"Viudo(a)"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-[#5A0D45]",children:"Ocupación"}),f.jsx("input",{type:"text",name:"ocupacion",value:j.ocupacion||"",onChange:ce,className:"mt-1 block w-full rounded-md border-[#E0CDD9] shadow-sm focus:border-[#801461] focus:ring-[#801461]"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-[#5A0D45]",children:"Referencia"}),f.jsx("input",{type:"text",name:"referencia",value:j.referencia||"",onChange:ce,className:"mt-1 block w-full rounded-md border-[#E0CDD9] shadow-sm focus:border-[#801461] focus:ring-[#801461]"})]}),f.jsxs("div",{className:"md:col-span-2",children:[f.jsx("label",{className:"block text-sm font-medium text-[#5A0D45]",children:"Historial Dental"}),f.jsx("textarea",{name:"historial_dental",value:j.historial_dental||"",onChange:ce,rows:3,className:"mt-1 block w-full rounded-md border-[#E0CDD9] shadow-sm focus:border-[#801461] focus:ring-[#801461]"})]})]})]}),f.jsxs("div",{className:"mt-6 flex justify-end space-x-3 border-t border-[#E0CDD9] pt-4",children:[f.jsx("button",{type:"button",onClick:()=>{o(!1),X()},className:"px-4 py-2 text-sm font-medium text-[#5A0D45] bg-[#F8F5F7] rounded-md hover:bg-[#E0CDD9] transition-colors duration-200",children:"Cancelar"}),f.jsx("button",{type:"submit",disabled:s,className:"px-4 py-2 text-sm font-medium text-white rounded-md bg-[#801461] hover:bg-[#5A0D45] transition-all duration-300 shadow-md disabled:opacity-50 disabled:cursor-not-allowed",children:s?"Guardando...":a?"Actualizar":"Guardar"})]})]})]})}),x&&a&&f.jsx("div",{className:"fixed inset-0 bg-[#801461] bg-opacity-80 flex items-center justify-center p-4 z-50 backdrop-blur-sm",children:f.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl max-h-[90vh] overflow-y-auto border border-[#E0CDD9]",children:[f.jsx("div",{className:"sticky top-0 px-6 py-4 border-b border-[#E0CDD9] bg-gradient-to-r from-[#801461] to-[#5A0D45] z-10",children:f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("h2",{className:"text-lg font-medium text-white",children:"Detalles del Paciente"}),f.jsx("button",{onClick:()=>v(!1),className:"text-white hover:text-[#E0CDD9] transition-colors duration-200",children:f.jsx("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),f.jsxs("div",{className:"p-6",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsxs("div",{className:"space-y-4",children:[f.jsx("h3",{className:"text-lg font-medium text-[#5A0D45]",children:"Información Personal"}),f.jsxs("div",{className:"bg-[#F8F5F7] rounded-lg p-4 space-y-3",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-[#5A0D45]",children:"DNI"}),f.jsx("p",{className:"mt-1 text-sm text-gray-900",children:a.dni||"-"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-[#5A0D45]",children:"Nombres Completos"}),f.jsx("p",{className:"mt-1 text-sm text-gray-900",children:`${a.nombres} ${a.apellido_paterno} ${a.apellido_materno||""}`})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-[#5A0D45]",children:"Fecha de Nacimiento"}),f.jsx("p",{className:"mt-1 text-sm text-gray-900",children:a.fecha_nacimiento?new Date(a.fecha_nacimiento).toLocaleDateString():"-"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-[#5A0D45]",children:"Edad"}),f.jsx("p",{className:"mt-1 text-sm text-gray-900",children:a.fecha_nacimiento?M(a.fecha_nacimiento):"N/A"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-[#5A0D45]",children:"Sexo"}),f.jsx("p",{className:"mt-1 text-sm text-gray-900",children:a.sexo==="M"?"Masculino":a.sexo==="F"?"Femenino":"Otro"})]})]})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsx("h3",{className:"text-lg font-medium text-[#5A0D45]",children:"Información de Contacto"}),f.jsxs("div",{className:"bg-[#F8F5F7] rounded-lg p-4 space-y-3",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-[#5A0D45]",children:"Celular"}),f.jsx("p",{className:"mt-1 text-sm text-gray-900",children:a.celular||"-"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-[#5A0D45]",children:"Teléfono Fijo"}),f.jsx("p",{className:"mt-1 text-sm text-gray-900",children:a.telefono_fijo||"-"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-[#5A0D45]",children:"Correo Electrónico"}),f.jsx("p",{className:"mt-1 text-sm text-gray-900",children:a.correo||"-"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-[#5A0D45]",children:"Dirección"}),f.jsx("p",{className:"mt-1 text-sm text-gray-900",children:a.direccion||"-"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-[#5A0D45]",children:"Ciudad"}),f.jsx("p",{className:"mt-1 text-sm text-gray-900",children:a.ciudad||"-"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-[#5A0D45]",children:"Distrito"}),f.jsx("p",{className:"mt-1 text-sm text-gray-900",children:a.distrito||"-"})]})]})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsx("h3",{className:"text-lg font-medium text-[#5A0D45]",children:"Información Médica"}),f.jsxs("div",{className:"bg-[#F8F5F7] rounded-lg p-4 space-y-3",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-[#5A0D45]",children:"Grupo Sanguíneo"}),f.jsx("p",{className:"mt-1 text-sm text-gray-900",children:a.grupo_sanguineo||"-"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-[#5A0D45]",children:"Alergias"}),f.jsx("p",{className:"mt-1 text-sm text-gray-900",children:a.alergias||"-"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-[#5A0D45]",children:"Enfermedades Crónicas"}),f.jsx("p",{className:"mt-1 text-sm text-gray-900",children:a.enfermedades_cronicas||"-"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-[#5A0D45]",children:"Medicamentos Actuales"}),f.jsx("p",{className:"mt-1 text-sm text-gray-900",children:a.medicamentos_actuales||"-"})]})]})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsx("h3",{className:"text-lg font-medium text-[#5A0D45]",children:"Información Adicional"}),f.jsxs("div",{className:"bg-[#F8F5F7] rounded-lg p-4 space-y-3",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-[#5A0D45]",children:"Seguro Médico"}),f.jsx("p",{className:"mt-1 text-sm text-gray-900",children:a.seguro_medico||"-"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-[#5A0D45]",children:"Estado Civil"}),f.jsx("p",{className:"mt-1 text-sm text-gray-900",children:a.estado_civil||"-"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-[#5A0D45]",children:"Ocupación"}),f.jsx("p",{className:"mt-1 text-sm text-gray-900",children:a.ocupacion||"-"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-[#5A0D45]",children:"Referencia"}),f.jsx("p",{className:"mt-1 text-sm text-gray-900",children:a.referencia||"-"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-[#5A0D45]",children:"Historial Dental"}),f.jsx("p",{className:"mt-1 text-sm text-gray-900",children:a.historial_dental||"-"})]})]})]})]}),f.jsxs("div",{className:"mt-6 flex justify-end space-x-3 border-t border-[#E0CDD9] pt-4",children:[f.jsx("button",{type:"button",onClick:()=>v(!1),className:"px-4 py-2 text-sm font-medium text-[#5A0D45] bg-[#F8F5F7] rounded-md hover:bg-[#E0CDD9] transition-colors duration-200",children:"Cerrar"}),f.jsx("button",{type:"button",onClick:()=>{ve(a),v(!1),o(!0)},className:"px-4 py-2 text-sm font-medium text-white rounded-md bg-[#801461] hover:bg-[#5A0D45] transition-all duration-300 shadow-md",children:"Editar Paciente"})]})]})]})}),f.jsxs("div",{className:"px-4 py-6 mx-auto max-w-7xl sm:px-6 lg:px-8",children:[f.jsx("h3",{className:"text-lg font-medium text-[#5A0D45] mb-6",children:"Análisis de Pacientes"}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[f.jsxs("div",{className:"bg-white p-4 rounded-lg shadow",children:[f.jsx("h4",{className:"text-md font-medium text-[#801461] mb-3",children:"Distribución por Edad"}),f.jsx("div",{className:"h-48",children:f.jsx(V0,{data:{labels:O().map(P=>P.range),datasets:[{label:"Pacientes",data:O().map(P=>P.count),backgroundColor:["rgba(128, 20, 97, 0.7)","rgba(90, 13, 69, 0.7)","rgba(181, 138, 173, 0.7)","rgba(224, 205, 217, 0.7)","rgba(248, 245, 247, 0.7)"],borderColor:["rgba(128, 20, 97, 1)","rgba(90, 13, 69, 1)","rgba(181, 138, 173, 1)","rgba(224, 205, 217, 1)","rgba(248, 245, 247, 1)"],borderWidth:1}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{callbacks:{label:function(P){return`${P.parsed.y} pacientes (${Math.round(P.parsed.y/e.length*100)}%)`}}}},scales:{y:{beginAtZero:!0,ticks:{stepSize:1}}}}})}),f.jsx("div",{className:"mt-4 grid grid-cols-3 gap-2 text-xs",children:O().map(P=>f.jsxs("div",{className:"flex items-center",children:[f.jsx("span",{className:"inline-block w-3 h-3 mr-1",style:{backgroundColor:"rgba(128, 20, 97, ${0.3 + 0.7 * (group.count / Math.max(...getAgeGroups().map(g => g.count))})"}}),f.jsxs("span",{children:[P.range,":"]}),f.jsx("span",{className:"font-medium",children:P.count})]},P.range))})]}),f.jsxs("div",{className:"bg-white p-4 rounded-lg shadow",children:[f.jsx("h4",{className:"text-md font-medium text-[#801461] mb-3",children:"Distribución por Ciudad"}),f.jsx("div",{className:"h-48",children:f.jsx(G0,{data:{labels:q().map(P=>P.name),datasets:[{data:q().map(P=>P.count),backgroundColor:["rgba(128, 20, 97, 0.7)","rgba(90, 13, 69, 0.7)","rgba(181, 138, 173, 0.7)","rgba(224, 205, 217, 0.7)","rgba(248, 245, 247, 0.7)","rgba(157, 28, 122, 0.7)","rgba(104, 16, 79, 0.7)"],borderColor:"#fff",borderWidth:1}]},options:{responsive:!0,maintainAspectRatio:!1,cutout:"60%",plugins:{legend:{position:"right",labels:{boxWidth:12,padding:16}},tooltip:{callbacks:{label:function(P){const Y=P.label||"",L=P.raw||0,he=Math.round(L/e.length*100);return`${Y}: ${L} (${he}%)`}}}}}})})]}),f.jsxs("div",{className:"bg-white p-4 rounded-lg shadow",children:[f.jsx("h4",{className:"text-md font-medium text-[#801461] mb-3",children:"Distribución por Distrito"}),f.jsx("div",{className:"h-48",children:f.jsx(V0,{data:{labels:A().map(P=>P.name),datasets:[{label:"Pacientes",data:A().map(P=>P.count),backgroundColor:["rgba(128, 20, 97, 0.7)","rgba(90, 13, 69, 0.7)","rgba(181, 138, 173, 0.7)","rgba(224, 205, 217, 0.7)","rgba(248, 245, 247, 0.7)","rgba(157, 28, 122, 0.7)","rgba(104, 16, 79, 0.7)"],borderColor:["rgba(128, 20, 97, 1)","rgba(90, 13, 69, 1)","rgba(181, 138, 173, 1)","rgba(224, 205, 217, 1)","rgba(248, 245, 247, 1)","rgba(157, 28, 122, 1)","rgba(104, 16, 79, 1)"],borderWidth:1,borderRadius:4,borderSkipped:!1}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{callbacks:{label:function(P){const Y=P.label||"",L=P.parsed.y||0,he=Math.round(L/e.length*100);return`${Y}: ${L} paciente${L!==1?"s":""} (${he}%)`}},displayColors:!0,backgroundColor:"rgba(0, 0, 0, 0.7)",titleFont:{size:12},bodyFont:{size:12}}},scales:{y:{beginAtZero:!0,ticks:{stepSize:1,precision:0},grid:{display:!0,color:"rgba(0, 0, 0, 0.05)"}},x:{ticks:{autoSkip:!0,maxRotation:45,minRotation:45,font:{size:10}},grid:{display:!1}}}}})})]}),f.jsxs("div",{className:"bg-white p-4 rounded-lg shadow",children:[f.jsx("h4",{className:"text-md font-medium text-[#801461] mb-2",children:"Distribución por Sexo"}),f.jsx("div",{className:"h-48",children:f.jsx(G0,{data:{labels:T().map(P=>P.type==="M"?"Masculino":P.type==="F"?"Femenino":"Otro"),datasets:[{label:"Pacientes",data:T().map(P=>P.count),backgroundColor:["rgba(128, 20, 97, 0.7)","rgba(90, 13, 69, 0.7)","rgba(181, 138, 173, 0.7)"],borderColor:["rgba(255, 255, 255, 1)"],borderWidth:2}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom",labels:{font:{size:12}}},tooltip:{callbacks:{label:function(P){const Y=T().reduce((Ue,St)=>Ue+St.count,0),L=P.raw,he=(L/Y*100).toFixed(1);return`${L} pacientes (${he}%)`}}}}}})}),f.jsx("div",{className:"mt-4 flex justify-center space-x-2 text-xs",children:T().map(P=>f.jsxs("div",{className:"flex items-center",children:[f.jsx("span",{className:"inline-block w-3 h-3 mr-1 rounded-full",style:{backgroundColor:P.type==="M"?"rgba(128, 20, 97, 0.7)":P.type==="F"?"rgba(90, 13, 69, 0.7)":"rgba(181, 138, 173, 0.7)"}}),f.jsxs("span",{children:[P.type==="M"?"Masculino":P.type==="F"?"Femenino":"Otro",":"]}),f.jsx("span",{className:"ml-1 font-medium",children:P.count})]},P.type))})]})]})]})]})},q_=({activeTab:t})=>{const[e,n]=D.useState([]),[s,r]=D.useState([]),[i,o]=D.useState(!1),[a,l]=D.useState(!1),[u,d]=D.useState(null),[p,g]=D.useState(!0),[x,v]=D.useState(""),[k,S]=D.useState(!1),[_,b]=D.useState(""),[j,E]=D.useState(""),[M,O]=D.useState(""),[A,T]=D.useState(""),[q,z]=D.useState(""),[se,ae]=D.useState(""),[fe,ce]=D.useState(!0);D.useEffect(()=>{t==="doctores"&&pe()},[t]),D.useEffect(()=>{let B=e;k||(B=B.filter(ie=>ie.activo)),x&&(B=B.filter(ie=>{var P;return ie.nombre.toLowerCase().includes(x.toLowerCase())||((P=ie.especialidad)==null?void 0:P.toLowerCase().includes(x.toLowerCase()))})),r(B)},[x,e,k]);const pe=async()=>{try{g(!0);const{data:B,error:ie}=await Oe.from("medicos").select("*").order("nombre",{ascending:!0});if(ie)throw ie;n(B||[])}catch(B){console.error("Error fetching doctors:",B),ue.error("Error al cargar los médicos")}finally{g(!1)}},me=()=>{d(null),b(""),E(""),O(""),T(""),z(""),ae(""),ce(!0)},ve=B=>{var ie;d(B),b(B.nombre),E(B.especialidad||""),O(B.telefono||""),T(B.correo||""),z(B.fecha_ingreso||""),ae(((ie=B.porcentaje_comision)==null?void 0:ie.toString())||""),ce(B.activo),o(!0)},G=async()=>{try{const B={nombre:_,especialidad:j||null,telefono:M||null,correo:A||null,fecha_ingreso:q||null,porcentaje_comision:se?parseFloat(se):null,activo:fe};let ie;if(u){const{error:P}=await Oe.from("medicos").update(B).eq("id",u.id);ie=P}else{const{error:P}=await Oe.from("medicos").insert([B]);ie=P}if(ie)throw ie;ue.success(u?"Médico actualizado exitosamente":"Médico agregado exitosamente"),o(!1),me(),pe()}catch(B){console.error("Error saving doctor:",B),ue.error("Error al guardar el médico")}},X=async B=>{if(window.confirm("¿Está seguro de que desea eliminar este médico?"))try{const{error:ie}=await Oe.from("medicos").delete().eq("id",B);if(ie)throw ie;ue.success("Médico eliminado exitosamente"),pe()}catch(ie){console.error("Error deleting doctor:",ie),ue.error("Error al eliminar el médico")}},te=B=>{d(B),l(!0)};return f.jsxs("div",{className:"bg-gray-50 rounded-lg shadow-md overflow-hidden transition-all duration-300",children:[f.jsx("div",{className:"bg-gradient-to-r from-[#801461] to-[#5A0D45] p-6 text-white",children:f.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center space-y-4 sm:space-y-0",children:[f.jsxs("div",{className:"flex items-center",children:[f.jsx("h2",{className:"text-xl font-bold",children:"Gestión de Doctores"}),f.jsxs("div",{className:"ml-4 relative",children:[f.jsx("input",{type:"text",placeholder:"Buscar médicos...",value:x,onChange:B=>v(B.target.value),className:"px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-[#B58AAD] focus:border-[#801461] text-sm transition-colors duration-200 text-gray-900"}),x&&f.jsx("button",{onClick:()=>v(""),className:"absolute right-2 top-2.5 text-gray-400 hover:text-gray-600",children:f.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),f.jsxs("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-2 w-full sm:w-auto",children:[f.jsxs("button",{onClick:()=>S(!k),className:`px-4 py-2 text-sm font-medium rounded-md flex items-center transition-colors duration-200 ${k?"bg-white text-[#801461] hover:bg-gray-100":"bg-[#F0E6ED] text-[#801461] hover:bg-[#E0CDD9]"}`,children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4h13M3 8h9m-9 4h6m4 0l4-4m0 0l4 4m-4-4v12"})}),k?"Mostrar Solo Activos":"Mostrar Todos"]}),f.jsxs("button",{onClick:()=>{me(),o(!0)},className:"px-4 py-2 text-sm font-medium text-white rounded-md bg-[#9D1C7A] hover:bg-[#801461] transition-all duration-300 shadow-md flex items-center justify-center",children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Nuevo Médico"]})]})]})}),f.jsx("div",{className:"overflow-x-auto bg-white rounded-b-lg",children:f.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[f.jsx("thead",{className:"bg-[#F8F5F7]",children:f.jsxs("tr",{children:[f.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-[#801461] uppercase tracking-wider",children:"Nombre"}),f.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-[#801461] uppercase tracking-wider hidden sm:table-cell",children:"Especialidad"}),f.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-[#801461] uppercase tracking-wider hidden md:table-cell",children:"Teléfono"}),f.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-[#801461] uppercase tracking-wider hidden lg:table-cell",children:"Correo"}),f.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-[#801461] uppercase tracking-wider hidden md:table-cell",children:"Comisión"}),f.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-[#801461] uppercase tracking-wider",children:"Estado"}),f.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-[#801461] uppercase tracking-wider",children:"Acciones"})]})}),f.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:p?f.jsx("tr",{children:f.jsx("td",{colSpan:7,className:"px-6 py-4 text-center text-sm text-gray-500",children:f.jsxs("div",{className:"flex justify-center items-center",children:[f.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-t-2 border-b-2 border-[#801461] mr-2"}),"Cargando médicos..."]})})}):s.length===0?f.jsx("tr",{children:f.jsx("td",{colSpan:7,className:"px-6 py-4 text-center text-sm text-gray-500",children:f.jsxs("div",{className:"flex flex-col items-center justify-center py-6",children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 text-[#B58AAD] mb-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),f.jsx("p",{className:"text-[#5A0D45]",children:"No se encontraron médicos"}),f.jsx("button",{onClick:()=>{me(),o(!0)},className:"mt-2 text-sm text-[#801461] hover:text-[#5A0D45] font-medium underline",children:"Agregar nuevo médico"})]})})}):s.map(B=>f.jsxs("tr",{onClick:()=>te(B),className:"hover:bg-[#F8F5F7] cursor-pointer transition-colors duration-150",children:[f.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:f.jsx("div",{className:"text-sm font-medium text-gray-900",children:B.nombre})}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap hidden sm:table-cell",children:f.jsx("div",{className:"text-sm text-gray-900",children:B.especialidad||"-"})}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap hidden md:table-cell",children:f.jsx("div",{className:"text-sm text-gray-900",children:B.telefono||"-"})}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap hidden lg:table-cell",children:f.jsx("div",{className:"text-sm text-gray-900",children:B.correo||"-"})}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap hidden md:table-cell",children:f.jsx("div",{className:"text-sm text-gray-900",children:B.porcentaje_comision?`${B.porcentaje_comision}%`:"-"})}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:f.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${B.activo?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:B.activo?"Activo":"Inactivo"})}),f.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[f.jsxs("button",{onClick:ie=>{ie.stopPropagation(),ve(B)},className:"text-[#801461] hover:text-[#5A0D45] mr-4 transition-colors duration-200 inline-flex items-center",children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),f.jsx("span",{className:"hidden sm:inline ml-1",children:"Editar"})]}),f.jsxs("button",{onClick:ie=>{ie.stopPropagation(),X(B.id)},className:"text-[#D94A64] hover:text-[#B53A50] inline-flex items-center",children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),f.jsx("span",{className:"hidden sm:inline ml-1",children:"Eliminar"})]})]})]},B.id))})]})}),i&&f.jsx("div",{className:"fixed inset-0 bg-[#595959] bg-opacity-60 flex items-center justify-center p-4 z-50 backdrop-blur-sm",children:f.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto transform transition-all duration-300 scale-100 border border-[#E0CDD9]",children:[f.jsx("div",{className:"px-6 py-4 border-b border-[#E0CDD9] bg-gradient-to-r from-[#801461] to-[#5A0D45]",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("h3",{className:"text-lg font-medium text-white",children:u?"Editar Médico":"Nuevo Médico"}),f.jsx("button",{onClick:()=>{o(!1),me()},className:"text-white hover:text-[#E0CDD9] transition-colors duration-200",children:f.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),f.jsx("div",{className:"px-6 py-4",children:f.jsxs("form",{onSubmit:B=>{B.preventDefault(),G()},className:"space-y-6",children:[f.jsxs("div",{children:[f.jsxs("h4",{className:"text-sm font-medium text-[#5A0D45] mb-4 flex items-center",children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1 text-[#801461]",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),"Información Básica"]}),f.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"nombre",className:"block text-sm font-medium text-[#5A0D45]",children:"Nombre Completo *"}),f.jsx("input",{type:"text",id:"nombre",value:_,onChange:B=>b(B.target.value),className:"mt-1 block w-full rounded-md border-[#E0CDD9] shadow-sm focus:border-[#801461] focus:ring-[#801461] sm:text-sm transition-colors duration-200",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"especialidad",className:"block text-sm font-medium text-[#5A0D45]",children:"Especialidad"}),f.jsx("input",{type:"text",id:"especialidad",value:j,onChange:B=>E(B.target.value),className:"mt-1 block w-full rounded-md border-[#E0CDD9] shadow-sm focus:border-[#801461] focus:ring-[#801461] sm:text-sm transition-colors duration-200"})]})]})]}),f.jsxs("div",{children:[f.jsxs("h4",{className:"text-sm font-medium text-[#5A0D45] mb-4 flex items-center",children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1 text-[#801461]",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),"Información de Contacto"]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"telefono",className:"block text-sm font-medium text-[#5A0D45]",children:"Teléfono"}),f.jsx("input",{type:"tel",id:"telefono",value:M,onChange:B=>O(B.target.value),className:"mt-1 block w-full rounded-md border-[#E0CDD9] shadow-sm focus:border-[#801461] focus:ring-[#801461] sm:text-sm transition-colors duration-200"})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"correo",className:"block text-sm font-medium text-[#5A0D45]",children:"Correo Electrónico"}),f.jsx("input",{type:"email",id:"correo",value:A,onChange:B=>T(B.target.value),className:"mt-1 block w-full rounded-md border-[#E0CDD9] shadow-sm focus:border-[#801461] focus:ring-[#801461] sm:text-sm transition-colors duration-200"})]})]})]}),f.jsxs("div",{children:[f.jsxs("h4",{className:"text-sm font-medium text-[#5A0D45] mb-4 flex items-center",children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1 text-[#801461]",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Información Adicional"]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"fecha_ingreso",className:"block text-sm font-medium text-[#5A0D45]",children:"Fecha de Ingreso"}),f.jsx("input",{type:"date",id:"fecha_ingreso",value:q,onChange:B=>z(B.target.value),className:"mt-1 block w-full rounded-md border-[#E0CDD9] shadow-sm focus:border-[#801461] focus:ring-[#801461] sm:text-sm transition-colors duration-200"})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"porcentaje_comision",className:"block text-sm font-medium text-[#5A0D45]",children:"Porcentaje de Comisión (%)"}),f.jsx("input",{type:"number",id:"porcentaje_comision",value:se,onChange:B=>ae(B.target.value),min:"0",max:"100",step:"0.01",className:"mt-1 block w-full rounded-md border-[#E0CDD9] shadow-sm focus:border-[#801461] focus:ring-[#801461] sm:text-sm transition-colors duration-200"})]})]})]}),f.jsxs("div",{className:"flex items-center",children:[f.jsx("input",{id:"activo",name:"activo",type:"checkbox",checked:fe,onChange:B=>ce(B.target.checked),className:"h-4 w-4 text-[#801461] focus:ring-[#5A0D45] border-gray-300 rounded"}),f.jsx("label",{htmlFor:"activo",className:"ml-2 block text-sm text-[#5A0D45]",children:"Activo"})]}),f.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-[#E0CDD9]",children:[f.jsx("button",{type:"button",onClick:()=>{o(!1),me()},className:"px-4 py-2 text-sm font-medium text-[#5A0D45] bg-[#F8F5F7] rounded-md hover:bg-[#E0CDD9] transition-colors duration-200",children:"Cancelar"}),f.jsx("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white rounded-md bg-[#801461] hover:bg-[#5A0D45] transition-all duration-300 transform hover:scale-105 shadow-md",children:"Guardar"})]})]})})]})}),a&&u&&f.jsx("div",{className:"fixed inset-0 bg-[#595959] bg-opacity-80 flex items-center justify-center p-4 z-50 backdrop-blur-sm",children:f.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full transform transition-all duration-300 scale-100 border border-[#E0CDD9]",children:[f.jsx("div",{className:"px-6 py-4 border-b border-[#E0CDD9] bg-gradient-to-r from-[#801461] to-[#5A0D45]",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("h3",{className:"text-lg font-medium text-white",children:"Detalles del Médico"}),f.jsx("button",{onClick:()=>l(!1),className:"text-white hover:text-[#E0CDD9] transition-colors duration-200",children:f.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),f.jsxs("div",{className:"px-6 py-4",children:[f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{children:[f.jsxs("h4",{className:"text-sm font-medium text-[#5A0D45] mb-4 flex items-center",children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1 text-[#801461]",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),"Información Básica"]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 bg-[#F8F5F7] p-4 rounded-lg border border-[#E0CDD9]",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-medium text-[#801461]",children:"Nombre"}),f.jsx("p",{className:"mt-1 text-sm text-gray-900",children:u.nombre})]}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-medium text-[#801461]",children:"Especialidad"}),f.jsx("p",{className:"mt-1 text-sm text-gray-900",children:u.especialidad||"-"})]})]})]}),f.jsxs("div",{children:[f.jsxs("h4",{className:"text-sm font-medium text-[#5A0D45] mb-4 flex items-center",children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1 text-[#801461]",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),"Información de Contacto"]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 bg-[#F8F5F7] p-4 rounded-lg border border-[#E0CDD9]",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-medium text-[#801461]",children:"Teléfono"}),f.jsx("p",{className:"mt-1 text-sm text-gray-900",children:u.telefono||"-"})]}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-medium text-[#801461]",children:"Correo Electrónico"}),f.jsx("p",{className:"mt-1 text-sm text-gray-900",children:u.correo||"-"})]})]})]}),f.jsxs("div",{children:[f.jsxs("h4",{className:"text-sm font-medium text-[#5A0D45] mb-4 flex items-center",children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1 text-[#801461]",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Información Adicional"]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 bg-[#F8F5F7] p-4 rounded-lg border border-[#E0CDD9]",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-medium text-[#801461]",children:"Fecha de Ingreso"}),f.jsx("p",{className:"mt-1 text-sm text-gray-900",children:u.fecha_ingreso||"-"})]}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-medium text-[#801461]",children:"Porcentaje de Comisión"}),f.jsx("p",{className:"mt-1 text-sm text-gray-900",children:u.porcentaje_comision?`${u.porcentaje_comision}%`:"-"})]}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-medium text-[#801461]",children:"Estado"}),f.jsx("p",{className:"mt-1 text-sm",children:f.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${u.activo?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:u.activo?"Activo":"Inactivo"})})]})]})]})]}),f.jsxs("div",{className:"mt-6 flex justify-end space-x-3 pt-4 border-t border-[#E0CDD9]",children:[f.jsx("button",{onClick:()=>l(!1),className:"px-4 py-2 text-sm font-medium text-[#5A0D45] bg-[#F8F5F7] rounded-md hover:bg-[#E0CDD9] transition-colors duration-200",children:"Cerrar"}),f.jsx("button",{onClick:()=>{l(!1),ve(u)},className:"px-4 py-2 text-sm font-medium text-white rounded-md bg-[#801461] hover:bg-[#5A0D45] transition-all duration-300 transform hover:scale-105 shadow-md",children:"Editar"})]})]})]})})]})},Ed="#801461",OO="#5A0D45";function AO({user:t}){const[e,n]=D.useState("caja"),[s,r]=D.useState(new Date),[i,o]=D.useState(!1);gv(),D.useEffect(()=>{const d=setInterval(()=>{r(new Date)},6e4);return()=>clearInterval(d)},[]);const a=async()=>{try{const{error:d}=await Oe.auth.signOut();if(d)throw d}catch(d){console.error("Error signing out:",d)}};if(!t)return f.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-[#F0E6ED] via-white to-[#F8F5F7]",children:f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-4 border-b-4 border-[#801461]"})});const l=({tabId:d,label:p,icon:g})=>f.jsxs("button",{onClick:()=>n(d),className:`flex items-center whitespace-nowrap py-4 px-4 sm:px-6 border-b-2 font-medium text-sm transition-all duration-300 transform hover:-translate-y-0.5 ${e===d?`border-[${Ed}] text-[${Ed}] shadow-inner bg-white`:`border-transparent text-gray-500 hover:text-[${OO}] hover:border-gray-300`}`,children:[g,f.jsx("span",{className:"ml-2",children:p})]}),u=()=>{switch(e){case"caja":return f.jsx(V_,{user:t});case"pacientes":return f.jsx(G_,{user:t});case"doctores":return f.jsx(q_,{user:t});default:return null}};return f.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-[#F8F5F7] to-white",children:[f.jsxs("nav",{className:"bg-gradient-to-r from-[#801461] to-[#5A0D45] shadow-lg sticky top-0 z-40",children:[f.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:f.jsxs("div",{className:"flex justify-between h-16",children:[f.jsxs("div",{className:"flex items-center",children:[f.jsx("div",{className:"p-1 bg-white rounded-full",children:f.jsx(U_,{className:"h-8 w-8",stroke:Ed})}),f.jsx("span",{className:"ml-3 text-xl font-bold text-white hidden md:block",children:"Andrew's Dental Group"}),f.jsx("span",{className:"ml-3 text-xl font-bold text-white md:hidden",children:"ADG"})]}),f.jsx("div",{className:"flex md:hidden items-center",children:f.jsxs("button",{onClick:()=>o(!i),className:"inline-flex items-center justify-center p-2 rounded-md text-white hover:text-white hover:bg-[#9D1C7A] focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white",children:[f.jsx("span",{className:"sr-only",children:"Abrir menu"}),i?f.jsx("svg",{className:"block h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})}):f.jsx("svg",{className:"block h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"})})]})}),f.jsxs("div",{className:"hidden md:flex items-center justify-end w-full px-6 py-2 space-x-6 text-white",children:[f.jsxs("div",{className:"text-right",children:[f.jsxs("p",{className:"text-sm font-semibold",children:["Bienvenido!! ",f.jsx("span",{className:"font-normal",children:t==null?void 0:t.nombre})]}),f.jsxs("p",{className:"text-xs opacity-80",children:[new Date().toLocaleDateString("es-ES",{day:"2-digit",month:"short",year:"numeric"})," · ",s.toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"})]})]}),f.jsxs("button",{onClick:a,className:"flex items-center gap-1 px-3 py-1.5 text-sm font-medium text-[#801461] bg-white rounded-md hover:bg-[#F0E6ED] transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-offset-1 focus:ring-[#801461] transform hover:scale-105 shadow-sm",children:[f.jsx(CO,{className:"w-4 h-4"}),"Cerrar Sesión"]})]})]})}),i&&f.jsx("div",{className:"md:hidden bg-[#6a1152] shadow-lg rounded-b-lg absolute w-full z-30",children:f.jsxs("div",{className:"pt-2 pb-3 space-y-2 px-4",children:[f.jsxs("div",{className:"text-white text-sm py-2 border-b border-[#9D1C7A]",children:[f.jsxs("p",{className:"font-medium",children:[t==null?void 0:t.nombre," ",t==null?void 0:t.apellido]}),f.jsx("p",{className:"text-xs opacity-80",children:s.toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"})})]}),f.jsxs("nav",{className:"flex flex-col space-y-1",children:[f.jsx("button",{onClick:()=>{n("caja"),o(!1)},className:"w-full text-left text-white text-sm px-3 py-2 rounded-md hover:bg-[#801461]",children:"💰 Caja"}),f.jsx("button",{onClick:()=>{n("pacientes"),o(!1)},className:"w-full text-left text-white text-sm px-3 py-2 rounded-md hover:bg-[#801461]",children:"🧍Pacientes"}),f.jsx("button",{onClick:()=>{n("doctores"),o(!1)},className:"w-full text-left text-white text-sm px-3 py-2 rounded-md hover:bg-[#801461]",children:"👨‍⚕️ Doctores"})]}),f.jsx("button",{onClick:a,className:"w-full mt-3 px-4 py-2 text-sm font-medium text-[#801461] rounded-md bg-white hover:bg-[#F0E6ED] transition-colors duration-300",children:"Cerrar Sesión"})]})})]}),f.jsx("div",{className:"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8",children:f.jsxs("div",{className:"bg-white shadow-xl rounded-lg overflow-hidden border border-[#E0CDD9]",children:[f.jsx("div",{className:"border-b border-gray-200 bg-[#F8F5F7]",children:f.jsx("div",{className:"overflow-x-auto scrollbar-hide",children:f.jsxs("nav",{className:"-mb-px flex justify-center sm:justify-start px-4",children:[f.jsx(l,{tabId:"caja",label:"Caja",icon:f.jsx("span",{children:"💰"})}),f.jsx(l,{tabId:"pacientes",label:"Pacientes",icon:f.jsx("span",{children:"🧍"})}),f.jsx(l,{tabId:"doctores",label:"Doctores",icon:f.jsx("span",{children:"👨‍⚕️"})})]})})}),f.jsx("div",{className:"p-6",children:u()})]})})]})}Qi.register(Er,hp,up,Ma,Da,Zo,Qo,rs,dp,I_);const Md={primary:{50:"#F5E8F2",500:"#4E023B",700:"#2F0125"}};function RO(){const[t,e]=D.useState(null),[n,s]=D.useState(!0),[r,i]=D.useState(null);return D.useEffect(()=>{(async()=>{const{data:{session:l}}=await Oe.auth.getSession();e(l),s(!1)})();const{data:a}=Oe.auth.onAuthStateChange((l,u)=>{e(u),s(!1)});return()=>{a==null||a.subscription.unsubscribe()}},[]),D.useEffect(()=>{(async()=>{var a;if((a=t==null?void 0:t.user)!=null&&a.id)try{const{data:l,error:u}=await Oe.from("users").select("id, nombre, apellido, activo, role").eq("id",t.user.id).single();if(u)throw u;i(l)}catch(l){console.error("Error fetching user data:",l),WM.error("Error al cargar datos del usuario")}})()},[t]),n?f.jsxs("div",{className:"min-h-screen flex items-center justify-center",style:{backgroundColor:Md.primary[50]},children:[f.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4",style:{borderColor:Md.primary[500]}}),f.jsx("p",{className:"ml-4 text-lg font-semibold",style:{color:Md.primary[700]},children:"Cargando..."})]}):f.jsxs(Rj,{children:[f.jsx(UM,{position:"top-center",reverseOrder:!1}),f.jsxs(_v,{children:[f.jsx(Ts,{path:"/login",element:t?f.jsx(bh,{to:"/",replace:!0}):f.jsx(EO,{})}),f.jsx(Ts,{path:"/*",element:t?f.jsx(LO,{user:r}):f.jsx(bh,{to:"/login",replace:!0})})]})]})}const LO=({user:t})=>f.jsxs(_v,{children:[f.jsx(Ts,{path:"/",element:f.jsx(AO,{user:t})}),f.jsx(Ts,{path:"/gestion-doctores",element:f.jsx(q_,{})}),f.jsx(Ts,{path:"/gestion-pacientes",element:f.jsx(G_,{})}),f.jsx(Ts,{path:"/mi-caja",element:f.jsx(V_,{})}),f.jsx(Ts,{path:"*",element:f.jsx(bh,{to:"/",replace:!0})})," "]});ov(document.getElementById("root")).render(f.jsx(D.StrictMode,{children:f.jsx(RO,{})}));export{mk as g};
